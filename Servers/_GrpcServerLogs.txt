2021-11-01 15:32:38.276 -07:00 [DBG] Hosting starting
2021-11-01 15:32:38.393 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:32:38.421 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 15:32:38.434 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 15:32:38.435 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 15:32:38.435 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 15:32:38.436 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 15:32:38.440 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 15:32:38.449 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 15:32:38.451 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 15:32:38.451 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 15:32:38.452 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 15:32:38.461 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 15:32:38.510 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:32:38.514 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 15:32:38.515 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:32:38.521 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 15:32:38.525 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 15:32:38.528 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 15:32:38.530 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 15:32:38.601 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 15:32:38.652 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 15:32:38.654 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 15:32:38.655 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 15:32:38.655 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 15:32:38.656 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 15:32:38.657 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 15:32:38.662 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 15:32:38.669 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 15:32:38.672 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 15:32:38.673 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 15:32:38.673 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 15:32:38.676 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 15:32:38.678 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 15:32:38.680 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 15:32:38.686 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 15:32:38.687 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 15:32:38.923 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 15:32:39.050 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 15:32:39.050 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 15:32:39.053 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:32:39.054 -07:00 [INF] Hosting environment: Development
2021-11-01 15:32:39.056 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 15:32:39.056 -07:00 [DBG] Hosting started
2021-11-01 15:33:01.335 -07:00 [DBG] Connection id "0HMCTGU81H65M" accepted.
2021-11-01 15:33:01.336 -07:00 [DBG] Connection id "0HMCTGU81H65M" started.
2021-11-01 15:33:01.424 -07:00 [DBG] Connection "0HMCTGU81H65M" established using the following protocol: "Tls12"
2021-11-01 15:33:01.465 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:33:01.479 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:33:01.480 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:33:01.481 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:33:01.482 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:33:01.483 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:33:01.502 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:33:01.502 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:33:01.513 -07:00 [VRB] Connection id "0HMCTGU81H65M" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:33:01.529 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:33:01.532 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 15:33:01.533 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:33:01.670 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:33:01.679 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:33:01.681 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:33:01.689 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:33:01.695 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:33:01.783 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:33:01.797 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'protectedScope'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("protectedScope",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 15:33:01.930 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 15:33:01.932 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "DATA" frame for stream ID 1 with length 1120 and flags "NONE"
2021-11-01 15:33:01.933 -07:00 [VRB] Connection id "0HMCTGU81H65M" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:33:01.937 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 410.6172ms
2021-11-01 15:33:01.955 -07:00 [DBG] Connection id "0HMCTGU81H65M", Request id "0HMCTGU81H65M:00000001": started reading request body.
2021-11-01 15:33:01.960 -07:00 [DBG] Connection id "0HMCTGU81H65M", Request id "0HMCTGU81H65M:00000001": done reading request body.
2021-11-01 15:33:02.077 -07:00 [DBG] Connection id "0HMCTGU81H65M" reset.
2021-11-01 15:33:02.092 -07:00 [DBG] Connection id "0HMCTGU81H65M" is closed. The last processed stream ID was 1.
2021-11-01 15:33:02.093 -07:00 [DBG] Connection id "0HMCTGU81H65M" sending FIN because: "The client closed the connection."
2021-11-01 15:33:02.098 -07:00 [DBG] Connection id "0HMCTGU81H65M" stopped.
2021-11-01 15:41:50.140 -07:00 [DBG] Hosting starting
2021-11-01 15:41:50.220 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:41:50.255 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 15:41:50.280 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 15:41:50.281 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 15:41:50.282 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 15:41:50.282 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 15:41:50.290 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 15:41:50.326 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 15:41:50.327 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 15:41:50.327 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 15:41:50.329 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 15:41:50.340 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 15:41:50.439 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:41:50.454 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 15:41:50.456 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:41:50.461 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 15:41:50.466 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 15:41:50.470 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 15:41:50.473 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 15:41:50.608 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 15:41:50.746 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 15:41:50.766 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 15:41:50.783 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 15:41:50.801 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 15:41:50.811 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 15:41:50.817 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 15:41:50.822 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 15:41:50.824 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 15:41:50.825 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 15:41:50.827 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 15:41:50.830 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 15:41:50.831 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 15:41:50.832 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 15:41:50.836 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 15:41:50.841 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 15:41:50.893 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 15:41:51.177 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 15:41:51.304 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 15:41:51.308 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 15:41:51.310 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:41:51.311 -07:00 [INF] Hosting environment: Development
2021-11-01 15:41:51.311 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 15:41:51.312 -07:00 [DBG] Hosting started
2021-11-01 15:42:01.781 -07:00 [DBG] Connection id "0HMCTH393KHOH" accepted.
2021-11-01 15:42:01.782 -07:00 [DBG] Connection id "0HMCTH393KHOH" started.
2021-11-01 15:42:01.867 -07:00 [DBG] Connection "0HMCTH393KHOH" established using the following protocol: "Tls12"
2021-11-01 15:42:01.888 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:42:01.891 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:42:01.892 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:42:01.893 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:42:01.894 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:42:01.896 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:42:01.909 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:42:01.910 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:42:01.910 -07:00 [VRB] Connection id "0HMCTH393KHOH" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:42:01.921 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:42:01.923 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 15:42:01.923 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:42:01.977 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:42:01.983 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:42:01.985 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:42:01.986 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:42:01.987 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:42:02.054 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:42:02.061 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (sub)
2021-11-01 15:42:02.065 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 15:42:02.126 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 15:42:02.131 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "DATA" frame for stream ID 1 with length 1263 and flags "NONE"
2021-11-01 15:42:02.132 -07:00 [VRB] Connection id "0HMCTH393KHOH" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:42:02.136 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 216.1602ms
2021-11-01 15:42:02.146 -07:00 [DBG] Connection id "0HMCTH393KHOH", Request id "0HMCTH393KHOH:00000001": started reading request body.
2021-11-01 15:42:02.146 -07:00 [DBG] Connection id "0HMCTH393KHOH", Request id "0HMCTH393KHOH:00000001": done reading request body.
2021-11-01 15:42:02.259 -07:00 [DBG] Connection id "0HMCTH393KHOH" reset.
2021-11-01 15:42:02.266 -07:00 [DBG] Connection id "0HMCTH393KHOH" is closed. The last processed stream ID was 1.
2021-11-01 15:42:02.267 -07:00 [DBG] Connection id "0HMCTH393KHOH" sending FIN because: "The client closed the connection."
2021-11-01 15:42:02.272 -07:00 [DBG] Connection id "0HMCTH393KHOH" stopped.
2021-11-01 15:44:16.055 -07:00 [DBG] Hosting starting
2021-11-01 15:44:16.127 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:44:16.159 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 15:44:16.181 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 15:44:16.183 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 15:44:16.185 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 15:44:16.186 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 15:44:16.192 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 15:44:16.201 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 15:44:16.202 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 15:44:16.202 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 15:44:16.203 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 15:44:16.211 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 15:44:16.263 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:44:16.271 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 15:44:16.280 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:44:16.285 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 15:44:16.290 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 15:44:16.295 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 15:44:16.296 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 15:44:16.424 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 15:44:16.504 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 15:44:16.506 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 15:44:16.507 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 15:44:16.507 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 15:44:16.508 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 15:44:16.509 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 15:44:16.510 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 15:44:16.511 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 15:44:16.512 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 15:44:16.513 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 15:44:16.514 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 15:44:16.523 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 15:44:16.525 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 15:44:16.526 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 15:44:16.527 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 15:44:16.528 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 15:44:16.708 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 15:44:16.778 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 15:44:16.778 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 15:44:16.781 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:44:16.781 -07:00 [INF] Hosting environment: Development
2021-11-01 15:44:16.782 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 15:44:16.783 -07:00 [DBG] Hosting started
2021-11-01 15:45:52.396 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" accepted.
2021-11-01 15:45:52.419 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" started.
2021-11-01 15:45:52.505 -07:00 [DBG] Connection "0HMCTH5DQU8JI" established using the following protocol: "Tls12"
2021-11-01 15:45:52.531 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:45:52.535 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:45:52.536 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:45:52.537 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:45:52.537 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:45:52.542 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:45:52.555 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:45:52.557 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:45:52.559 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:45:52.579 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:45:52.581 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 15:45:52.581 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:45:52.677 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:45:52.696 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:45:52.710 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:45:52.712 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:45:52.714 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:45:52.771 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:45:52.777 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (sub)
2021-11-01 15:45:52.789 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 15:45:52.791 -07:00 [VRB] Connection id "0HMCTH5DQU8JI" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 15:45:52.794 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 218.3488ms
2021-11-01 15:45:52.802 -07:00 [DBG] Connection id "0HMCTH5DQU8JI", Request id "0HMCTH5DQU8JI:00000001": started reading request body.
2021-11-01 15:45:52.803 -07:00 [DBG] Connection id "0HMCTH5DQU8JI", Request id "0HMCTH5DQU8JI:00000001": done reading request body.
2021-11-01 15:45:52.886 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" reset.
2021-11-01 15:45:52.891 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" is closed. The last processed stream ID was 1.
2021-11-01 15:45:52.891 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" sending FIN because: "The client closed the connection."
2021-11-01 15:45:52.895 -07:00 [DBG] Connection id "0HMCTH5DQU8JI" stopped.
2021-11-01 15:47:03.004 -07:00 [DBG] Hosting starting
2021-11-01 15:47:03.087 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:47:03.131 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 15:47:03.150 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 15:47:03.156 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 15:47:03.158 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 15:47:03.159 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 15:47:03.169 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 15:47:03.180 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 15:47:03.185 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 15:47:03.186 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 15:47:03.190 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 15:47:03.203 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 15:47:03.264 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:47:03.272 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 15:47:03.274 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 15:47:03.289 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 15:47:03.300 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 15:47:03.307 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 15:47:03.313 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 15:47:03.402 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 15:47:03.448 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 15:47:03.451 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 15:47:03.452 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 15:47:03.453 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 15:47:03.456 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 15:47:03.459 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 15:47:03.464 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 15:47:03.467 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 15:47:03.468 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 15:47:03.470 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 15:47:03.471 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 15:47:03.473 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 15:47:03.474 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 15:47:03.476 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 15:47:03.483 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 15:47:03.484 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 15:47:03.901 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 15:47:03.999 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 15:47:03.999 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 15:47:04.002 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:47:04.002 -07:00 [INF] Hosting environment: Development
2021-11-01 15:47:04.003 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 15:47:04.004 -07:00 [DBG] Hosting started
2021-11-01 15:47:15.143 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" accepted.
2021-11-01 15:47:15.145 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" started.
2021-11-01 15:47:15.226 -07:00 [DBG] Connection "0HMCTH66G2SJ9" established using the following protocol: "Tls12"
2021-11-01 15:47:15.255 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:47:15.266 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:47:15.269 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:47:15.273 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:47:15.273 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:47:15.276 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:47:15.300 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:47:15.305 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:47:15.308 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:47:15.317 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:47:15.320 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 15:47:15.321 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:47:15.414 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:47:15.427 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:47:15.430 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:47:15.435 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:47:15.436 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:47:15.533 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:47:15.540 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 15:47:15.557 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 15:47:15.559 -07:00 [VRB] Connection id "0HMCTH66G2SJ9" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 15:47:15.563 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 248.9654ms
2021-11-01 15:47:15.585 -07:00 [DBG] Connection id "0HMCTH66G2SJ9", Request id "0HMCTH66G2SJ9:00000001": started reading request body.
2021-11-01 15:47:15.586 -07:00 [DBG] Connection id "0HMCTH66G2SJ9", Request id "0HMCTH66G2SJ9:00000001": done reading request body.
2021-11-01 15:47:15.697 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" reset.
2021-11-01 15:47:15.720 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" is closed. The last processed stream ID was 1.
2021-11-01 15:47:15.721 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" sending FIN because: "The client closed the connection."
2021-11-01 15:47:15.724 -07:00 [DBG] Connection id "0HMCTH66G2SJ9" stopped.
2021-11-01 15:56:10.512 -07:00 [DBG] Connection id "0HMCTH66G2SJA" accepted.
2021-11-01 15:56:10.537 -07:00 [DBG] Connection id "0HMCTH66G2SJA" started.
2021-11-01 15:56:10.557 -07:00 [DBG] Connection "0HMCTH66G2SJA" established using the following protocol: "Tls12"
2021-11-01 15:56:10.560 -07:00 [VRB] Connection id "0HMCTH66G2SJA" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:56:10.561 -07:00 [VRB] Connection id "0HMCTH66G2SJA" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:56:10.561 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:56:10.562 -07:00 [VRB] Connection id "0HMCTH66G2SJA" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:56:10.562 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:56:10.575 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:56:10.592 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:56:10.593 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:56:10.593 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:56:10.593 -07:00 [VRB] Connection id "0HMCTH66G2SJA" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:56:10.594 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:56:10.601 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:56:10.601 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:56:10.602 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:56:10.605 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:56:10.605 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:56:10.607 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:56:10.607 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 15:56:10.607 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 15:56:10.608 -07:00 [VRB] Connection id "0HMCTH66G2SJA" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 15:56:10.608 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 15.3038ms
2021-11-01 15:56:10.609 -07:00 [DBG] Connection id "0HMCTH66G2SJA", Request id "0HMCTH66G2SJA:00000001": started reading request body.
2021-11-01 15:56:10.611 -07:00 [DBG] Connection id "0HMCTH66G2SJA", Request id "0HMCTH66G2SJA:00000001": done reading request body.
2021-11-01 15:56:10.827 -07:00 [DBG] Connection id "0HMCTH66G2SJA" reset.
2021-11-01 15:56:10.827 -07:00 [DBG] Connection id "0HMCTH66G2SJA" is closed. The last processed stream ID was 1.
2021-11-01 15:56:10.829 -07:00 [DBG] Connection id "0HMCTH66G2SJA" sending FIN because: "The client closed the connection."
2021-11-01 15:56:10.838 -07:00 [DBG] Connection id "0HMCTH66G2SJA" stopped.
2021-11-01 15:57:11.291 -07:00 [DBG] Connection id "0HMCTH66G2SJB" accepted.
2021-11-01 15:57:11.298 -07:00 [DBG] Connection id "0HMCTH66G2SJB" started.
2021-11-01 15:57:11.373 -07:00 [DBG] Connection "0HMCTH66G2SJB" established using the following protocol: "Tls12"
2021-11-01 15:57:11.386 -07:00 [VRB] Connection id "0HMCTH66G2SJB" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 15:57:11.387 -07:00 [VRB] Connection id "0HMCTH66G2SJB" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:57:11.389 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 15:57:11.400 -07:00 [VRB] Connection id "0HMCTH66G2SJB" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:57:11.401 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 15:57:11.402 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 15:57:11.409 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 15:57:11.411 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 15:57:11.411 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 15:57:11.412 -07:00 [VRB] Connection id "0HMCTH66G2SJB" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 15:57:11.413 -07:00 [VRB] All hosts are allowed.
2021-11-01 15:57:11.415 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:57:11.416 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:57:11.417 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:57:11.419 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:57:11.419 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 15:57:11.421 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 15:57:11.422 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 15:57:11.422 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 15:57:11.426 -07:00 [VRB] Connection id "0HMCTH66G2SJB" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 15:57:11.433 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 22.1154ms
2021-11-01 15:57:11.436 -07:00 [DBG] Connection id "0HMCTH66G2SJB", Request id "0HMCTH66G2SJB:00000001": started reading request body.
2021-11-01 15:57:11.437 -07:00 [DBG] Connection id "0HMCTH66G2SJB", Request id "0HMCTH66G2SJB:00000001": done reading request body.
2021-11-01 15:57:11.743 -07:00 [DBG] Connection id "0HMCTH66G2SJB" reset.
2021-11-01 15:57:11.744 -07:00 [DBG] Connection id "0HMCTH66G2SJB" is closed. The last processed stream ID was 1.
2021-11-01 15:57:11.746 -07:00 [DBG] Connection id "0HMCTH66G2SJB" sending FIN because: "The client closed the connection."
2021-11-01 15:57:11.760 -07:00 [DBG] Connection id "0HMCTH66G2SJB" stopped.
2021-11-01 16:00:15.285 -07:00 [DBG] Connection id "0HMCTH66G2SJC" accepted.
2021-11-01 16:00:15.303 -07:00 [DBG] Connection id "0HMCTH66G2SJC" started.
2021-11-01 16:00:15.333 -07:00 [DBG] Connection "0HMCTH66G2SJC" established using the following protocol: "Tls12"
2021-11-01 16:00:15.337 -07:00 [VRB] Connection id "0HMCTH66G2SJC" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:00:15.338 -07:00 [VRB] Connection id "0HMCTH66G2SJC" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:00:15.338 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:00:15.339 -07:00 [VRB] Connection id "0HMCTH66G2SJC" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:00:15.340 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:00:15.342 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:00:15.356 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "HEADERS" frame for stream ID 1 with length 202 and flags "END_HEADERS"
2021-11-01 16:00:15.357 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:00:15.357 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:00:15.357 -07:00 [VRB] Connection id "0HMCTH66G2SJC" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:00:15.359 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:00:15.361 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:00:15.363 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:00:15.368 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:00:15.370 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:00:15.370 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:00:15.371 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 16:00:15.372 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 16:00:15.373 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 16:00:15.373 -07:00 [VRB] Connection id "0HMCTH66G2SJC" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 16:00:15.374 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 17.4281ms
2021-11-01 16:00:15.378 -07:00 [DBG] Connection id "0HMCTH66G2SJC", Request id "0HMCTH66G2SJC:00000001": started reading request body.
2021-11-01 16:00:15.382 -07:00 [DBG] Connection id "0HMCTH66G2SJC", Request id "0HMCTH66G2SJC:00000001": done reading request body.
2021-11-01 16:00:15.594 -07:00 [DBG] Connection id "0HMCTH66G2SJC" reset.
2021-11-01 16:00:15.596 -07:00 [DBG] Connection id "0HMCTH66G2SJC" is closed. The last processed stream ID was 1.
2021-11-01 16:00:15.598 -07:00 [DBG] Connection id "0HMCTH66G2SJC" sending FIN because: "The client closed the connection."
2021-11-01 16:00:15.610 -07:00 [DBG] Connection id "0HMCTH66G2SJC" stopped.
2021-11-01 16:06:10.795 -07:00 [DBG] Connection id "0HMCTH66G2SJD" accepted.
2021-11-01 16:06:10.803 -07:00 [DBG] Connection id "0HMCTH66G2SJD" started.
2021-11-01 16:06:10.839 -07:00 [DBG] Connection "0HMCTH66G2SJD" established using the following protocol: "Tls12"
2021-11-01 16:06:10.851 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:06:10.863 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:06:10.864 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:06:10.865 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:06:10.866 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:06:10.867 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "HEADERS" frame for stream ID 1 with length 235 and flags "END_HEADERS"
2021-11-01 16:06:10.869 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:06:10.869 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:06:10.873 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:06:10.874 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:10.875 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:10.876 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:10.878 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:06:10.883 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:10.885 -07:00 [VRB] Connection id "0HMCTH66G2SJD" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:06:10.886 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:10.889 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Jwt'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Jwt",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:06:10.947 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 16:06:10.948 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "DATA" frame for stream ID 1 with length 1111 and flags "NONE"
2021-11-01 16:06:10.948 -07:00 [VRB] Connection id "0HMCTH66G2SJD" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:06:10.949 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 79.5823ms
2021-11-01 16:06:10.950 -07:00 [DBG] Connection id "0HMCTH66G2SJD", Request id "0HMCTH66G2SJD:00000001": started reading request body.
2021-11-01 16:06:10.950 -07:00 [DBG] Connection id "0HMCTH66G2SJD", Request id "0HMCTH66G2SJD:00000001": done reading request body.
2021-11-01 16:06:11.161 -07:00 [DBG] Connection id "0HMCTH66G2SJD" reset.
2021-11-01 16:06:11.161 -07:00 [DBG] Connection id "0HMCTH66G2SJD" is closed. The last processed stream ID was 1.
2021-11-01 16:06:11.163 -07:00 [DBG] Connection id "0HMCTH66G2SJD" sending FIN because: "The client closed the connection."
2021-11-01 16:06:11.174 -07:00 [DBG] Connection id "0HMCTH66G2SJD" stopped.
2021-11-01 16:06:52.859 -07:00 [DBG] Connection id "0HMCTH66G2SJE" accepted.
2021-11-01 16:06:52.879 -07:00 [DBG] Connection id "0HMCTH66G2SJE" started.
2021-11-01 16:06:52.898 -07:00 [DBG] Connection "0HMCTH66G2SJE" established using the following protocol: "Tls12"
2021-11-01 16:06:52.914 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:06:52.915 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:06:52.919 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:06:52.920 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:06:52.921 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:06:52.949 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "HEADERS" frame for stream ID 1 with length 235 and flags "END_HEADERS"
2021-11-01 16:06:52.952 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:06:52.952 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:06:52.952 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:06:52.954 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:06:52.955 -07:00 [VRB] Connection id "0HMCTH66G2SJE" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:06:52.956 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:52.961 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:52.964 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:52.968 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:52.971 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:06:52.973 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Jwt'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Jwt",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:06:52.978 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 16:06:52.978 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "DATA" frame for stream ID 1 with length 1111 and flags "NONE"
2021-11-01 16:06:52.982 -07:00 [VRB] Connection id "0HMCTH66G2SJE" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:06:52.983 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 31.5519ms
2021-11-01 16:06:52.985 -07:00 [DBG] Connection id "0HMCTH66G2SJE", Request id "0HMCTH66G2SJE:00000001": started reading request body.
2021-11-01 16:06:52.987 -07:00 [DBG] Connection id "0HMCTH66G2SJE", Request id "0HMCTH66G2SJE:00000001": done reading request body.
2021-11-01 16:06:53.088 -07:00 [DBG] Connection id "0HMCTH66G2SJE" reset.
2021-11-01 16:06:53.091 -07:00 [DBG] Connection id "0HMCTH66G2SJE" is closed. The last processed stream ID was 1.
2021-11-01 16:06:53.091 -07:00 [DBG] Connection id "0HMCTH66G2SJE" sending FIN because: "The client closed the connection."
2021-11-01 16:06:53.092 -07:00 [DBG] Connection id "0HMCTH66G2SJE" stopped.
2021-11-01 16:42:32.142 -07:00 [DBG] Hosting starting
2021-11-01 16:42:32.218 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 16:42:32.259 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 16:42:32.280 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 16:42:32.281 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 16:42:32.281 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 16:42:32.282 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 16:42:32.288 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 16:42:32.296 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 16:42:32.298 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 16:42:32.298 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 16:42:32.299 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 16:42:32.314 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 16:42:32.377 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:42:32.381 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 16:42:32.383 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:42:32.387 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 16:42:32.390 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 16:42:32.393 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 16:42:32.394 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 16:42:32.452 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 16:42:32.493 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 16:42:32.495 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 16:42:32.496 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 16:42:32.497 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 16:42:32.498 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 16:42:32.499 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 16:42:32.500 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 16:42:32.501 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 16:42:32.502 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 16:42:32.504 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 16:42:32.504 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 16:42:32.510 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 16:42:32.511 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 16:42:32.513 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 16:42:32.515 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 16:42:32.516 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 16:42:32.697 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 16:42:32.772 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 16:42:32.772 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 16:42:32.774 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 16:42:32.774 -07:00 [INF] Hosting environment: Development
2021-11-01 16:42:32.775 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 16:42:32.775 -07:00 [DBG] Hosting started
2021-11-01 16:42:41.082 -07:00 [DBG] Connection id "0HMCTI55MN17C" accepted.
2021-11-01 16:42:41.083 -07:00 [DBG] Connection id "0HMCTI55MN17C" started.
2021-11-01 16:42:41.158 -07:00 [DBG] Connection "0HMCTI55MN17C" established using the following protocol: "Tls12"
2021-11-01 16:42:41.188 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:42:41.192 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:42:41.196 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:42:41.200 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:42:41.200 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:42:41.202 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "HEADERS" frame for stream ID 1 with length 235 and flags "END_HEADERS"
2021-11-01 16:42:41.220 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:42:41.221 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:42:41.223 -07:00 [VRB] Connection id "0HMCTI55MN17C" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:42:41.234 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:42:41.237 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 16:42:41.238 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:42:41.316 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:42:41.321 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:42:41.324 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:42:41.325 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:42:41.326 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:42:41.405 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Jwt'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Jwt",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:42:41.467 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 16:42:41.468 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "DATA" frame for stream ID 1 with length 1111 and flags "NONE"
2021-11-01 16:42:41.469 -07:00 [VRB] Connection id "0HMCTI55MN17C" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:42:41.473 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 241.4985ms
2021-11-01 16:42:41.502 -07:00 [DBG] Connection id "0HMCTI55MN17C", Request id "0HMCTI55MN17C:00000001": started reading request body.
2021-11-01 16:42:41.504 -07:00 [DBG] Connection id "0HMCTI55MN17C", Request id "0HMCTI55MN17C:00000001": done reading request body.
2021-11-01 16:42:42.119 -07:00 [DBG] Connection id "0HMCTI55MN17C" reset.
2021-11-01 16:42:42.147 -07:00 [DBG] Connection id "0HMCTI55MN17C" is closed. The last processed stream ID was 1.
2021-11-01 16:42:42.147 -07:00 [DBG] Connection id "0HMCTI55MN17C" sending FIN because: "The client closed the connection."
2021-11-01 16:42:42.160 -07:00 [DBG] Connection id "0HMCTI55MN17C" stopped.
2021-11-01 16:54:36.777 -07:00 [DBG] Hosting starting
2021-11-01 16:54:36.870 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 16:54:36.916 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 16:54:36.951 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 16:54:36.954 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 16:54:36.955 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 16:54:36.955 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 16:54:36.964 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 16:54:36.978 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 16:54:36.979 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 16:54:36.979 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 16:54:36.980 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 16:54:36.990 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 16:54:37.068 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:54:37.071 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 16:54:37.073 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:54:37.087 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 16:54:37.093 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 16:54:37.099 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 16:54:37.108 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 16:54:37.430 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 16:54:37.473 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 16:54:37.476 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 16:54:37.477 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 16:54:37.478 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 16:54:37.479 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 16:54:37.485 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 16:54:37.487 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 16:54:37.490 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 16:54:37.495 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 16:54:37.498 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 16:54:37.499 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 16:54:37.501 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 16:54:37.503 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 16:54:37.505 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 16:54:37.509 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 16:54:37.513 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 16:54:37.678 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 16:54:37.739 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 16:54:37.740 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 16:54:37.742 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 16:54:37.743 -07:00 [INF] Hosting environment: Development
2021-11-01 16:54:37.744 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 16:54:37.745 -07:00 [DBG] Hosting started
2021-11-01 16:54:55.067 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" accepted.
2021-11-01 16:54:55.068 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" started.
2021-11-01 16:54:55.122 -07:00 [DBG] Connection "0HMCTIC0EHBC3" established using the following protocol: "Tls12"
2021-11-01 16:54:55.150 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:54:55.155 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:54:55.155 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:54:55.156 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:54:55.157 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:54:55.159 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-01 16:54:55.171 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:54:55.172 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:54:55.173 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:54:55.189 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:54:55.191 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 16:54:55.191 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:54:55.266 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:54:55.270 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:54:55.272 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:54:55.273 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:54:55.274 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:54:55.333 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Jwt'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Jwt",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:54:55.397 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 16:54:55.399 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "DATA" frame for stream ID 1 with length 2090 and flags "NONE"
2021-11-01 16:54:55.400 -07:00 [VRB] Connection id "0HMCTIC0EHBC3" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:54:55.409 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 223.0298ms
2021-11-01 16:54:55.424 -07:00 [DBG] Connection id "0HMCTIC0EHBC3", Request id "0HMCTIC0EHBC3:00000001": started reading request body.
2021-11-01 16:54:55.425 -07:00 [DBG] Connection id "0HMCTIC0EHBC3", Request id "0HMCTIC0EHBC3:00000001": done reading request body.
2021-11-01 16:54:55.709 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" reset.
2021-11-01 16:54:55.713 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" is closed. The last processed stream ID was 1.
2021-11-01 16:54:55.713 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" sending FIN because: "The client closed the connection."
2021-11-01 16:54:55.719 -07:00 [DBG] Connection id "0HMCTIC0EHBC3" stopped.
2021-11-01 16:55:26.853 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" accepted.
2021-11-01 16:55:26.853 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" started.
2021-11-01 16:55:26.884 -07:00 [DBG] Connection "0HMCTIC0EHBC4" established using the following protocol: "Tls12"
2021-11-01 16:55:26.904 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:55:26.905 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:55:26.905 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:55:26.906 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:55:26.907 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:55:26.918 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "HEADERS" frame for stream ID 1 with length 200 and flags "END_HEADERS"
2021-11-01 16:55:26.920 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:55:26.922 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:55:26.922 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:55:26.929 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:55:26.930 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:55:26.937 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:55:26.939 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:55:26.943 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:55:26.944 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:55:26.945 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:55:26.956 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 16:55:26.964 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 16:55:26.969 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 16:55:26.970 -07:00 [VRB] Connection id "0HMCTIC0EHBC4" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 16:55:26.973 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 51.1615ms
2021-11-01 16:55:26.975 -07:00 [DBG] Connection id "0HMCTIC0EHBC4", Request id "0HMCTIC0EHBC4:00000001": started reading request body.
2021-11-01 16:55:26.976 -07:00 [DBG] Connection id "0HMCTIC0EHBC4", Request id "0HMCTIC0EHBC4:00000001": done reading request body.
2021-11-01 16:55:27.311 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" reset.
2021-11-01 16:55:27.312 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" is closed. The last processed stream ID was 1.
2021-11-01 16:55:27.316 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" sending FIN because: "The client closed the connection."
2021-11-01 16:55:27.330 -07:00 [DBG] Connection id "0HMCTIC0EHBC4" stopped.
2021-11-01 16:57:05.810 -07:00 [DBG] Hosting starting
2021-11-01 16:57:05.915 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 16:57:05.995 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 16:57:06.023 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 16:57:06.035 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 16:57:06.036 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 16:57:06.037 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 16:57:06.042 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 16:57:06.050 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 16:57:06.051 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 16:57:06.051 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 16:57:06.052 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 16:57:06.062 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 16:57:06.115 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:57:06.121 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 16:57:06.123 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:57:06.127 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 16:57:06.131 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 16:57:06.134 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 16:57:06.135 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 16:57:06.285 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 16:57:06.342 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 16:57:06.344 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 16:57:06.345 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 16:57:06.346 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 16:57:06.347 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 16:57:06.348 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 16:57:06.349 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 16:57:06.350 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 16:57:06.351 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 16:57:06.352 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 16:57:06.353 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 16:57:06.354 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 16:57:06.355 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 16:57:06.357 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 16:57:06.358 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 16:57:06.359 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 16:57:06.537 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 16:57:06.607 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 16:57:06.608 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 16:57:06.611 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 16:57:06.612 -07:00 [INF] Hosting environment: Development
2021-11-01 16:57:06.613 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 16:57:06.615 -07:00 [DBG] Hosting started
2021-11-01 16:57:25.126 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" accepted.
2021-11-01 16:57:25.127 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" started.
2021-11-01 16:57:25.211 -07:00 [DBG] Connection "0HMCTIDD5JJCD" established using the following protocol: "Tls12"
2021-11-01 16:57:25.244 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:57:25.249 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:57:25.250 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:57:25.252 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:57:25.253 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:57:25.255 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "HEADERS" frame for stream ID 1 with length 200 and flags "END_HEADERS"
2021-11-01 16:57:25.271 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:57:25.271 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:57:25.273 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:57:25.283 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:57:25.285 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 16:57:25.285 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:57:25.347 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:57:25.351 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:57:25.353 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:57:25.353 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:57:25.354 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:57:25.408 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 16:57:25.413 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=sub
2021-11-01 16:57:25.423 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 16:57:25.424 -07:00 [VRB] Connection id "0HMCTIDD5JJCD" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 16:57:25.428 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 145.8897ms
2021-11-01 16:57:25.437 -07:00 [DBG] Connection id "0HMCTIDD5JJCD", Request id "0HMCTIDD5JJCD:00000001": started reading request body.
2021-11-01 16:57:25.438 -07:00 [DBG] Connection id "0HMCTIDD5JJCD", Request id "0HMCTIDD5JJCD:00000001": done reading request body.
2021-11-01 16:57:25.683 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" reset.
2021-11-01 16:57:25.689 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" is closed. The last processed stream ID was 1.
2021-11-01 16:57:25.690 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" sending FIN because: "The client closed the connection."
2021-11-01 16:57:25.697 -07:00 [DBG] Connection id "0HMCTIDD5JJCD" stopped.
2021-11-01 16:58:27.886 -07:00 [DBG] Hosting starting
2021-11-01 16:58:27.962 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 16:58:27.990 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 16:58:28.005 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 16:58:28.006 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 16:58:28.007 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 16:58:28.007 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 16:58:28.016 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 16:58:28.029 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 16:58:28.029 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 16:58:28.030 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 16:58:28.033 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 16:58:28.045 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 16:58:28.117 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:58:28.124 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 16:58:28.126 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 16:58:28.131 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 16:58:28.142 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 16:58:28.147 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 16:58:28.149 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 16:58:28.274 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 16:58:28.329 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 16:58:28.334 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 16:58:28.336 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 16:58:28.337 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 16:58:28.341 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 16:58:28.343 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 16:58:28.344 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 16:58:28.346 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 16:58:28.347 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 16:58:28.351 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 16:58:28.354 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 16:58:28.357 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 16:58:28.358 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 16:58:28.360 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 16:58:28.361 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 16:58:28.363 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 16:58:28.720 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 16:58:28.795 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 16:58:28.795 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 16:58:28.797 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 16:58:28.798 -07:00 [INF] Hosting environment: Development
2021-11-01 16:58:28.798 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 16:58:28.799 -07:00 [DBG] Hosting started
2021-11-01 16:59:04.600 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" accepted.
2021-11-01 16:59:04.614 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" started.
2021-11-01 16:59:04.726 -07:00 [DBG] Connection "0HMCTIEAQ8GC2" established using the following protocol: "Tls12"
2021-11-01 16:59:04.754 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 16:59:04.759 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:59:04.762 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 16:59:04.763 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:59:04.764 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 16:59:04.766 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "HEADERS" frame for stream ID 1 with length 200 and flags "END_HEADERS"
2021-11-01 16:59:04.785 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 16:59:04.786 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 16:59:04.787 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 16:59:04.810 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 16:59:04.813 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 16:59:04.814 -07:00 [VRB] All hosts are allowed.
2021-11-01 16:59:04.914 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:59:04.925 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:59:04.927 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:59:04.928 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:59:04.929 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 16:59:05.053 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 16:59:05.070 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=Viking.Annotation
2021-11-01 16:59:05.094 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 16:59:05.096 -07:00 [VRB] Connection id "0HMCTIEAQ8GC2" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 16:59:05.100 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 293.6416ms
2021-11-01 16:59:05.137 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2", Request id "0HMCTIEAQ8GC2:00000001": started reading request body.
2021-11-01 16:59:05.146 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2", Request id "0HMCTIEAQ8GC2:00000001": done reading request body.
2021-11-01 16:59:05.259 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" reset.
2021-11-01 16:59:05.273 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" is closed. The last processed stream ID was 1.
2021-11-01 16:59:05.274 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" sending FIN because: "The client closed the connection."
2021-11-01 16:59:05.296 -07:00 [DBG] Connection id "0HMCTIEAQ8GC2" stopped.
2021-11-01 17:02:41.021 -07:00 [DBG] Hosting starting
2021-11-01 17:02:41.139 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:02:41.239 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 17:02:41.275 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 17:02:41.278 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 17:02:41.279 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 17:02:41.280 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 17:02:41.287 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 17:02:41.303 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 17:02:41.303 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 17:02:41.304 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 17:02:41.305 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 17:02:41.318 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 17:02:41.406 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:02:41.411 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 17:02:41.413 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:02:41.417 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 17:02:41.422 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 17:02:41.441 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 17:02:41.450 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 17:02:41.596 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 17:02:41.729 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 17:02:41.742 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 17:02:41.745 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 17:02:41.746 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 17:02:41.748 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 17:02:41.749 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 17:02:41.751 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 17:02:41.753 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 17:02:41.755 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 17:02:41.788 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 17:02:41.807 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 17:02:41.808 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 17:02:41.809 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 17:02:41.812 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 17:02:41.813 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 17:02:41.814 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 17:02:42.129 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 17:02:42.273 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 17:02:42.320 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 17:02:42.322 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:02:42.323 -07:00 [INF] Hosting environment: Development
2021-11-01 17:02:42.323 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 17:02:42.324 -07:00 [DBG] Hosting started
2021-11-01 17:03:32.364 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" accepted.
2021-11-01 17:03:32.428 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" started.
2021-11-01 17:03:32.578 -07:00 [DBG] Connection "0HMCTIGQJRJLK" established using the following protocol: "Tls12"
2021-11-01 17:03:32.667 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 17:03:32.689 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:03:32.696 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 17:03:32.698 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:03:32.699 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:03:32.700 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "HEADERS" frame for stream ID 1 with length 200 and flags "END_HEADERS"
2021-11-01 17:03:32.732 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 17:03:32.744 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 17:03:32.747 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:03:32.782 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 17:03:32.799 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 17:03:32.800 -07:00 [VRB] All hosts are allowed.
2021-11-01 17:03:32.905 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:03:32.913 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:03:32.915 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:03:32.916 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:03:32.917 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:03:33.164 -07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-11-01 17:03:33.174 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-01 17:03:33.194 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 17:03:33.210 -07:00 [VRB] Connection id "0HMCTIGQJRJLK" sending "HEADERS" frame for stream ID 1 with length 61 and flags "END_STREAM, END_HEADERS"
2021-11-01 17:03:33.228 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 467.6493ms
2021-11-01 17:03:33.265 -07:00 [DBG] Connection id "0HMCTIGQJRJLK", Request id "0HMCTIGQJRJLK:00000001": started reading request body.
2021-11-01 17:03:33.268 -07:00 [DBG] Connection id "0HMCTIGQJRJLK", Request id "0HMCTIGQJRJLK:00000001": done reading request body.
2021-11-01 17:03:33.605 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" reset.
2021-11-01 17:03:33.628 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" is closed. The last processed stream ID was 1.
2021-11-01 17:03:33.630 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" sending FIN because: "The client closed the connection."
2021-11-01 17:03:33.639 -07:00 [DBG] Connection id "0HMCTIGQJRJLK" stopped.
2021-11-01 17:04:39.753 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" accepted.
2021-11-01 17:04:39.770 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" started.
2021-11-01 17:04:39.814 -07:00 [DBG] Connection "0HMCTIGQJRJLL" established using the following protocol: "Tls12"
2021-11-01 17:04:39.818 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 17:04:39.819 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:04:39.820 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 17:04:39.821 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:04:39.822 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:04:39.829 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:04:39.864 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-01 17:04:39.865 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 17:04:39.866 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 17:04:39.866 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 17:04:39.867 -07:00 [VRB] All hosts are allowed.
2021-11-01 17:04:39.874 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:04:39.875 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:04:39.877 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:04:39.878 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:04:39.880 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:04:39.891 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Jwt'. The registered schemes are: Introspection, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Jwt",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 17:04:40.003 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "HEADERS" frame for stream ID 1 with length 57 and flags "END_HEADERS"
2021-11-01 17:04:40.004 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "DATA" frame for stream ID 1 with length 2090 and flags "NONE"
2021-11-01 17:04:40.005 -07:00 [VRB] Connection id "0HMCTIGQJRJLL" sending "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 17:04:40.006 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 500 - text/plain 139.9301ms
2021-11-01 17:04:40.006 -07:00 [DBG] Connection id "0HMCTIGQJRJLL", Request id "0HMCTIGQJRJLL:00000001": started reading request body.
2021-11-01 17:04:40.007 -07:00 [DBG] Connection id "0HMCTIGQJRJLL", Request id "0HMCTIGQJRJLL:00000001": done reading request body.
2021-11-01 17:04:40.377 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" reset.
2021-11-01 17:04:40.382 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" is closed. The last processed stream ID was 1.
2021-11-01 17:04:40.386 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" sending FIN because: "The client closed the connection."
2021-11-01 17:04:40.391 -07:00 [DBG] Connection id "0HMCTIGQJRJLL" stopped.
2021-11-01 17:08:03.614 -07:00 [DBG] Hosting starting
2021-11-01 17:08:03.675 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:08:03.703 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 17:08:03.729 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 17:08:03.730 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 17:08:03.730 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 17:08:03.731 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 17:08:03.737 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 17:08:03.743 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 17:08:03.744 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 17:08:03.744 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 17:08:03.745 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 17:08:03.757 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 17:08:03.805 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:08:03.809 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 17:08:03.810 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:08:03.814 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 17:08:03.817 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 17:08:03.821 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 17:08:03.823 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 17:08:03.903 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 17:08:03.973 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 17:08:03.976 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 17:08:03.979 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 17:08:03.980 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 17:08:03.983 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 17:08:03.985 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 17:08:03.988 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 17:08:03.989 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 17:08:03.991 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 17:08:03.997 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 17:08:03.998 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 17:08:04.000 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 17:08:04.002 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 17:08:04.004 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 17:08:04.006 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 17:08:04.011 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 17:08:04.228 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 17:08:04.294 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 17:08:04.294 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 17:08:04.297 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:08:04.298 -07:00 [INF] Hosting environment: Development
2021-11-01 17:08:04.299 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 17:08:04.301 -07:00 [DBG] Hosting started
2021-11-01 17:08:22.002 -07:00 [DBG] Connection id "0HMCTIJGU28HB" accepted.
2021-11-01 17:08:22.014 -07:00 [DBG] Connection id "0HMCTIJGU28HB" started.
2021-11-01 17:08:22.076 -07:00 [DBG] Connection "0HMCTIJGU28HB" established using the following protocol: "Tls12"
2021-11-01 17:08:22.100 -07:00 [VRB] Connection id "0HMCTIJGU28HB" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 17:08:22.104 -07:00 [VRB] Connection id "0HMCTIJGU28HB" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:08:22.105 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 17:08:22.108 -07:00 [VRB] Connection id "0HMCTIJGU28HB" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:08:22.109 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:08:22.111 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-01 17:08:22.127 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 17:08:22.127 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 17:08:22.128 -07:00 [VRB] Connection id "0HMCTIJGU28HB" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:08:22.137 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 17:08:22.140 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 17:08:22.141 -07:00 [VRB] All hosts are allowed.
2021-11-01 17:08:22.198 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.201 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.203 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.204 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.204 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.910 -07:00 [INF] Successfully validated the token.
2021-11-01 17:08:22.912 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-01 17:08:22.924 -07:00 [INF] Authorization was successful.
2021-11-01 17:08:22.926 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:22.944 -07:00 [DBG] Reading message.
2021-11-01 17:08:22.945 -07:00 [DBG] Connection id "0HMCTIJGU28HB", Request id "0HMCTIJGU28HB:00000001": started reading request body.
2021-11-01 17:08:22.947 -07:00 [DBG] Connection id "0HMCTIJGU28HB", Request id "0HMCTIJGU28HB:00000001": done reading request body.
2021-11-01 17:08:22.952 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-01 17:08:22.962 -07:00 [VRB] Received message.
2021-11-01 17:08:23.279 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-01 17:08:50.434 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-01 17:08:51.580 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-01 17:08:51.728 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:08:51.734 -07:00 [VRB] Connection id "0HMCTIJGU28HB" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-01 17:08:51.740 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 29603.9954ms
2021-11-01 17:08:52.063 -07:00 [DBG] Connection id "0HMCTIJGU28HB" reset.
2021-11-01 17:08:52.073 -07:00 [DBG] Connection id "0HMCTIJGU28HB" is closed. The last processed stream ID was 1.
2021-11-01 17:08:52.074 -07:00 [DBG] Connection id "0HMCTIJGU28HB" sending FIN because: "The client closed the connection."
2021-11-01 17:08:52.090 -07:00 [DBG] Connection id "0HMCTIJGU28HB" stopped.
2021-11-01 17:09:14.047 -07:00 [DBG] Hosting starting
2021-11-01 17:09:14.122 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:09:14.154 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-01 17:09:14.170 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-01 17:09:14.171 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-01 17:09:14.171 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-01 17:09:14.172 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-01 17:09:14.181 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-01 17:09:14.191 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-01 17:09:14.194 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-01 17:09:14.195 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-01 17:09:14.196 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-01 17:09:14.206 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-01 17:09:14.272 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:09:14.278 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-01 17:09:14.282 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-01 17:09:14.286 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-01 17:09:14.289 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-01 17:09:14.293 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-01 17:09:14.294 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-01 17:09:14.426 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-01 17:09:14.471 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-01 17:09:14.473 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-01 17:09:14.474 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-01 17:09:14.475 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-01 17:09:14.480 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-01 17:09:14.481 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-01 17:09:14.484 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-01 17:09:14.487 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-01 17:09:14.489 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-01 17:09:14.490 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-01 17:09:14.491 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-01 17:09:14.492 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-01 17:09:14.496 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-01 17:09:14.506 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-01 17:09:14.507 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-01 17:09:14.513 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-01 17:09:14.879 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-01 17:09:14.990 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-01 17:09:14.991 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-01 17:09:14.997 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:09:14.997 -07:00 [INF] Hosting environment: Development
2021-11-01 17:09:14.998 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-01 17:09:14.999 -07:00 [DBG] Hosting started
2021-11-01 17:09:30.911 -07:00 [DBG] Connection id "0HMCTIK5F7AN2" accepted.
2021-11-01 17:09:30.913 -07:00 [DBG] Connection id "0HMCTIK5F7AN2" started.
2021-11-01 17:09:30.980 -07:00 [DBG] Connection "0HMCTIK5F7AN2" established using the following protocol: "Tls12"
2021-11-01 17:09:31.010 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-01 17:09:31.016 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:09:31.018 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-01 17:09:31.021 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:09:31.022 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-01 17:09:31.023 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-01 17:09:31.041 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-01 17:09:31.042 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-01 17:09:31.043 -07:00 [VRB] Connection id "0HMCTIK5F7AN2" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-01 17:09:31.056 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-01 17:09:31.060 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-01 17:09:31.060 -07:00 [VRB] All hosts are allowed.
2021-11-01 17:09:31.140 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.145 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.147 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.150 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.152 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.796 -07:00 [INF] Successfully validated the token.
2021-11-01 17:09:31.799 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-01 17:09:31.806 -07:00 [INF] Authorization was successful.
2021-11-01 17:09:31.807 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-01 17:09:31.820 -07:00 [DBG] Reading message.
2021-11-01 17:09:31.821 -07:00 [DBG] Connection id "0HMCTIK5F7AN2", Request id "0HMCTIK5F7AN2:00000001": started reading request body.
2021-11-01 17:09:31.822 -07:00 [DBG] Connection id "0HMCTIK5F7AN2", Request id "0HMCTIK5F7AN2:00000001": done reading request body.
2021-11-01 17:09:31.824 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-01 17:09:31.835 -07:00 [VRB] Received message.
2021-11-01 17:09:31.956 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 16:59:07.211 -07:00 [DBG] Hosting starting
2021-11-02 16:59:07.479 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 16:59:07.625 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 16:59:07.941 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 16:59:07.956 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 16:59:07.957 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 16:59:07.958 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 16:59:07.965 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 16:59:07.972 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 16:59:07.973 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 16:59:07.973 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 16:59:07.975 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 16:59:07.989 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 16:59:08.057 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 16:59:08.061 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 16:59:08.064 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 16:59:08.077 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 16:59:08.089 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 16:59:08.093 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 16:59:08.094 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 16:59:08.218 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 16:59:08.264 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 16:59:08.265 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 16:59:08.266 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 16:59:08.267 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 16:59:08.268 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 16:59:08.270 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 16:59:08.272 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 16:59:08.273 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 16:59:08.274 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 16:59:08.275 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 16:59:08.276 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 16:59:08.277 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 16:59:08.278 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 16:59:08.280 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 16:59:08.281 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 16:59:08.282 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 16:59:08.423 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 16:59:08.478 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 16:59:08.479 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 16:59:08.481 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 16:59:08.481 -07:00 [INF] Hosting environment: Development
2021-11-02 16:59:08.482 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 16:59:08.482 -07:00 [DBG] Hosting started
2021-11-02 17:00:05.714 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" accepted.
2021-11-02 17:00:05.730 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" started.
2021-11-02 17:00:05.784 -07:00 [DBG] Connection "0HMCUBJI7N5UP" established using the following protocol: "Tls12"
2021-11-02 17:00:05.803 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:00:05.806 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:00:05.806 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:00:05.807 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:00:05.807 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:00:05.809 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:00:05.823 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:00:05.823 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:00:05.824 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:00:05.833 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:00:05.835 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:00:05.835 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:00:05.898 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:00:05.903 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:00:05.905 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:00:05.906 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:00:05.908 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:00:06.709 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:00:06.758 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:00:06.766 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:00:06.775 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:00:06.779 -07:00 [VRB] Connection id "0HMCUBJI7N5UP" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:00:06.785 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 952.8171ms
2021-11-02 17:00:06.796 -07:00 [DBG] Connection id "0HMCUBJI7N5UP", Request id "0HMCUBJI7N5UP:00000001": started reading request body.
2021-11-02 17:00:06.798 -07:00 [DBG] Connection id "0HMCUBJI7N5UP", Request id "0HMCUBJI7N5UP:00000001": done reading request body.
2021-11-02 17:00:07.168 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" reset.
2021-11-02 17:00:07.197 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" is closed. The last processed stream ID was 1.
2021-11-02 17:00:07.198 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" sending FIN because: "The client closed the connection."
2021-11-02 17:00:07.205 -07:00 [DBG] Connection id "0HMCUBJI7N5UP" stopped.
2021-11-02 17:01:57.446 -07:00 [DBG] Hosting starting
2021-11-02 17:01:57.517 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:01:57.575 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:01:57.597 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:01:57.598 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:01:57.598 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:01:57.599 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:01:57.606 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:01:57.613 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:01:57.616 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:01:57.617 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:01:57.618 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:01:57.629 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:01:57.723 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:01:57.727 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:01:57.729 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:01:57.739 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:01:57.743 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:01:57.748 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:01:57.750 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:01:57.903 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:01:58.001 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:01:58.003 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:01:58.004 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:01:58.005 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:01:58.007 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:01:58.010 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:01:58.016 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:01:58.018 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:01:58.022 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:01:58.025 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:01:58.026 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:01:58.033 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:01:58.035 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:01:58.037 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:01:58.039 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:01:58.042 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:01:58.209 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:01:58.291 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:01:58.291 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:01:58.293 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:01:58.294 -07:00 [INF] Hosting environment: Development
2021-11-02 17:01:58.295 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:01:58.296 -07:00 [DBG] Hosting started
2021-11-02 17:02:06.273 -07:00 [DBG] Connection id "0HMCUBKM5EDLF" accepted.
2021-11-02 17:02:06.275 -07:00 [DBG] Connection id "0HMCUBKM5EDLF" started.
2021-11-02 17:02:06.357 -07:00 [DBG] Connection "0HMCUBKM5EDLF" established using the following protocol: "Tls12"
2021-11-02 17:02:06.381 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:02:06.384 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:02:06.385 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:02:06.387 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:02:06.387 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:02:06.388 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:02:06.405 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:02:06.406 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:02:06.406 -07:00 [VRB] Connection id "0HMCUBKM5EDLF" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:02:06.417 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:02:06.419 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:02:06.419 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:02:06.539 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:06.545 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:06.548 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:06.550 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:06.552 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:07.170 -07:00 [INF] Successfully validated the token.
2021-11-02 17:02:07.172 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:02:07.182 -07:00 [INF] Authorization was successful.
2021-11-02 17:02:07.184 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:02:07.195 -07:00 [DBG] Reading message.
2021-11-02 17:02:07.197 -07:00 [DBG] Connection id "0HMCUBKM5EDLF", Request id "0HMCUBKM5EDLF:00000001": started reading request body.
2021-11-02 17:02:07.200 -07:00 [DBG] Connection id "0HMCUBKM5EDLF", Request id "0HMCUBKM5EDLF:00000001": done reading request body.
2021-11-02 17:02:07.202 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:02:07.209 -07:00 [VRB] Received message.
2021-11-02 17:02:07.351 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:04:23.996 -07:00 [DBG] Hosting starting
2021-11-02 17:04:24.067 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:04:24.113 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:04:24.132 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:04:24.132 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:04:24.133 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:04:24.133 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:04:24.140 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:04:24.148 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:04:24.149 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:04:24.149 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:04:24.150 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:04:24.159 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:04:24.210 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:04:24.214 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:04:24.216 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:04:24.220 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:04:24.223 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:04:24.226 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:04:24.227 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:04:24.283 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:04:24.337 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:04:24.343 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:04:24.343 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:04:24.343 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:04:24.344 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:04:24.346 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:04:24.348 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:04:24.352 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:04:24.358 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:04:24.360 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:04:24.361 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:04:24.362 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:04:24.363 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:04:24.364 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:04:24.366 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:04:24.368 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:04:24.558 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:04:24.644 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:04:24.644 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:04:24.647 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:04:24.648 -07:00 [INF] Hosting environment: Development
2021-11-02 17:04:24.648 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:04:24.651 -07:00 [DBG] Hosting started
2021-11-02 17:04:34.700 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" accepted.
2021-11-02 17:04:34.701 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" started.
2021-11-02 17:04:34.758 -07:00 [DBG] Connection "0HMCUBM2CV0IN" established using the following protocol: "Tls12"
2021-11-02 17:04:34.784 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:04:34.788 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:04:34.789 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:04:34.790 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:04:34.791 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:04:34.792 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:04:34.806 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:04:34.807 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:04:34.808 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:04:34.819 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:04:34.821 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:04:34.821 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:04:34.878 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:04:34.883 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:04:34.885 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:04:34.886 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:04:34.888 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:04:35.412 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:04:35.449 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:04:35.454 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:04:35.462 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:04:35.464 -07:00 [VRB] Connection id "0HMCUBM2CV0IN" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:04:35.467 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 651.0908ms
2021-11-02 17:04:35.476 -07:00 [DBG] Connection id "0HMCUBM2CV0IN", Request id "0HMCUBM2CV0IN:00000001": started reading request body.
2021-11-02 17:04:35.478 -07:00 [DBG] Connection id "0HMCUBM2CV0IN", Request id "0HMCUBM2CV0IN:00000001": done reading request body.
2021-11-02 17:04:35.744 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" reset.
2021-11-02 17:04:35.759 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" is closed. The last processed stream ID was 1.
2021-11-02 17:04:35.760 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" sending FIN because: "The client closed the connection."
2021-11-02 17:04:35.777 -07:00 [DBG] Connection id "0HMCUBM2CV0IN" stopped.
2021-11-02 17:05:43.589 -07:00 [DBG] Hosting starting
2021-11-02 17:05:43.740 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:05:43.801 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:05:43.816 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:05:43.816 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:05:43.817 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:05:43.817 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:05:43.822 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:05:43.841 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:05:43.841 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:05:43.842 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:05:43.842 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:05:43.850 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:05:43.913 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:05:43.921 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:05:43.923 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:05:43.927 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:05:43.930 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:05:43.934 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:05:43.935 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:05:44.025 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:05:44.073 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:05:44.074 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:05:44.075 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:05:44.075 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:05:44.076 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:05:44.077 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:05:44.079 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:05:44.080 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:05:44.083 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:05:44.085 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:05:44.087 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:05:44.089 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:05:44.091 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:05:44.093 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:05:44.095 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:05:44.096 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:05:44.216 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:05:44.274 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:05:44.275 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:05:44.277 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:05:44.278 -07:00 [INF] Hosting environment: Development
2021-11-02 17:05:44.279 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:05:44.279 -07:00 [DBG] Hosting started
2021-11-02 17:05:54.565 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" accepted.
2021-11-02 17:05:54.567 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" started.
2021-11-02 17:05:54.621 -07:00 [DBG] Connection "0HMCUBMQ6JQ60" established using the following protocol: "Tls12"
2021-11-02 17:05:54.643 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:05:54.648 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:05:54.649 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:05:54.651 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:05:54.651 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:05:54.653 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:05:54.668 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:05:54.668 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:05:54.669 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:05:54.682 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:05:54.684 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:05:54.684 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:05:54.756 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:05:54.761 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:05:54.763 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:05:54.764 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:05:54.766 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:05:55.473 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:05:55.521 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:05:55.536 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:05:55.550 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:05:55.554 -07:00 [VRB] Connection id "0HMCUBMQ6JQ60" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:05:55.557 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 879.3738ms
2021-11-02 17:05:55.569 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60", Request id "0HMCUBMQ6JQ60:00000001": started reading request body.
2021-11-02 17:05:55.570 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60", Request id "0HMCUBMQ6JQ60:00000001": done reading request body.
2021-11-02 17:05:55.847 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" reset.
2021-11-02 17:05:55.859 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" is closed. The last processed stream ID was 1.
2021-11-02 17:05:55.859 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" sending FIN because: "The client closed the connection."
2021-11-02 17:05:55.862 -07:00 [DBG] Connection id "0HMCUBMQ6JQ60" stopped.
2021-11-02 17:06:24.187 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" accepted.
2021-11-02 17:06:24.190 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" started.
2021-11-02 17:06:24.203 -07:00 [DBG] Connection "0HMCUBMQ6JQ61" established using the following protocol: "Tls12"
2021-11-02 17:06:24.213 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:06:24.216 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:06:24.218 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:06:24.225 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:06:24.233 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:06:24.305 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:06:24.316 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:06:24.319 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:06:24.319 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:06:24.320 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:06:24.321 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:06:24.335 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:06:24.342 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:06:24.346 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:06:24.347 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:06:24.353 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:06:24.363 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:06:24.368 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:06:24.370 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:06:24.372 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:06:24.375 -07:00 [VRB] Connection id "0HMCUBMQ6JQ61" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:06:24.376 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 57.2981ms
2021-11-02 17:06:24.377 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61", Request id "0HMCUBMQ6JQ61:00000001": started reading request body.
2021-11-02 17:06:24.378 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61", Request id "0HMCUBMQ6JQ61:00000001": done reading request body.
2021-11-02 17:06:24.687 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" reset.
2021-11-02 17:06:24.689 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" is closed. The last processed stream ID was 1.
2021-11-02 17:06:24.692 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" sending FIN because: "The client closed the connection."
2021-11-02 17:06:24.693 -07:00 [DBG] Connection id "0HMCUBMQ6JQ61" stopped.
2021-11-02 17:07:56.772 -07:00 [DBG] Hosting starting
2021-11-02 17:07:56.839 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:07:56.873 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:07:56.915 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:07:56.922 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:07:56.922 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:07:56.925 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:07:56.934 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:07:56.951 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:07:56.951 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:07:56.952 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:07:56.955 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:07:56.967 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:07:57.061 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:07:57.065 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:07:57.066 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:07:57.072 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:07:57.080 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:07:57.088 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:07:57.090 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:07:57.208 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:07:57.318 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:07:57.322 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:07:57.322 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:07:57.323 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:07:57.324 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:07:57.325 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:07:57.327 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:07:57.329 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:07:57.330 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:07:57.332 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:07:57.334 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:07:57.337 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:07:57.340 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:07:57.347 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:07:57.348 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:07:57.350 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:07:57.560 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:07:57.619 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:07:57.621 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:07:57.623 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:07:57.625 -07:00 [INF] Hosting environment: Development
2021-11-02 17:07:57.626 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:07:57.626 -07:00 [DBG] Hosting started
2021-11-02 17:08:34.589 -07:00 [DBG] Connection id "0HMCUBO9SN42P" accepted.
2021-11-02 17:08:34.590 -07:00 [DBG] Connection id "0HMCUBO9SN42P" started.
2021-11-02 17:08:34.659 -07:00 [DBG] Connection "0HMCUBO9SN42P" established using the following protocol: "Tls12"
2021-11-02 17:08:34.678 -07:00 [VRB] Connection id "0HMCUBO9SN42P" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:08:34.681 -07:00 [VRB] Connection id "0HMCUBO9SN42P" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:08:34.682 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:08:34.685 -07:00 [VRB] Connection id "0HMCUBO9SN42P" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:08:34.685 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:08:34.687 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:08:34.702 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:08:34.703 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:08:34.704 -07:00 [VRB] Connection id "0HMCUBO9SN42P" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:08:34.717 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:08:34.719 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:08:34.719 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:08:34.775 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:34.780 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:34.782 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:34.782 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:34.784 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:35.375 -07:00 [INF] Successfully validated the token.
2021-11-02 17:08:35.377 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:08:35.385 -07:00 [INF] Authorization was successful.
2021-11-02 17:08:35.386 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:35.401 -07:00 [DBG] Reading message.
2021-11-02 17:08:35.401 -07:00 [DBG] Connection id "0HMCUBO9SN42P", Request id "0HMCUBO9SN42P:00000001": started reading request body.
2021-11-02 17:08:35.403 -07:00 [DBG] Connection id "0HMCUBO9SN42P", Request id "0HMCUBO9SN42P:00000001": done reading request body.
2021-11-02 17:08:35.406 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:08:35.415 -07:00 [VRB] Received message.
2021-11-02 17:08:35.570 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:08:36.463 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 17:08:36.532 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:08:36.534 -07:00 [VRB] Connection id "0HMCUBO9SN42P" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:08:36.539 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 1824.2915ms
2021-11-02 17:08:36.777 -07:00 [DBG] Connection id "0HMCUBO9SN42P" reset.
2021-11-02 17:08:36.791 -07:00 [DBG] Connection id "0HMCUBO9SN42P" is closed. The last processed stream ID was 1.
2021-11-02 17:08:36.792 -07:00 [DBG] Connection id "0HMCUBO9SN42P" sending FIN because: "The client closed the connection."
2021-11-02 17:08:36.807 -07:00 [DBG] Connection id "0HMCUBO9SN42P" stopped.
2021-11-02 17:09:38.282 -07:00 [DBG] Connection id "0HMCUBO9SN42Q" accepted.
2021-11-02 17:09:38.290 -07:00 [DBG] Connection id "0HMCUBO9SN42Q" started.
2021-11-02 17:09:38.328 -07:00 [DBG] Connection "0HMCUBO9SN42Q" established using the following protocol: "Tls12"
2021-11-02 17:09:38.332 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:09:38.332 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:09:38.334 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:09:38.335 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:09:38.336 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:09:38.337 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:09:38.350 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:09:38.352 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:09:38.352 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:09:38.352 -07:00 [VRB] Connection id "0HMCUBO9SN42Q" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:09:38.354 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:09:38.359 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.360 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.361 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.362 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.363 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.365 -07:00 [INF] Successfully validated the token.
2021-11-02 17:09:38.368 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:09:38.369 -07:00 [INF] Authorization was successful.
2021-11-02 17:09:38.369 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:09:38.370 -07:00 [DBG] Reading message.
2021-11-02 17:09:38.370 -07:00 [DBG] Connection id "0HMCUBO9SN42Q", Request id "0HMCUBO9SN42Q:00000001": started reading request body.
2021-11-02 17:09:38.371 -07:00 [DBG] Connection id "0HMCUBO9SN42Q", Request id "0HMCUBO9SN42Q:00000001": done reading request body.
2021-11-02 17:09:38.372 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:09:38.373 -07:00 [VRB] Received message.
2021-11-02 17:10:22.932 -07:00 [DBG] Hosting starting
2021-11-02 17:10:22.995 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:10:23.025 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:10:23.037 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:10:23.037 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:10:23.038 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:10:23.038 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:10:23.042 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:10:23.047 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:10:23.048 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:10:23.048 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:10:23.049 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:10:23.056 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:10:23.103 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:10:23.106 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:10:23.108 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:10:23.112 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:10:23.116 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:10:23.120 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:10:23.121 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:10:23.189 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:10:23.247 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:10:23.249 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:10:23.249 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:10:23.250 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:10:23.250 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:10:23.251 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:10:23.252 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:10:23.254 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:10:23.255 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:10:23.256 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:10:23.257 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:10:23.263 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:10:23.264 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:10:23.265 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:10:23.266 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:10:23.267 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:10:23.546 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:10:23.676 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:10:23.676 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:10:23.679 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:10:23.679 -07:00 [INF] Hosting environment: Development
2021-11-02 17:10:23.680 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:10:23.682 -07:00 [DBG] Hosting started
2021-11-02 17:11:05.337 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" accepted.
2021-11-02 17:11:05.344 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" started.
2021-11-02 17:11:05.404 -07:00 [DBG] Connection "0HMCUBPMQBMG4" established using the following protocol: "Tls12"
2021-11-02 17:11:05.423 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:11:05.427 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:11:05.427 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:11:05.429 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:11:05.430 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:11:05.431 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:11:05.443 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:11:05.444 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:11:05.445 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:11:05.458 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:11:05.461 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:11:05.462 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:11:05.528 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:11:05.533 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:11:05.535 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:11:05.535 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:11:05.537 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:11:06.144 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:11:06.191 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:11:06.199 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:11:06.208 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:11:06.211 -07:00 [VRB] Connection id "0HMCUBPMQBMG4" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:11:06.216 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 760.3504ms
2021-11-02 17:11:06.226 -07:00 [DBG] Connection id "0HMCUBPMQBMG4", Request id "0HMCUBPMQBMG4:00000001": started reading request body.
2021-11-02 17:11:06.227 -07:00 [DBG] Connection id "0HMCUBPMQBMG4", Request id "0HMCUBPMQBMG4:00000001": done reading request body.
2021-11-02 17:11:06.533 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" reset.
2021-11-02 17:11:06.554 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" is closed. The last processed stream ID was 1.
2021-11-02 17:11:06.568 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" sending FIN because: "The client closed the connection."
2021-11-02 17:11:06.592 -07:00 [DBG] Connection id "0HMCUBPMQBMG4" stopped.
2021-11-02 17:17:16.968 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" accepted.
2021-11-02 17:17:16.976 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" started.
2021-11-02 17:17:17.001 -07:00 [DBG] Connection "0HMCUBPMQBMG5" established using the following protocol: "Tls12"
2021-11-02 17:17:17.006 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:17:17.007 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:17:17.008 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:17:17.009 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:17:17.009 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:17:17.013 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:17:17.028 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:17:17.040 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:17:17.040 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:17:17.040 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:17:17.041 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:17:17.047 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:17:17.048 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:17:17.049 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:17:17.050 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:17:17.050 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:17:17.053 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:17:17.055 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:17:17.056 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:17:17.057 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:17:17.060 -07:00 [VRB] Connection id "0HMCUBPMQBMG5" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:17:17.061 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 20.7425ms
2021-11-02 17:17:17.061 -07:00 [DBG] Connection id "0HMCUBPMQBMG5", Request id "0HMCUBPMQBMG5:00000001": started reading request body.
2021-11-02 17:17:17.062 -07:00 [DBG] Connection id "0HMCUBPMQBMG5", Request id "0HMCUBPMQBMG5:00000001": done reading request body.
2021-11-02 17:17:17.278 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" reset.
2021-11-02 17:17:17.278 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" is closed. The last processed stream ID was 1.
2021-11-02 17:17:17.280 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" sending FIN because: "The client closed the connection."
2021-11-02 17:17:17.291 -07:00 [DBG] Connection id "0HMCUBPMQBMG5" stopped.
2021-11-02 17:18:59.542 -07:00 [DBG] Hosting starting
2021-11-02 17:18:59.703 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:18:59.766 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:18:59.783 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:18:59.784 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:18:59.785 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:18:59.787 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:18:59.793 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:18:59.811 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:18:59.812 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:18:59.812 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:18:59.815 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:18:59.837 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:18:59.964 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:18:59.994 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:18:59.996 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:19:00.007 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:19:00.027 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:19:00.036 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:19:00.040 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:19:00.185 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:19:00.241 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:19:00.243 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:19:00.243 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:19:00.244 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:19:00.245 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:19:00.246 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:19:00.247 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:19:00.249 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:19:00.250 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:19:00.251 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:19:00.253 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:19:00.254 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:19:00.255 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:19:00.257 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:19:00.258 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:19:00.266 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:19:00.616 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:19:00.678 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:19:00.678 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:19:00.680 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:19:00.680 -07:00 [INF] Hosting environment: Development
2021-11-02 17:19:00.680 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:19:00.681 -07:00 [DBG] Hosting started
2021-11-02 17:19:13.330 -07:00 [DBG] Connection id "0HMCUBU8877PS" accepted.
2021-11-02 17:19:13.347 -07:00 [DBG] Connection id "0HMCUBU8877PS" started.
2021-11-02 17:19:13.442 -07:00 [DBG] Connection "0HMCUBU8877PS" established using the following protocol: "Tls12"
2021-11-02 17:19:13.475 -07:00 [VRB] Connection id "0HMCUBU8877PS" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:19:13.486 -07:00 [VRB] Connection id "0HMCUBU8877PS" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:19:13.487 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:19:13.489 -07:00 [VRB] Connection id "0HMCUBU8877PS" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:19:13.489 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:19:13.491 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:19:13.511 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:19:13.512 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:19:13.517 -07:00 [VRB] Connection id "0HMCUBU8877PS" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:19:13.531 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:19:13.534 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:19:13.535 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:19:13.628 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:13.638 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:13.641 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:13.642 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:13.643 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:14.422 -07:00 [INF] Successfully validated the token.
2021-11-02 17:19:14.424 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:19:14.430 -07:00 [INF] Authorization was successful.
2021-11-02 17:19:14.432 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:19:14.443 -07:00 [DBG] Reading message.
2021-11-02 17:19:14.444 -07:00 [DBG] Connection id "0HMCUBU8877PS", Request id "0HMCUBU8877PS:00000001": started reading request body.
2021-11-02 17:19:14.445 -07:00 [DBG] Connection id "0HMCUBU8877PS", Request id "0HMCUBU8877PS:00000001": done reading request body.
2021-11-02 17:19:14.447 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:19:14.455 -07:00 [VRB] Received message.
2021-11-02 17:19:14.561 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:22:57.216 -07:00 [DBG] Hosting starting
2021-11-02 17:22:57.285 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:22:57.332 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:22:57.349 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:22:57.349 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:22:57.350 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:22:57.350 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:22:57.356 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:22:57.366 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:22:57.366 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:22:57.367 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:22:57.368 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:22:57.379 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:22:57.424 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:22:57.426 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:22:57.428 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:22:57.433 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:22:57.436 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:22:57.440 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:22:57.441 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:22:57.546 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:22:57.598 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:22:57.624 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:22:57.630 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:22:57.631 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:22:57.632 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:22:57.634 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:22:57.644 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:22:57.655 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:22:57.657 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:22:57.659 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:22:57.662 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:22:57.664 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:22:57.666 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:22:57.667 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:22:57.669 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:22:57.674 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:22:58.026 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:22:58.101 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:22:58.101 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:22:58.103 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:22:58.103 -07:00 [INF] Hosting environment: Development
2021-11-02 17:22:58.104 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:22:58.104 -07:00 [DBG] Hosting started
2021-11-02 17:23:50.663 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" accepted.
2021-11-02 17:23:50.665 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" started.
2021-11-02 17:23:50.749 -07:00 [DBG] Connection "0HMCUC0QT2O0K" established using the following protocol: "Tls12"
2021-11-02 17:23:50.769 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:23:50.772 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:23:50.772 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:23:50.774 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:23:50.775 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:23:50.779 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:23:50.791 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:23:50.792 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:23:50.795 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:23:50.804 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:23:50.806 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:23:50.807 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:23:50.870 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:23:50.875 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:23:50.877 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:23:50.878 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:23:50.879 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:23:51.573 -07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-02 17:23:51.627 -07:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-11-02 17:23:51.640 -07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=scope and Claim.Value is one of the following values: (Viking.Annotation)
2021-11-02 17:23:51.661 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-02 17:23:51.665 -07:00 [VRB] Connection id "0HMCUC0QT2O0K" sending "HEADERS" frame for stream ID 1 with length 183 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:23:51.670 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 401 0 - 867.4421ms
2021-11-02 17:23:51.726 -07:00 [DBG] Connection id "0HMCUC0QT2O0K", Request id "0HMCUC0QT2O0K:00000001": started reading request body.
2021-11-02 17:23:51.729 -07:00 [DBG] Connection id "0HMCUC0QT2O0K", Request id "0HMCUC0QT2O0K:00000001": done reading request body.
2021-11-02 17:23:52.404 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" reset.
2021-11-02 17:23:52.412 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" is closed. The last processed stream ID was 1.
2021-11-02 17:23:52.414 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" sending FIN because: "The client closed the connection."
2021-11-02 17:23:52.437 -07:00 [DBG] Connection id "0HMCUC0QT2O0K" stopped.
2021-11-02 17:24:47.843 -07:00 [DBG] Hosting starting
2021-11-02 17:24:47.988 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:24:48.040 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:24:48.065 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:24:48.066 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:24:48.066 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:24:48.067 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:24:48.073 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:24:48.082 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:24:48.083 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:24:48.083 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:24:48.084 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:24:48.094 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:24:48.144 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:24:48.149 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:24:48.150 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:24:48.155 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:24:48.160 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:24:48.163 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:24:48.165 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:24:48.224 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:24:48.301 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:24:48.304 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:24:48.306 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:24:48.307 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:24:48.308 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:24:48.309 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:24:48.310 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:24:48.311 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:24:48.313 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:24:48.314 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:24:48.315 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:24:48.316 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:24:48.326 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:24:48.331 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:24:48.332 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:24:48.335 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:24:48.781 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:24:48.877 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:24:48.878 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:24:48.880 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:24:48.881 -07:00 [INF] Hosting environment: Development
2021-11-02 17:24:48.888 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:24:48.889 -07:00 [DBG] Hosting started
2021-11-02 17:24:57.655 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" accepted.
2021-11-02 17:24:57.657 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" started.
2021-11-02 17:24:57.735 -07:00 [DBG] Connection "0HMCUC1ERV0LI" established using the following protocol: "Tls12"
2021-11-02 17:24:57.764 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:24:57.768 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:24:57.769 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:24:57.770 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:24:57.775 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:24:57.777 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:24:57.799 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:24:57.799 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:24:57.800 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:24:57.816 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:24:57.819 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:24:57.819 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:24:57.936 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:57.943 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:57.946 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:57.947 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:57.949 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:58.758 -07:00 [INF] Successfully validated the token.
2021-11-02 17:24:58.759 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:24:58.764 -07:00 [INF] Authorization was successful.
2021-11-02 17:24:58.765 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:24:58.775 -07:00 [DBG] Reading message.
2021-11-02 17:24:58.776 -07:00 [DBG] Connection id "0HMCUC1ERV0LI", Request id "0HMCUC1ERV0LI:00000001": started reading request body.
2021-11-02 17:24:58.777 -07:00 [DBG] Connection id "0HMCUC1ERV0LI", Request id "0HMCUC1ERV0LI:00000001": done reading request body.
2021-11-02 17:24:58.780 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:24:58.787 -07:00 [VRB] Received message.
2021-11-02 17:24:58.884 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:25:26.655 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:25:26.659 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:25:27.111 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 17:25:27.178 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:27.183 -07:00 [VRB] Connection id "0HMCUC1ERV0LI" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:25:27.189 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 29376.2163ms
2021-11-02 17:25:27.462 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" reset.
2021-11-02 17:25:27.468 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" is closed. The last processed stream ID was 1.
2021-11-02 17:25:27.469 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" sending FIN because: "The client closed the connection."
2021-11-02 17:25:27.476 -07:00 [DBG] Connection id "0HMCUC1ERV0LI" stopped.
2021-11-02 17:25:42.237 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" accepted.
2021-11-02 17:25:42.238 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" started.
2021-11-02 17:25:42.246 -07:00 [DBG] Connection "0HMCUC1ERV0LJ" established using the following protocol: "Tls12"
2021-11-02 17:25:42.250 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:25:42.251 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:25:42.251 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:25:42.252 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:25:42.253 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:25:42.260 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:25:42.281 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:25:42.282 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:25:42.283 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:25:42.283 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:25:42.284 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:25:42.285 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:25:42.289 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.289 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.291 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.291 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.292 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.298 -07:00 [INF] Successfully validated the token.
2021-11-02 17:25:42.298 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:25:42.299 -07:00 [INF] Authorization was successful.
2021-11-02 17:25:42.299 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:42.300 -07:00 [DBG] Reading message.
2021-11-02 17:25:42.301 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ", Request id "0HMCUC1ERV0LJ:00000001": started reading request body.
2021-11-02 17:25:42.302 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ", Request id "0HMCUC1ERV0LJ:00000001": done reading request body.
2021-11-02 17:25:42.302 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:25:42.303 -07:00 [VRB] Received message.
2021-11-02 17:25:44.520 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 17:25:44.537 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:25:44.538 -07:00 [VRB] Connection id "0HMCUC1ERV0LJ" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:25:44.541 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 2258.3872ms
2021-11-02 17:25:44.789 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" reset.
2021-11-02 17:25:44.791 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" is closed. The last processed stream ID was 1.
2021-11-02 17:25:44.804 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" sending FIN because: "The client closed the connection."
2021-11-02 17:25:44.806 -07:00 [DBG] Connection id "0HMCUC1ERV0LJ" stopped.
2021-11-02 17:31:15.029 -07:00 [DBG] Hosting starting
2021-11-02 17:31:15.138 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:31:15.194 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:31:15.217 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:31:15.217 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:31:15.218 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:31:15.220 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:31:15.227 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:31:15.241 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:31:15.242 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:31:15.243 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:31:15.244 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:31:15.255 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:31:15.340 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:31:15.345 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:31:15.348 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:31:15.356 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:31:15.365 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:31:15.369 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:31:15.371 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:31:15.512 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:31:15.634 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:31:15.650 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:31:15.656 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:31:15.657 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:31:15.660 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:31:15.661 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:31:15.676 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:31:15.682 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:31:15.684 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:31:15.686 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:31:15.688 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:31:15.690 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:31:15.692 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:31:15.693 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:31:15.701 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:31:15.702 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:31:17.349 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:31:17.659 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:31:17.704 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:31:17.708 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:31:17.718 -07:00 [INF] Hosting environment: Development
2021-11-02 17:31:17.720 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:31:17.721 -07:00 [DBG] Hosting started
2021-11-02 17:31:31.040 -07:00 [DBG] Connection id "0HMCUC543IPJC" accepted.
2021-11-02 17:31:31.041 -07:00 [DBG] Connection id "0HMCUC543IPJC" started.
2021-11-02 17:31:31.107 -07:00 [DBG] Connection "0HMCUC543IPJC" established using the following protocol: "Tls12"
2021-11-02 17:31:31.129 -07:00 [VRB] Connection id "0HMCUC543IPJC" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:31:31.133 -07:00 [VRB] Connection id "0HMCUC543IPJC" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:31:31.134 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:31:31.136 -07:00 [VRB] Connection id "0HMCUC543IPJC" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:31:31.137 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:31:31.143 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:31:31.163 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:31:31.164 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:31:31.165 -07:00 [VRB] Connection id "0HMCUC543IPJC" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:31:31.175 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:31:31.176 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:31:31.176 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:31:31.245 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.251 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.253 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.253 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.254 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.893 -07:00 [INF] Successfully validated the token.
2021-11-02 17:31:31.894 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:31:31.901 -07:00 [INF] Authorization was successful.
2021-11-02 17:31:31.902 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:31.914 -07:00 [DBG] Reading message.
2021-11-02 17:31:31.915 -07:00 [DBG] Connection id "0HMCUC543IPJC", Request id "0HMCUC543IPJC:00000001": started reading request body.
2021-11-02 17:31:31.915 -07:00 [DBG] Connection id "0HMCUC543IPJC", Request id "0HMCUC543IPJC:00000001": done reading request body.
2021-11-02 17:31:31.918 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:31:31.924 -07:00 [VRB] Received message.
2021-11-02 17:31:32.041 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:31:45.082 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:31:45.113 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:31:46.173 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 17:31:46.261 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:31:46.266 -07:00 [VRB] Connection id "0HMCUC543IPJC" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:31:46.271 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 15098.1609ms
2021-11-02 17:31:46.566 -07:00 [DBG] Connection id "0HMCUC543IPJC" reset.
2021-11-02 17:31:46.610 -07:00 [DBG] Connection id "0HMCUC543IPJC" is closed. The last processed stream ID was 1.
2021-11-02 17:31:46.611 -07:00 [DBG] Connection id "0HMCUC543IPJC" sending FIN because: "The client closed the connection."
2021-11-02 17:31:46.617 -07:00 [DBG] Connection id "0HMCUC543IPJC" stopped.
2021-11-02 17:31:54.853 -07:00 [DBG] Hosting starting
2021-11-02 17:31:54.914 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 17:31:54.954 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 17:31:54.995 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 17:31:54.996 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 17:31:54.997 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 17:31:54.997 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 17:31:55.004 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 17:31:55.012 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 17:31:55.012 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 17:31:55.013 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 17:31:55.014 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 17:31:55.028 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 17:31:55.076 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:31:55.080 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 17:31:55.082 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 17:31:55.087 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 17:31:55.091 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 17:31:55.097 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 17:31:55.099 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 17:31:55.202 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 17:31:55.272 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 17:31:55.276 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 17:31:55.280 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 17:31:55.282 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 17:31:55.285 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 17:31:55.287 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 17:31:55.289 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 17:31:55.291 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 17:31:55.299 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 17:31:55.300 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 17:31:55.301 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 17:31:55.303 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 17:31:55.304 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 17:31:55.305 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 17:31:55.307 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 17:31:55.317 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 17:31:55.612 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 17:31:55.690 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 17:31:55.690 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 17:31:55.701 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 17:31:55.702 -07:00 [INF] Hosting environment: Development
2021-11-02 17:31:55.703 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 17:31:55.703 -07:00 [DBG] Hosting started
2021-11-02 17:32:09.870 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" accepted.
2021-11-02 17:32:09.871 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" started.
2021-11-02 17:32:09.929 -07:00 [DBG] Connection "0HMCUC5FLSN2D" established using the following protocol: "Tls12"
2021-11-02 17:32:09.953 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 17:32:09.956 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:32:09.957 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 17:32:09.959 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:32:09.959 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 17:32:09.961 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 17:32:09.977 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 17:32:09.977 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 17:32:09.978 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 17:32:09.991 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 17:32:09.994 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 17:32:09.994 -07:00 [VRB] All hosts are allowed.
2021-11-02 17:32:10.075 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.080 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.082 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.084 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.086 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.904 -07:00 [INF] Successfully validated the token.
2021-11-02 17:32:10.905 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 17:32:10.913 -07:00 [INF] Authorization was successful.
2021-11-02 17:32:10.915 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:10.934 -07:00 [DBG] Reading message.
2021-11-02 17:32:10.935 -07:00 [DBG] Connection id "0HMCUC5FLSN2D", Request id "0HMCUC5FLSN2D:00000001": started reading request body.
2021-11-02 17:32:10.937 -07:00 [DBG] Connection id "0HMCUC5FLSN2D", Request id "0HMCUC5FLSN2D:00000001": done reading request body.
2021-11-02 17:32:10.940 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 17:32:10.946 -07:00 [VRB] Received message.
2021-11-02 17:32:11.066 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 17:32:46.641 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:32:46.685 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 17:32:47.470 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 17:32:47.560 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 17:32:47.565 -07:00 [VRB] Connection id "0HMCUC5FLSN2D" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 17:32:47.570 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 37581.2999ms
2021-11-02 17:32:47.930 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" reset.
2021-11-02 17:32:47.974 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" is closed. The last processed stream ID was 1.
2021-11-02 17:32:47.974 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" sending FIN because: "The client closed the connection."
2021-11-02 17:32:47.984 -07:00 [DBG] Connection id "0HMCUC5FLSN2D" stopped.
2021-11-02 18:09:07.866 -07:00 [DBG] Hosting starting
2021-11-02 18:09:07.960 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:09:07.999 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:09:08.022 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:09:08.029 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:09:08.030 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:09:08.036 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:09:08.047 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:09:08.057 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:09:08.058 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:09:08.058 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:09:08.059 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:09:08.067 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:09:08.149 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:09:08.154 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:09:08.156 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:09:08.161 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:09:08.165 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:09:08.169 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:09:08.170 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:09:08.260 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:09:08.324 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:09:08.327 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:09:08.328 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:09:08.328 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:09:08.329 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:09:08.331 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:09:08.333 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:09:08.335 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:09:08.338 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:09:08.340 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:09:08.342 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:09:08.348 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:09:08.349 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:09:08.350 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:09:08.351 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:09:08.352 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:09:08.504 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:09:08.556 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:09:08.557 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:09:08.558 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:09:08.559 -07:00 [INF] Hosting environment: Development
2021-11-02 18:09:08.560 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:09:08.561 -07:00 [DBG] Hosting started
2021-11-02 18:10:37.655 -07:00 [DBG] Connection id "0HMCUCQVEKOB4" accepted.
2021-11-02 18:10:37.698 -07:00 [DBG] Connection id "0HMCUCQVEKOB4" started.
2021-11-02 18:10:37.773 -07:00 [DBG] Connection "0HMCUCQVEKOB4" established using the following protocol: "Tls12"
2021-11-02 18:10:37.798 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:10:37.803 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:10:37.804 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:10:37.806 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:10:37.807 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:10:37.809 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:10:37.822 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:10:37.823 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:10:37.824 -07:00 [VRB] Connection id "0HMCUCQVEKOB4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:10:37.835 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:10:37.838 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:10:37.838 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:10:37.898 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:37.902 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:37.903 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:37.904 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:37.905 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:38.519 -07:00 [INF] Successfully validated the token.
2021-11-02 18:10:38.522 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:10:38.528 -07:00 [INF] Authorization was successful.
2021-11-02 18:10:38.528 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:10:38.541 -07:00 [DBG] Reading message.
2021-11-02 18:10:38.543 -07:00 [DBG] Connection id "0HMCUCQVEKOB4", Request id "0HMCUCQVEKOB4:00000001": started reading request body.
2021-11-02 18:10:38.545 -07:00 [DBG] Connection id "0HMCUCQVEKOB4", Request id "0HMCUCQVEKOB4:00000001": done reading request body.
2021-11-02 18:10:38.548 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:10:38.558 -07:00 [VRB] Received message.
2021-11-02 18:10:38.701 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:11:54.454 -07:00 [DBG] Hosting starting
2021-11-02 18:11:54.526 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:11:54.562 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:11:54.579 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:11:54.580 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:11:54.580 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:11:54.581 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:11:54.587 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:11:54.596 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:11:54.596 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:11:54.597 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:11:54.598 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:11:54.607 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:11:54.690 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:11:54.693 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:11:54.695 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:11:54.698 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:11:54.701 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:11:54.707 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:11:54.708 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:11:54.790 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:11:54.869 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:11:54.871 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:11:54.872 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:11:54.872 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:11:54.873 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:11:54.875 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:11:54.876 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:11:54.878 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:11:54.880 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:11:54.881 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:11:54.882 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:11:54.884 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:11:54.886 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:11:54.887 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:11:54.894 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:11:54.897 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:11:55.106 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:11:55.279 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:11:55.279 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:11:55.281 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:11:55.281 -07:00 [INF] Hosting environment: Development
2021-11-02 18:11:55.351 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:11:55.368 -07:00 [DBG] Hosting started
2021-11-02 18:12:19.049 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" accepted.
2021-11-02 18:12:19.050 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" started.
2021-11-02 18:12:19.130 -07:00 [DBG] Connection "0HMCUCRTLJIB2" established using the following protocol: "Tls12"
2021-11-02 18:12:19.159 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:12:19.165 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:12:19.167 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:12:19.168 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:12:19.169 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:12:19.170 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:12:19.190 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:12:19.191 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:12:19.193 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:12:19.206 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:12:19.208 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:12:19.210 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:12:19.290 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:19.297 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:19.300 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:19.301 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:19.303 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:20.282 -07:00 [INF] Successfully validated the token.
2021-11-02 18:12:20.283 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:12:20.293 -07:00 [INF] Authorization was successful.
2021-11-02 18:12:20.295 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:20.309 -07:00 [DBG] Reading message.
2021-11-02 18:12:20.311 -07:00 [DBG] Connection id "0HMCUCRTLJIB2", Request id "0HMCUCRTLJIB2:00000001": started reading request body.
2021-11-02 18:12:20.312 -07:00 [DBG] Connection id "0HMCUCRTLJIB2", Request id "0HMCUCRTLJIB2:00000001": done reading request body.
2021-11-02 18:12:20.315 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:12:20.321 -07:00 [VRB] Received message.
2021-11-02 18:12:20.453 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:12:24.769 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:12:24.838 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:12:24.842 -07:00 [VRB] Connection id "0HMCUCRTLJIB2" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:12:24.848 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 5645.1205ms
2021-11-02 18:12:25.115 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" reset.
2021-11-02 18:12:25.132 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" is closed. The last processed stream ID was 1.
2021-11-02 18:12:25.133 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" sending FIN because: "The client closed the connection."
2021-11-02 18:12:25.144 -07:00 [DBG] Connection id "0HMCUCRTLJIB2" stopped.
2021-11-02 18:16:45.597 -07:00 [DBG] Hosting starting
2021-11-02 18:16:45.655 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:16:45.695 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:16:45.715 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:16:45.717 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:16:45.718 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:16:45.719 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:16:45.727 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:16:45.736 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:16:45.737 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:16:45.737 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:16:45.738 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:16:45.751 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:16:45.863 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:16:45.868 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:16:45.871 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:16:45.875 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:16:45.879 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:16:45.884 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:16:45.885 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:16:46.011 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:16:46.105 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:16:46.112 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:16:46.115 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:16:46.120 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:16:46.121 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:16:46.122 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:16:46.124 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:16:46.125 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:16:46.127 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:16:46.131 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:16:46.132 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:16:46.133 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:16:46.134 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:16:46.135 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:16:46.136 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:16:46.140 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:16:46.496 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:16:46.664 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:16:46.704 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:16:46.708 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:16:46.709 -07:00 [INF] Hosting environment: Development
2021-11-02 18:16:46.712 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:16:46.716 -07:00 [DBG] Hosting started
2021-11-02 18:17:05.282 -07:00 [DBG] Connection id "0HMCUCUIVANRM" accepted.
2021-11-02 18:17:05.283 -07:00 [DBG] Connection id "0HMCUCUIVANRM" started.
2021-11-02 18:17:05.353 -07:00 [DBG] Connection "0HMCUCUIVANRM" established using the following protocol: "Tls12"
2021-11-02 18:17:05.393 -07:00 [VRB] Connection id "0HMCUCUIVANRM" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:17:05.405 -07:00 [VRB] Connection id "0HMCUCUIVANRM" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:17:05.410 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:17:05.414 -07:00 [VRB] Connection id "0HMCUCUIVANRM" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:17:05.416 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:17:05.418 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:17:05.447 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:17:05.451 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:17:05.452 -07:00 [VRB] Connection id "0HMCUCUIVANRM" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:17:05.469 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:17:05.472 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:17:05.473 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:17:05.588 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:05.611 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:05.613 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:05.614 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:05.618 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:06.561 -07:00 [INF] Successfully validated the token.
2021-11-02 18:17:06.563 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:17:06.568 -07:00 [INF] Authorization was successful.
2021-11-02 18:17:06.569 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:17:06.579 -07:00 [DBG] Reading message.
2021-11-02 18:17:06.579 -07:00 [DBG] Connection id "0HMCUCUIVANRM", Request id "0HMCUCUIVANRM:00000001": started reading request body.
2021-11-02 18:17:06.580 -07:00 [DBG] Connection id "0HMCUCUIVANRM", Request id "0HMCUCUIVANRM:00000001": done reading request body.
2021-11-02 18:17:06.582 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:17:06.590 -07:00 [VRB] Received message.
2021-11-02 18:17:06.699 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:18:07.421 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 18:18:07.901 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:18:07.903 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:18:07.905 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 18:18:07.906 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:18:07.907 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:18:07.909 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 18:18:07.910 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 18:18:08.408 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: The property 'SectionLocationsModifiedAfterDateResult.MosaicShape' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:18:08.531 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:18:08.539 -07:00 [VRB] Connection id "0HMCUCUIVANRM" sending "HEADERS" frame for stream ID 1 with length 486 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:18:08.544 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 63078.2268ms
2021-11-02 18:18:08.795 -07:00 [DBG] Connection id "0HMCUCUIVANRM" reset.
2021-11-02 18:18:08.800 -07:00 [DBG] Connection id "0HMCUCUIVANRM" is closed. The last processed stream ID was 1.
2021-11-02 18:18:08.801 -07:00 [DBG] Connection id "0HMCUCUIVANRM" sending FIN because: "The client closed the connection."
2021-11-02 18:18:08.811 -07:00 [DBG] Connection id "0HMCUCUIVANRM" stopped.
2021-11-02 18:42:29.138 -07:00 [DBG] Hosting starting
2021-11-02 18:42:29.232 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:42:29.344 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:42:29.388 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:42:29.390 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:42:29.393 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:42:29.393 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:42:29.482 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:42:29.517 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:42:29.518 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:42:29.529 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:42:29.531 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:42:29.542 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:42:29.695 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:42:29.699 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:42:29.701 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:42:29.713 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:42:29.721 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:42:29.728 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:42:29.729 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:42:29.822 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:42:29.894 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:42:29.900 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:42:29.904 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:42:29.907 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:42:29.909 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:42:29.918 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:42:29.922 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:42:29.926 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:42:29.931 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:42:29.937 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:42:29.941 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:42:29.953 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:42:29.957 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:42:29.961 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:42:29.971 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:42:29.974 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:42:30.198 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:42:30.276 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:42:30.276 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:42:30.278 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:42:30.278 -07:00 [INF] Hosting environment: Development
2021-11-02 18:42:30.279 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:42:30.280 -07:00 [DBG] Hosting started
2021-11-02 18:45:14.985 -07:00 [DBG] Connection id "0HMCUDEAHJQM6" accepted.
2021-11-02 18:45:15.000 -07:00 [DBG] Connection id "0HMCUDEAHJQM6" started.
2021-11-02 18:45:15.063 -07:00 [DBG] Connection "0HMCUDEAHJQM6" established using the following protocol: "Tls12"
2021-11-02 18:45:15.096 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:45:15.101 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:45:15.102 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:45:15.104 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:45:15.105 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:45:15.107 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:45:15.120 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:45:15.121 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:45:15.122 -07:00 [VRB] Connection id "0HMCUDEAHJQM6" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:45:15.133 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:45:15.136 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:45:15.136 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:45:15.198 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.202 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.204 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.205 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.206 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.929 -07:00 [INF] Successfully validated the token.
2021-11-02 18:45:15.934 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:45:15.944 -07:00 [INF] Authorization was successful.
2021-11-02 18:45:15.945 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:15.961 -07:00 [DBG] Reading message.
2021-11-02 18:45:15.962 -07:00 [DBG] Connection id "0HMCUDEAHJQM6", Request id "0HMCUDEAHJQM6:00000001": started reading request body.
2021-11-02 18:45:15.964 -07:00 [DBG] Connection id "0HMCUDEAHJQM6", Request id "0HMCUDEAHJQM6:00000001": done reading request body.
2021-11-02 18:45:15.968 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:45:15.978 -07:00 [VRB] Received message.
2021-11-02 18:45:16.129 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:45:32.640 -07:00 [DBG] Hosting starting
2021-11-02 18:45:32.706 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:45:32.778 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:45:32.811 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:45:32.812 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:45:32.816 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:45:32.817 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:45:32.823 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:45:32.834 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:45:32.838 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:45:32.839 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:45:32.840 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:45:32.855 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:45:33.004 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:45:33.008 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:45:33.010 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:45:33.018 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:45:33.021 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:45:33.026 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:45:33.027 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:45:33.104 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:45:33.165 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:45:33.167 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:45:33.168 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:45:33.169 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:45:33.170 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:45:33.177 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:45:33.184 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:45:33.185 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:45:33.186 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:45:33.187 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:45:33.188 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:45:33.189 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:45:33.191 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:45:33.192 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:45:33.193 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:45:33.194 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:45:33.349 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:45:33.421 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:45:33.442 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:45:33.442 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:45:33.443 -07:00 [INF] Hosting environment: Development
2021-11-02 18:45:33.443 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:45:33.444 -07:00 [DBG] Hosting started
2021-11-02 18:45:42.347 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" accepted.
2021-11-02 18:45:42.348 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" started.
2021-11-02 18:45:42.449 -07:00 [DBG] Connection "0HMCUDEIMHGQ4" established using the following protocol: "Tls12"
2021-11-02 18:45:42.530 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:45:42.534 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:45:42.535 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:45:42.537 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:45:42.538 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:45:42.540 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:45:42.557 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:45:42.574 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:45:42.574 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:45:42.577 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:45:42.579 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:45:42.580 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:45:42.743 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:42.748 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:42.751 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:42.752 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:42.756 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:43.557 -07:00 [INF] Successfully validated the token.
2021-11-02 18:45:43.558 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:45:43.563 -07:00 [INF] Authorization was successful.
2021-11-02 18:45:43.565 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:43.576 -07:00 [DBG] Reading message.
2021-11-02 18:45:43.577 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4", Request id "0HMCUDEIMHGQ4:00000001": started reading request body.
2021-11-02 18:45:43.577 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4", Request id "0HMCUDEIMHGQ4:00000001": done reading request body.
2021-11-02 18:45:43.579 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:45:43.588 -07:00 [VRB] Received message.
2021-11-02 18:45:43.688 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:45:54.323 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:45:54.413 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:45:54.416 -07:00 [VRB] Connection id "0HMCUDEIMHGQ4" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:45:54.431 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 11858.9606ms
2021-11-02 18:45:54.558 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" reset.
2021-11-02 18:45:54.564 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" is closed. The last processed stream ID was 1.
2021-11-02 18:45:54.570 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" sending FIN because: "The client closed the connection."
2021-11-02 18:45:54.585 -07:00 [DBG] Connection id "0HMCUDEIMHGQ4" stopped.
2021-11-02 18:46:12.905 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" accepted.
2021-11-02 18:46:12.907 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" started.
2021-11-02 18:46:12.918 -07:00 [DBG] Connection "0HMCUDEIMHGQ5" established using the following protocol: "Tls12"
2021-11-02 18:46:12.928 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:46:12.928 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:46:12.931 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:46:12.932 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:46:12.933 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:46:12.943 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:46:12.952 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:46:13.025 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:46:13.026 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:46:13.029 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:46:13.031 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:46:13.038 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.039 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.041 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.042 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.043 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.044 -07:00 [INF] Successfully validated the token.
2021-11-02 18:46:13.045 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:46:13.046 -07:00 [INF] Authorization was successful.
2021-11-02 18:46:13.049 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:13.049 -07:00 [DBG] Reading message.
2021-11-02 18:46:13.050 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5", Request id "0HMCUDEIMHGQ5:00000001": started reading request body.
2021-11-02 18:46:13.051 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5", Request id "0HMCUDEIMHGQ5:00000001": done reading request body.
2021-11-02 18:46:13.054 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:46:13.055 -07:00 [VRB] Received message.
2021-11-02 18:46:35.099 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'string' cannot be used for 'Location.VolumeShape' because its type is 'Geometry'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:46:35.113 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:46:35.114 -07:00 [VRB] Connection id "0HMCUDEIMHGQ5" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:46:35.115 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 22088.5595ms
2021-11-02 18:46:35.206 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" reset.
2021-11-02 18:46:35.207 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" is closed. The last processed stream ID was 1.
2021-11-02 18:46:35.209 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" sending FIN because: "The client closed the connection."
2021-11-02 18:46:35.288 -07:00 [DBG] Connection id "0HMCUDEIMHGQ5" stopped.
2021-11-02 18:46:35.290 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 18:48:34.373 -07:00 [DBG] Hosting starting
2021-11-02 18:48:34.449 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:48:34.484 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:48:34.549 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:48:34.550 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:48:34.551 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:48:34.551 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:48:34.557 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:48:34.565 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:48:34.566 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:48:34.567 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:48:34.569 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:48:34.580 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:48:34.659 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:48:34.663 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:48:34.664 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:48:34.668 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:48:34.671 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:48:34.675 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:48:34.676 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:48:34.787 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:48:34.931 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:48:34.934 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:48:34.934 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:48:34.939 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:48:34.940 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:48:34.942 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:48:34.944 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:48:34.945 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:48:34.947 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:48:34.948 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:48:34.949 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:48:34.950 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:48:34.951 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:48:34.953 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:48:34.957 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:48:34.966 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:48:35.336 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:48:35.441 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:48:35.442 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:48:35.444 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:48:35.444 -07:00 [INF] Hosting environment: Development
2021-11-02 18:48:35.446 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:48:35.446 -07:00 [DBG] Hosting started
2021-11-02 18:48:49.890 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" accepted.
2021-11-02 18:48:49.911 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" started.
2021-11-02 18:48:50.036 -07:00 [DBG] Connection "0HMCUDGAJ3BJL" established using the following protocol: "Tls12"
2021-11-02 18:48:50.091 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:48:50.096 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:48:50.098 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:48:50.099 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:48:50.099 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:48:50.101 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:48:50.122 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:48:50.124 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:48:50.124 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:48:50.138 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:48:50.144 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:48:50.145 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:48:50.267 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:50.272 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:50.276 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:50.277 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:50.278 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:51.060 -07:00 [INF] Successfully validated the token.
2021-11-02 18:48:51.062 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:48:51.071 -07:00 [INF] Authorization was successful.
2021-11-02 18:48:51.072 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:51.090 -07:00 [DBG] Reading message.
2021-11-02 18:48:51.091 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL", Request id "0HMCUDGAJ3BJL:00000001": started reading request body.
2021-11-02 18:48:51.092 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL", Request id "0HMCUDGAJ3BJL:00000001": done reading request body.
2021-11-02 18:48:51.096 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:48:51.104 -07:00 [VRB] Received message.
2021-11-02 18:48:51.253 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:48:59.378 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: Converter for model type 'Geometry' cannot be used for 'Location.VolumeShape' because its type is 'string'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Property.SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalPropertyBuilder.HasConversion(ValueConverter converter, ConfigurationSource configurationSource)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder.HasConversion(ValueConverter converter)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.PropertyBuilder`1.HasConversion(ValueConverter converter)
   at Viking.DataModel.Annotation.AnnotationContext.<>c.<OnModelCreatingPartial>b__43_0(EntityTypeBuilder`1 entity) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 18
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreatingPartial(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext_UserDefined.cs:line 14
   at Viking.DataModel.Annotation.AnnotationContext.OnModelCreating(ModelBuilder modelBuilder) in C:\src\git\Viking\Servers\ConnectomeDataModelCore\AnnotationContext.cs:line 318
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:48:59.490 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:48:59.494 -07:00 [VRB] Connection id "0HMCUDGAJ3BJL" sending "HEADERS" frame for stream ID 1 with length 265 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:48:59.503 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 9366.7408ms
2021-11-02 18:48:59.620 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" reset.
2021-11-02 18:48:59.643 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" is closed. The last processed stream ID was 1.
2021-11-02 18:48:59.644 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" sending FIN because: "The client closed the connection."
2021-11-02 18:48:59.656 -07:00 [DBG] Connection id "0HMCUDGAJ3BJL" stopped.
2021-11-02 18:49:32.461 -07:00 [DBG] Hosting starting
2021-11-02 18:49:32.554 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:49:32.635 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:49:32.665 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:49:32.667 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:49:32.668 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:49:32.668 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:49:32.675 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:49:32.685 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:49:32.686 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:49:32.686 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:49:32.687 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:49:32.703 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:49:32.794 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:49:32.799 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:49:32.802 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:49:32.806 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:49:32.810 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:49:32.814 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:49:32.817 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:49:33.254 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:49:33.495 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:49:33.504 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:49:33.505 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:49:33.505 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:49:33.506 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:49:33.508 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:49:33.509 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:49:33.510 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:49:33.511 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:49:33.512 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:49:33.514 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:49:33.515 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:49:33.516 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:49:33.517 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:49:33.518 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:49:33.520 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:49:34.020 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:49:34.390 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:49:34.390 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:49:34.392 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:49:34.402 -07:00 [INF] Hosting environment: Development
2021-11-02 18:49:34.406 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:49:34.426 -07:00 [DBG] Hosting started
2021-11-02 18:49:43.942 -07:00 [DBG] Connection id "0HMCUDGQMII1N" accepted.
2021-11-02 18:49:43.956 -07:00 [DBG] Connection id "0HMCUDGQMII1N" started.
2021-11-02 18:49:44.019 -07:00 [DBG] Connection "0HMCUDGQMII1N" established using the following protocol: "Tls12"
2021-11-02 18:49:44.042 -07:00 [VRB] Connection id "0HMCUDGQMII1N" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:49:44.051 -07:00 [VRB] Connection id "0HMCUDGQMII1N" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:49:44.054 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:49:44.056 -07:00 [VRB] Connection id "0HMCUDGQMII1N" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:49:44.057 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:49:44.058 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:49:44.071 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:49:44.072 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:49:44.073 -07:00 [VRB] Connection id "0HMCUDGQMII1N" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:49:44.084 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:49:44.086 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 18:49:44.086 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:49:44.149 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.153 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.155 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.156 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.159 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.791 -07:00 [INF] Successfully validated the token.
2021-11-02 18:49:44.792 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:49:44.802 -07:00 [INF] Authorization was successful.
2021-11-02 18:49:44.804 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:44.815 -07:00 [DBG] Reading message.
2021-11-02 18:49:44.815 -07:00 [DBG] Connection id "0HMCUDGQMII1N", Request id "0HMCUDGQMII1N:00000001": started reading request body.
2021-11-02 18:49:44.818 -07:00 [DBG] Connection id "0HMCUDGQMII1N", Request id "0HMCUDGQMII1N:00000001": done reading request body.
2021-11-02 18:49:44.821 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:49:44.826 -07:00 [VRB] Received message.
2021-11-02 18:49:44.933 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 18:49:53.015 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:49:53.018 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:49:53.021 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 18:49:53.022 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:49:53.023 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:49:53.024 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 18:49:53.025 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 18:49:53.206 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: The property 'SectionLocationsModifiedAfterDateResult.MosaicShape' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:49:53.284 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:49:53.289 -07:00 [VRB] Connection id "0HMCUDGQMII1N" sending "HEADERS" frame for stream ID 1 with length 486 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:49:53.294 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 9212.6442ms
2021-11-02 18:49:53.396 -07:00 [DBG] Connection id "0HMCUDGQMII1N" reset.
2021-11-02 18:49:53.402 -07:00 [DBG] Connection id "0HMCUDGQMII1N" is closed. The last processed stream ID was 1.
2021-11-02 18:49:53.402 -07:00 [DBG] Connection id "0HMCUDGQMII1N" sending FIN because: "The client closed the connection."
2021-11-02 18:49:53.426 -07:00 [DBG] Connection id "0HMCUDGQMII1N" stopped.
2021-11-02 18:51:13.667 -07:00 [DBG] Connection id "0HMCUDGQMII1O" accepted.
2021-11-02 18:51:13.676 -07:00 [DBG] Connection id "0HMCUDGQMII1O" started.
2021-11-02 18:51:13.723 -07:00 [DBG] Connection "0HMCUDGQMII1O" established using the following protocol: "Tls12"
2021-11-02 18:51:13.739 -07:00 [VRB] Connection id "0HMCUDGQMII1O" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:51:13.740 -07:00 [VRB] Connection id "0HMCUDGQMII1O" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:51:13.741 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:51:13.742 -07:00 [VRB] Connection id "0HMCUDGQMII1O" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:51:13.743 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:51:13.744 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:51:13.745 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:51:13.746 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:51:13.746 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:51:13.748 -07:00 [VRB] Connection id "0HMCUDGQMII1O" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:51:13.749 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:51:13.755 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.757 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.758 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.758 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.759 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.760 -07:00 [INF] Successfully validated the token.
2021-11-02 18:51:13.761 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:51:13.762 -07:00 [INF] Authorization was successful.
2021-11-02 18:51:13.764 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:13.764 -07:00 [DBG] Reading message.
2021-11-02 18:51:13.765 -07:00 [DBG] Connection id "0HMCUDGQMII1O", Request id "0HMCUDGQMII1O:00000001": started reading request body.
2021-11-02 18:51:13.766 -07:00 [DBG] Connection id "0HMCUDGQMII1O", Request id "0HMCUDGQMII1O:00000001": done reading request body.
2021-11-02 18:51:13.767 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:51:13.767 -07:00 [VRB] Received message.
2021-11-02 18:51:22.588 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:51:22.602 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:51:22.604 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 18:51:22.606 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:51:22.608 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:51:22.612 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 18:51:22.614 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 18:51:22.666 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: The property 'SectionLocationsModifiedAfterDateResult.MosaicShape' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:51:22.687 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:22.688 -07:00 [VRB] Connection id "0HMCUDGQMII1O" sending "HEADERS" frame for stream ID 1 with length 486 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:51:22.689 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 8943.2690ms
2021-11-02 18:51:22.826 -07:00 [DBG] Connection id "0HMCUDGQMII1O" reset.
2021-11-02 18:51:22.828 -07:00 [DBG] Connection id "0HMCUDGQMII1O" is closed. The last processed stream ID was 1.
2021-11-02 18:51:22.829 -07:00 [DBG] Connection id "0HMCUDGQMII1O" sending FIN because: "The client closed the connection."
2021-11-02 18:51:22.848 -07:00 [DBG] Connection id "0HMCUDGQMII1O" stopped.
2021-11-02 18:51:51.482 -07:00 [DBG] Connection id "0HMCUDGQMII1P" accepted.
2021-11-02 18:51:51.483 -07:00 [DBG] Connection id "0HMCUDGQMII1P" started.
2021-11-02 18:51:51.510 -07:00 [DBG] Connection "0HMCUDGQMII1P" established using the following protocol: "Tls12"
2021-11-02 18:51:51.517 -07:00 [VRB] Connection id "0HMCUDGQMII1P" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:51:51.519 -07:00 [VRB] Connection id "0HMCUDGQMII1P" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:51:51.519 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:51:51.520 -07:00 [VRB] Connection id "0HMCUDGQMII1P" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:51:51.521 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:51:51.522 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:51:51.523 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:51:51.523 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:51:51.525 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:51:51.526 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.527 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.528 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.529 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:51:51.529 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.529 -07:00 [VRB] Connection id "0HMCUDGQMII1P" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:51:51.530 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.533 -07:00 [INF] Successfully validated the token.
2021-11-02 18:51:51.535 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:51:51.536 -07:00 [INF] Authorization was successful.
2021-11-02 18:51:51.536 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:51.536 -07:00 [DBG] Reading message.
2021-11-02 18:51:51.537 -07:00 [DBG] Connection id "0HMCUDGQMII1P", Request id "0HMCUDGQMII1P:00000001": started reading request body.
2021-11-02 18:51:51.538 -07:00 [DBG] Connection id "0HMCUDGQMII1P", Request id "0HMCUDGQMII1P:00000001": done reading request body.
2021-11-02 18:51:51.538 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:51:51.539 -07:00 [VRB] Received message.
2021-11-02 18:51:53.234 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:51:53.237 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:51:53.239 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 18:51:53.240 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:51:53.242 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:51:53.244 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 18:51:53.245 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 18:51:53.302 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.InvalidOperationException: The property 'SectionLocationsModifiedAfterDateResult.MosaicShape' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.OrderByDescending[TSource,TKey](IQueryable`1 source, Expression`1 keySelector)
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 55
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 18:51:53.319 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:51:53.319 -07:00 [VRB] Connection id "0HMCUDGQMII1P" sending "HEADERS" frame for stream ID 1 with length 486 and flags "END_STREAM, END_HEADERS"
2021-11-02 18:51:53.320 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 1796.8574ms
2021-11-02 18:51:53.434 -07:00 [DBG] Connection id "0HMCUDGQMII1P" reset.
2021-11-02 18:51:53.434 -07:00 [DBG] Connection id "0HMCUDGQMII1P" is closed. The last processed stream ID was 1.
2021-11-02 18:51:53.443 -07:00 [DBG] Connection id "0HMCUDGQMII1P" sending FIN because: "The client closed the connection."
2021-11-02 18:51:53.444 -07:00 [DBG] Connection id "0HMCUDGQMII1P" stopped.
2021-11-02 18:52:20.248 -07:00 [DBG] Connection id "0HMCUDGQMII1Q" accepted.
2021-11-02 18:52:20.259 -07:00 [DBG] Connection id "0HMCUDGQMII1Q" started.
2021-11-02 18:52:20.275 -07:00 [DBG] Connection "0HMCUDGQMII1Q" established using the following protocol: "Tls12"
2021-11-02 18:52:20.309 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 18:52:20.310 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:52:20.311 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 18:52:20.320 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:52:20.321 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 18:52:20.321 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 18:52:20.322 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 18:52:20.322 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 18:52:20.333 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 18:52:20.333 -07:00 [VRB] All hosts are allowed.
2021-11-02 18:52:20.335 -07:00 [VRB] Connection id "0HMCUDGQMII1Q" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 18:52:20.335 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.337 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.341 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.342 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.343 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.346 -07:00 [INF] Successfully validated the token.
2021-11-02 18:52:20.346 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 18:52:20.347 -07:00 [INF] Authorization was successful.
2021-11-02 18:52:20.349 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 18:52:20.350 -07:00 [DBG] Reading message.
2021-11-02 18:52:20.351 -07:00 [DBG] Connection id "0HMCUDGQMII1Q", Request id "0HMCUDGQMII1Q:00000001": started reading request body.
2021-11-02 18:52:20.353 -07:00 [DBG] Connection id "0HMCUDGQMII1Q", Request id "0HMCUDGQMII1Q:00000001": done reading request body.
2021-11-02 18:52:20.357 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 18:52:20.358 -07:00 [VRB] Received message.
2021-11-02 18:52:24.540 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:52:24.543 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 18:52:24.546 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 18:52:24.549 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:52:24.551 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 18:52:24.555 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 18:52:24.556 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 18:53:09.060 -07:00 [DBG] Hosting starting
2021-11-02 18:53:09.171 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 18:53:09.242 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 18:53:09.270 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 18:53:09.270 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 18:53:09.271 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 18:53:09.271 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 18:53:09.278 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 18:53:09.290 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 18:53:09.290 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 18:53:09.291 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 18:53:09.292 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 18:53:09.304 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 18:53:09.392 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:53:09.396 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 18:53:09.398 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 18:53:09.403 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 18:53:09.407 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 18:53:09.411 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 18:53:09.412 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 18:53:09.479 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 18:53:09.616 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 18:53:09.618 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 18:53:09.618 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 18:53:09.619 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 18:53:09.619 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 18:53:09.621 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 18:53:09.622 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 18:53:09.624 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 18:53:09.625 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 18:53:09.626 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 18:53:09.627 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 18:53:09.629 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 18:53:09.635 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 18:53:09.637 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 18:53:09.638 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 18:53:09.639 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 18:53:09.873 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 18:53:09.957 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 18:53:09.958 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 18:53:09.960 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 18:53:09.960 -07:00 [INF] Hosting environment: Development
2021-11-02 18:53:09.961 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 18:53:09.961 -07:00 [DBG] Hosting started
2021-11-02 19:15:59.892 -07:00 [DBG] Connection id "0HMCUDVGC05M0" accepted.
2021-11-02 19:15:59.927 -07:00 [DBG] Connection id "0HMCUDVGC05M0" started.
2021-11-02 19:15:59.982 -07:00 [DBG] Connection "0HMCUDVGC05M0" established using the following protocol: "Tls12"
2021-11-02 19:16:00.004 -07:00 [VRB] Connection id "0HMCUDVGC05M0" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:16:00.009 -07:00 [VRB] Connection id "0HMCUDVGC05M0" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:16:00.010 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:16:00.012 -07:00 [VRB] Connection id "0HMCUDVGC05M0" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:16:00.013 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:16:00.014 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:16:00.031 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:16:00.031 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:16:00.032 -07:00 [VRB] Connection id "0HMCUDVGC05M0" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:16:00.043 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:16:00.045 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:16:00.046 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:16:00.106 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.111 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.113 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.114 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.115 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.906 -07:00 [INF] Successfully validated the token.
2021-11-02 19:16:00.913 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:16:00.927 -07:00 [INF] Authorization was successful.
2021-11-02 19:16:00.930 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:16:00.949 -07:00 [DBG] Reading message.
2021-11-02 19:16:00.950 -07:00 [DBG] Connection id "0HMCUDVGC05M0", Request id "0HMCUDVGC05M0:00000001": started reading request body.
2021-11-02 19:16:00.952 -07:00 [DBG] Connection id "0HMCUDVGC05M0", Request id "0HMCUDVGC05M0:00000001": done reading request body.
2021-11-02 19:16:00.956 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:16:00.976 -07:00 [VRB] Received message.
2021-11-02 19:16:01.164 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:17:30.473 -07:00 [DBG] Hosting starting
2021-11-02 19:17:30.604 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:17:30.673 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:17:30.750 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:17:30.754 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:17:30.755 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:17:30.755 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:17:30.762 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:17:30.771 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:17:30.771 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:17:30.772 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:17:30.773 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:17:30.802 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:17:30.965 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:17:30.970 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:17:30.972 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:17:30.977 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:17:30.984 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:17:30.997 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:17:31.002 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:17:31.290 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:17:31.670 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:17:31.673 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:17:31.673 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:17:31.674 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:17:31.674 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:17:31.676 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:17:31.677 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:17:31.678 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:17:31.680 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:17:31.681 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:17:31.683 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:17:31.684 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:17:31.685 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:17:31.687 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:17:31.688 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:17:31.690 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:17:32.309 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:17:32.385 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:17:32.385 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:17:32.387 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:17:32.388 -07:00 [INF] Hosting environment: Development
2021-11-02 19:17:32.389 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:17:32.389 -07:00 [DBG] Hosting started
2021-11-02 19:17:39.235 -07:00 [DBG] Connection id "0HMCUE0DVDKB8" accepted.
2021-11-02 19:17:39.237 -07:00 [DBG] Connection id "0HMCUE0DVDKB8" started.
2021-11-02 19:17:39.307 -07:00 [DBG] Connection "0HMCUE0DVDKB8" established using the following protocol: "Tls12"
2021-11-02 19:17:39.328 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:17:39.331 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:17:39.332 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:17:39.333 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:17:39.334 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:17:39.336 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:17:39.353 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:17:39.354 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:17:39.355 -07:00 [VRB] Connection id "0HMCUE0DVDKB8" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:17:39.364 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:17:39.366 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:17:39.366 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:17:39.428 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:39.432 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:39.434 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:39.435 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:39.436 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:40.045 -07:00 [INF] Successfully validated the token.
2021-11-02 19:17:40.046 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:17:40.051 -07:00 [INF] Authorization was successful.
2021-11-02 19:17:40.052 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:17:40.061 -07:00 [DBG] Reading message.
2021-11-02 19:17:40.062 -07:00 [DBG] Connection id "0HMCUE0DVDKB8", Request id "0HMCUE0DVDKB8:00000001": started reading request body.
2021-11-02 19:17:40.063 -07:00 [DBG] Connection id "0HMCUE0DVDKB8", Request id "0HMCUE0DVDKB8:00000001": done reading request body.
2021-11-02 19:17:40.065 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:17:40.073 -07:00 [VRB] Received message.
2021-11-02 19:17:40.174 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:17:43.690 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:17:43.692 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:17:43.695 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:17:43.696 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:17:43.697 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:17:43.698 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:17:43.699 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:19:44.624 -07:00 [DBG] Hosting starting
2021-11-02 19:19:44.744 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:19:44.781 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:19:44.798 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:19:44.799 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:19:44.799 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:19:44.801 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:19:44.808 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:19:44.817 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:19:44.817 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:19:44.818 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:19:44.819 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:19:44.830 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:19:44.881 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:19:44.885 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:19:44.886 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:19:44.891 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:19:44.895 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:19:44.899 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:19:44.900 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:19:45.063 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:19:45.168 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:19:45.172 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:19:45.172 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:19:45.175 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:19:45.176 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:19:45.178 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:19:45.179 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:19:45.181 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:19:45.202 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:19:45.204 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:19:45.205 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:19:45.208 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:19:45.210 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:19:45.222 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:19:45.225 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:19:45.229 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:19:45.952 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:19:46.055 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:19:46.056 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:19:46.058 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:19:46.059 -07:00 [INF] Hosting environment: Development
2021-11-02 19:19:46.060 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:19:46.061 -07:00 [DBG] Hosting started
2021-11-02 19:20:23.246 -07:00 [DBG] Connection id "0HMCUE1URHI88" accepted.
2021-11-02 19:20:23.248 -07:00 [DBG] Connection id "0HMCUE1URHI88" started.
2021-11-02 19:20:23.329 -07:00 [DBG] Connection "0HMCUE1URHI88" established using the following protocol: "Tls12"
2021-11-02 19:20:23.354 -07:00 [VRB] Connection id "0HMCUE1URHI88" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:20:23.358 -07:00 [VRB] Connection id "0HMCUE1URHI88" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:20:23.359 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:20:23.361 -07:00 [VRB] Connection id "0HMCUE1URHI88" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:20:23.364 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:20:23.366 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:20:23.386 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:20:23.387 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:20:23.388 -07:00 [VRB] Connection id "0HMCUE1URHI88" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:20:23.406 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:20:23.408 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:20:23.409 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:20:23.492 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:23.500 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:23.503 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:23.505 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:23.508 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:24.272 -07:00 [INF] Successfully validated the token.
2021-11-02 19:20:24.274 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:20:24.281 -07:00 [INF] Authorization was successful.
2021-11-02 19:20:24.282 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:20:24.309 -07:00 [DBG] Reading message.
2021-11-02 19:20:24.310 -07:00 [DBG] Connection id "0HMCUE1URHI88", Request id "0HMCUE1URHI88:00000001": started reading request body.
2021-11-02 19:20:24.311 -07:00 [DBG] Connection id "0HMCUE1URHI88", Request id "0HMCUE1URHI88:00000001": done reading request body.
2021-11-02 19:20:24.314 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:20:24.322 -07:00 [VRB] Received message.
2021-11-02 19:20:24.436 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:21:09.500 -07:00 [DBG] Hosting starting
2021-11-02 19:21:09.582 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:21:09.624 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:21:09.656 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:21:09.657 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:21:09.659 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:21:09.660 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:21:09.669 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:21:09.678 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:21:09.679 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:21:09.679 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:21:09.681 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:21:09.690 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:21:09.765 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:21:09.769 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:21:09.772 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:21:09.777 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:21:09.783 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:21:09.786 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:21:09.788 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:21:09.935 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:21:10.029 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:21:10.037 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:21:10.038 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:21:10.038 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:21:10.039 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:21:10.041 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:21:10.043 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:21:10.046 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:21:10.048 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:21:10.049 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:21:10.051 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:21:10.053 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:21:10.054 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:21:10.057 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:21:10.064 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:21:10.066 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:21:10.435 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:21:10.642 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:21:10.643 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:21:10.644 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:21:10.644 -07:00 [INF] Hosting environment: Development
2021-11-02 19:21:10.645 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:21:10.647 -07:00 [DBG] Hosting started
2021-11-02 19:21:42.119 -07:00 [DBG] Connection id "0HMCUE2MBNKOQ" accepted.
2021-11-02 19:21:42.122 -07:00 [DBG] Connection id "0HMCUE2MBNKOQ" started.
2021-11-02 19:21:42.222 -07:00 [DBG] Connection "0HMCUE2MBNKOQ" established using the following protocol: "Tls12"
2021-11-02 19:21:42.288 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:21:42.304 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:21:42.305 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:21:42.306 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:21:42.307 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:21:42.309 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:21:42.327 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:21:42.328 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:21:42.329 -07:00 [VRB] Connection id "0HMCUE2MBNKOQ" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:21:42.360 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:21:42.367 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:21:42.368 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:21:42.497 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:42.502 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:42.506 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:42.508 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:42.510 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:43.458 -07:00 [INF] Successfully validated the token.
2021-11-02 19:21:43.460 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:21:43.468 -07:00 [INF] Authorization was successful.
2021-11-02 19:21:43.471 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:21:43.488 -07:00 [DBG] Reading message.
2021-11-02 19:21:43.489 -07:00 [DBG] Connection id "0HMCUE2MBNKOQ", Request id "0HMCUE2MBNKOQ:00000001": started reading request body.
2021-11-02 19:21:43.492 -07:00 [DBG] Connection id "0HMCUE2MBNKOQ", Request id "0HMCUE2MBNKOQ:00000001": done reading request body.
2021-11-02 19:21:43.495 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:21:43.503 -07:00 [VRB] Received message.
2021-11-02 19:21:43.633 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:21:47.463 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:21:47.466 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:21:47.467 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:21:47.468 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:21:47.470 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:21:47.471 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:21:47.472 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:22:34.439 -07:00 [DBG] Hosting starting
2021-11-02 19:22:34.534 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:22:34.588 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:22:34.615 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:22:34.620 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:22:34.621 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:22:34.622 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:22:34.629 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:22:34.638 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:22:34.638 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:22:34.639 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:22:34.640 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:22:34.673 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:22:34.739 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:22:34.743 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:22:34.744 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:22:34.749 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:22:34.753 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:22:34.758 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:22:34.760 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:22:34.853 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:22:35.022 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:22:35.025 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:22:35.026 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:22:35.026 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:22:35.027 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:22:35.028 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:22:35.030 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:22:35.031 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:22:35.032 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:22:35.033 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:22:35.038 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:22:35.040 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:22:35.043 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:22:35.050 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:22:35.051 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:22:35.053 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:22:35.219 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:22:35.295 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:22:35.296 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:22:35.297 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:22:35.298 -07:00 [INF] Hosting environment: Development
2021-11-02 19:22:35.298 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:22:35.299 -07:00 [DBG] Hosting started
2021-11-02 19:22:50.719 -07:00 [DBG] Connection id "0HMCUE3APUULT" accepted.
2021-11-02 19:22:50.720 -07:00 [DBG] Connection id "0HMCUE3APUULT" started.
2021-11-02 19:22:50.791 -07:00 [DBG] Connection "0HMCUE3APUULT" established using the following protocol: "Tls12"
2021-11-02 19:22:50.816 -07:00 [VRB] Connection id "0HMCUE3APUULT" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:22:50.820 -07:00 [VRB] Connection id "0HMCUE3APUULT" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:22:50.821 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:22:50.822 -07:00 [VRB] Connection id "0HMCUE3APUULT" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:22:50.823 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:22:50.824 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:22:50.837 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:22:50.838 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:22:50.839 -07:00 [VRB] Connection id "0HMCUE3APUULT" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:22:50.848 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:22:50.849 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:22:50.850 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:22:50.910 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:50.914 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:50.916 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:50.917 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:50.919 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:51.521 -07:00 [INF] Successfully validated the token.
2021-11-02 19:22:51.523 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:22:51.530 -07:00 [INF] Authorization was successful.
2021-11-02 19:22:51.531 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:22:51.543 -07:00 [DBG] Reading message.
2021-11-02 19:22:51.544 -07:00 [DBG] Connection id "0HMCUE3APUULT", Request id "0HMCUE3APUULT:00000001": started reading request body.
2021-11-02 19:22:51.545 -07:00 [DBG] Connection id "0HMCUE3APUULT", Request id "0HMCUE3APUULT:00000001": done reading request body.
2021-11-02 19:22:51.547 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:22:51.556 -07:00 [VRB] Received message.
2021-11-02 19:22:51.680 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:23:20.153 -07:00 [DBG] Hosting starting
2021-11-02 19:23:20.208 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:23:20.262 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:23:20.285 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:23:20.286 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:23:20.287 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:23:20.287 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:23:20.293 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:23:20.303 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:23:20.303 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:23:20.303 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:23:20.305 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:23:20.318 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:23:20.402 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:23:20.406 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:23:20.408 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:23:20.412 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:23:20.416 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:23:20.421 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:23:20.422 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:23:20.530 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:23:20.619 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:23:20.621 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:23:20.621 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:23:20.622 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:23:20.622 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:23:20.624 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:23:20.626 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:23:20.627 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:23:20.629 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:23:20.630 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:23:20.631 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:23:20.636 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:23:20.640 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:23:20.642 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:23:20.643 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:23:20.645 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:23:21.064 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:23:21.208 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:23:21.303 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:23:21.303 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:23:21.306 -07:00 [INF] Hosting environment: Development
2021-11-02 19:23:21.306 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:23:21.307 -07:00 [DBG] Hosting started
2021-11-02 19:23:57.630 -07:00 [DBG] Connection id "0HMCUE3UO24RC" accepted.
2021-11-02 19:23:57.631 -07:00 [DBG] Connection id "0HMCUE3UO24RC" started.
2021-11-02 19:23:57.721 -07:00 [DBG] Connection "0HMCUE3UO24RC" established using the following protocol: "Tls12"
2021-11-02 19:23:57.767 -07:00 [VRB] Connection id "0HMCUE3UO24RC" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:23:57.772 -07:00 [VRB] Connection id "0HMCUE3UO24RC" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:23:57.774 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:23:57.777 -07:00 [VRB] Connection id "0HMCUE3UO24RC" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:23:57.793 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:23:57.795 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:23:57.813 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:23:57.814 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:23:57.816 -07:00 [VRB] Connection id "0HMCUE3UO24RC" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:23:57.831 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:23:57.834 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:23:57.835 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:23:57.947 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:57.953 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:57.956 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:57.957 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:57.959 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:59.003 -07:00 [INF] Successfully validated the token.
2021-11-02 19:23:59.006 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:23:59.012 -07:00 [INF] Authorization was successful.
2021-11-02 19:23:59.013 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:23:59.022 -07:00 [DBG] Reading message.
2021-11-02 19:23:59.023 -07:00 [DBG] Connection id "0HMCUE3UO24RC", Request id "0HMCUE3UO24RC:00000001": started reading request body.
2021-11-02 19:23:59.024 -07:00 [DBG] Connection id "0HMCUE3UO24RC", Request id "0HMCUE3UO24RC:00000001": done reading request body.
2021-11-02 19:23:59.026 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:23:59.032 -07:00 [VRB] Received message.
2021-11-02 19:23:59.138 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:25:45.657 -07:00 [DBG] Connection id "0HMCUE3UO24RC" reset.
2021-11-02 19:25:45.720 -07:00 [DBG] Connection id "0HMCUE3UO24RC" request processing ended abnormally.
Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketAwaitableEventArgs.<GetResult>g__ThrowSocketException|7_0(SocketError e)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketAwaitableEventArgs.GetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.ProcessReceives()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.DoReceive()
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.PipeCompletion.ThrowLatchedException()
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at System.IO.Pipelines.Pipe.DefaultPipeReader.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](TIOAdapter adapter, Memory`1 buffer)
   at System.IO.Pipelines.StreamPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ReadInputAsync()
   at System.IO.Pipelines.PipeCompletion.ThrowLatchedException()
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at System.IO.Pipelines.Pipe.DefaultPipeReader.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2021-11-02 19:25:45.720 -07:00 [DBG] Connection id "0HMCUE3UO24RC" is closed. The last processed stream ID was 1.
2021-11-02 19:25:45.781 -07:00 [DBG] Connection id "0HMCUE3UO24RC" sending FIN because: "The client closed the connection."
2021-11-02 19:25:45.790 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:25:45.791 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:25:45.792 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:25:45.793 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:25:45.794 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:25:45.795 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:25:45.796 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:26:35.730 -07:00 [DBG] Hosting starting
2021-11-02 19:26:35.793 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:26:35.849 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:26:35.876 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:26:35.877 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:26:35.878 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:26:35.880 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:26:35.887 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:26:35.895 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:26:35.897 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:26:35.907 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:26:35.909 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:26:35.917 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:26:35.991 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:26:36.002 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:26:36.004 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:26:36.009 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:26:36.012 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:26:36.016 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:26:36.017 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:26:36.144 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:26:36.209 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:26:36.212 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:26:36.212 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:26:36.213 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:26:36.213 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:26:36.214 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:26:36.216 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:26:36.218 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:26:36.219 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:26:36.227 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:26:36.232 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:26:36.239 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:26:36.242 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:26:36.244 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:26:36.246 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:26:36.250 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:26:36.948 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:26:37.049 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:26:37.050 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:26:37.055 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:26:37.056 -07:00 [INF] Hosting environment: Development
2021-11-02 19:26:37.056 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:26:37.057 -07:00 [DBG] Hosting started
2021-11-02 19:27:35.349 -07:00 [DBG] Connection id "0HMCUE5VKD0TO" accepted.
2021-11-02 19:27:35.367 -07:00 [DBG] Connection id "0HMCUE5VKD0TO" started.
2021-11-02 19:27:35.454 -07:00 [DBG] Connection "0HMCUE5VKD0TO" established using the following protocol: "Tls12"
2021-11-02 19:27:35.483 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:27:35.488 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:27:35.490 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:27:35.492 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:27:35.493 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:27:35.495 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:27:35.523 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:27:35.524 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:27:35.525 -07:00 [VRB] Connection id "0HMCUE5VKD0TO" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:27:35.539 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:27:35.541 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:27:35.542 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:27:35.675 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:35.680 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:35.682 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:35.684 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:35.686 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:36.485 -07:00 [INF] Successfully validated the token.
2021-11-02 19:27:36.487 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:27:36.496 -07:00 [INF] Authorization was successful.
2021-11-02 19:27:36.501 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:27:36.517 -07:00 [DBG] Reading message.
2021-11-02 19:27:36.518 -07:00 [DBG] Connection id "0HMCUE5VKD0TO", Request id "0HMCUE5VKD0TO:00000001": started reading request body.
2021-11-02 19:27:36.520 -07:00 [DBG] Connection id "0HMCUE5VKD0TO", Request id "0HMCUE5VKD0TO:00000001": done reading request body.
2021-11-02 19:27:36.523 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:27:36.534 -07:00 [VRB] Received message.
2021-11-02 19:27:36.717 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:27:41.070 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:27:41.074 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:27:41.075 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:27:41.077 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:27:41.079 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:27:41.081 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:27:41.083 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:28:21.533 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:28:21.536 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:28:21.538 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:28:21.539 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:28:21.540 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:28:21.541 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:28:21.542 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:30:59.179 -07:00 [DBG] Hosting starting
2021-11-02 19:30:59.280 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:30:59.312 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:30:59.327 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:30:59.328 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:30:59.329 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:30:59.329 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:30:59.335 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:30:59.343 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:30:59.343 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:30:59.343 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:30:59.344 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:30:59.357 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:30:59.406 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:30:59.409 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:30:59.411 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:30:59.418 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:30:59.422 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:30:59.428 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:30:59.431 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:30:59.537 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:30:59.641 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:30:59.643 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:30:59.643 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:30:59.644 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:30:59.644 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:30:59.647 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:30:59.649 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:30:59.650 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:30:59.652 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:30:59.653 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:30:59.655 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:30:59.657 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:30:59.658 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:30:59.660 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:30:59.666 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:30:59.668 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:31:00.591 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:31:00.782 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:31:00.782 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:31:00.784 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:31:00.784 -07:00 [INF] Hosting environment: Development
2021-11-02 19:31:00.785 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:31:00.785 -07:00 [DBG] Hosting started
2021-11-02 19:31:58.975 -07:00 [DBG] Connection id "0HMCUE8E6HKNL" accepted.
2021-11-02 19:31:58.992 -07:00 [DBG] Connection id "0HMCUE8E6HKNL" started.
2021-11-02 19:31:59.051 -07:00 [DBG] Connection "0HMCUE8E6HKNL" established using the following protocol: "Tls12"
2021-11-02 19:31:59.072 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:31:59.076 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:31:59.077 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:31:59.078 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:31:59.079 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:31:59.080 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:31:59.094 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:31:59.095 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:31:59.097 -07:00 [VRB] Connection id "0HMCUE8E6HKNL" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:31:59.107 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:31:59.110 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:31:59.110 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:31:59.183 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:31:59.187 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:31:59.189 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:31:59.190 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:31:59.192 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:31:59.979 -07:00 [INF] Successfully validated the token.
2021-11-02 19:31:59.982 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:31:59.990 -07:00 [INF] Authorization was successful.
2021-11-02 19:31:59.992 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:32:00.007 -07:00 [DBG] Reading message.
2021-11-02 19:32:00.008 -07:00 [DBG] Connection id "0HMCUE8E6HKNL", Request id "0HMCUE8E6HKNL:00000001": started reading request body.
2021-11-02 19:32:00.009 -07:00 [DBG] Connection id "0HMCUE8E6HKNL", Request id "0HMCUE8E6HKNL:00000001": done reading request body.
2021-11-02 19:32:00.012 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:32:00.031 -07:00 [VRB] Received message.
2021-11-02 19:32:00.221 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:32:01.168 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:32:01.171 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:32:01.172 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:32:01.174 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:32:01.175 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:32:01.175 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:32:01.176 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:33:48.382 -07:00 [DBG] Hosting starting
2021-11-02 19:33:48.463 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:33:48.495 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:33:48.510 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:33:48.511 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:33:48.512 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:33:48.512 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:33:48.518 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:33:48.524 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:33:48.524 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:33:48.524 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:33:48.525 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:33:48.536 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:33:48.583 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:33:48.586 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:33:48.590 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:33:48.594 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:33:48.597 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:33:48.600 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:33:48.602 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:33:48.710 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:33:48.750 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:33:48.752 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:33:48.753 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:33:48.753 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:33:48.754 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:33:48.757 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:33:48.759 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:33:48.760 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:33:48.761 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:33:48.762 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:33:48.763 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:33:48.764 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:33:48.765 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:33:48.772 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:33:48.773 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:33:48.774 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:33:48.979 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:33:49.066 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:33:49.081 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:33:49.097 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:33:49.102 -07:00 [INF] Hosting environment: Development
2021-11-02 19:33:49.103 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:33:49.104 -07:00 [DBG] Hosting started
2021-11-02 19:34:02.959 -07:00 [DBG] Connection id "0HMCUE9J4U495" accepted.
2021-11-02 19:34:02.961 -07:00 [DBG] Connection id "0HMCUE9J4U495" started.
2021-11-02 19:34:03.015 -07:00 [DBG] Connection "0HMCUE9J4U495" established using the following protocol: "Tls12"
2021-11-02 19:34:03.049 -07:00 [VRB] Connection id "0HMCUE9J4U495" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:34:03.053 -07:00 [VRB] Connection id "0HMCUE9J4U495" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:34:03.053 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:34:03.055 -07:00 [VRB] Connection id "0HMCUE9J4U495" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:34:03.055 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:34:03.057 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:34:03.072 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:34:03.073 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:34:03.076 -07:00 [VRB] Connection id "0HMCUE9J4U495" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:34:03.095 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:34:03.098 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:34:03.099 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:34:03.176 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.179 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.182 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.185 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.187 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.895 -07:00 [INF] Successfully validated the token.
2021-11-02 19:34:03.897 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:34:03.913 -07:00 [INF] Authorization was successful.
2021-11-02 19:34:03.915 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:34:03.935 -07:00 [DBG] Reading message.
2021-11-02 19:34:03.943 -07:00 [DBG] Connection id "0HMCUE9J4U495", Request id "0HMCUE9J4U495:00000001": started reading request body.
2021-11-02 19:34:03.946 -07:00 [DBG] Connection id "0HMCUE9J4U495", Request id "0HMCUE9J4U495:00000001": done reading request body.
2021-11-02 19:34:03.957 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:34:03.972 -07:00 [VRB] Received message.
2021-11-02 19:34:04.196 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:34:04.884 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:34:04.887 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:34:04.887 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:34:04.888 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:34:04.889 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:34:04.890 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:34:04.891 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:34:04.967 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 19:34:38.526 -07:00 [DBG] Hosting starting
2021-11-02 19:34:38.636 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:34:38.679 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:34:38.693 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:34:38.694 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:34:38.695 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:34:38.695 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:34:38.702 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:34:38.711 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:34:38.711 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:34:38.712 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:34:38.713 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:34:38.723 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:34:38.777 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:34:38.781 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:34:38.783 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:34:38.787 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:34:38.790 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:34:38.794 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:34:38.795 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:34:38.844 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:34:38.885 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:34:38.887 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:34:38.888 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:34:38.888 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:34:38.889 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:34:38.891 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:34:38.892 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:34:38.894 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:34:38.897 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:34:38.899 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:34:38.900 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:34:38.903 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:34:38.905 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:34:38.907 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:34:38.908 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:34:38.915 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:34:39.093 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:34:39.188 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:34:39.196 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:34:39.204 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:34:39.217 -07:00 [INF] Hosting environment: Development
2021-11-02 19:34:39.220 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:34:39.222 -07:00 [DBG] Hosting started
2021-11-02 19:45:16.253 -07:00 [DBG] Hosting starting
2021-11-02 19:45:16.358 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 19:45:16.383 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 19:45:16.395 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 19:45:16.396 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 19:45:16.396 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 19:45:16.396 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 19:45:16.401 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 19:45:16.407 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 19:45:16.408 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 19:45:16.408 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 19:45:16.409 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 19:45:16.419 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 19:45:16.514 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:45:16.517 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 19:45:16.518 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 19:45:16.521 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 19:45:16.524 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 19:45:16.527 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 19:45:16.530 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 19:45:16.638 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 19:45:16.700 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 19:45:16.702 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 19:45:16.703 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 19:45:16.703 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 19:45:16.704 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 19:45:16.735 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 19:45:16.736 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 19:45:16.738 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 19:45:16.739 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 19:45:16.741 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 19:45:16.768 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 19:45:16.769 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 19:45:16.774 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 19:45:16.798 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 19:45:16.802 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 19:45:16.804 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 19:45:17.214 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 19:45:17.386 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 19:45:17.429 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 19:45:17.432 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 19:45:17.434 -07:00 [INF] Hosting environment: Development
2021-11-02 19:45:17.435 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 19:45:17.436 -07:00 [DBG] Hosting started
2021-11-02 19:45:26.197 -07:00 [DBG] Connection id "0HMCUEFUOPMDN" accepted.
2021-11-02 19:45:26.205 -07:00 [DBG] Connection id "0HMCUEFUOPMDN" started.
2021-11-02 19:45:26.277 -07:00 [DBG] Connection "0HMCUEFUOPMDN" established using the following protocol: "Tls12"
2021-11-02 19:45:26.320 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 19:45:26.325 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:45:26.327 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 19:45:26.329 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:45:26.330 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 19:45:26.331 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 19:45:26.350 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 19:45:26.352 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 19:45:26.353 -07:00 [VRB] Connection id "0HMCUEFUOPMDN" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 19:45:26.364 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 19:45:26.366 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 19:45:26.367 -07:00 [VRB] All hosts are allowed.
2021-11-02 19:45:26.485 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:26.492 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:26.494 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:26.495 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:26.497 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:27.223 -07:00 [INF] Successfully validated the token.
2021-11-02 19:45:27.224 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 19:45:27.232 -07:00 [INF] Authorization was successful.
2021-11-02 19:45:27.233 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 19:45:27.244 -07:00 [DBG] Reading message.
2021-11-02 19:45:27.244 -07:00 [DBG] Connection id "0HMCUEFUOPMDN", Request id "0HMCUEFUOPMDN:00000001": started reading request body.
2021-11-02 19:45:27.245 -07:00 [DBG] Connection id "0HMCUEFUOPMDN", Request id "0HMCUEFUOPMDN:00000001": done reading request body.
2021-11-02 19:45:27.252 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 19:45:27.259 -07:00 [VRB] Received message.
2021-11-02 19:45:27.367 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 19:45:28.224 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:45:28.227 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:45:28.228 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:45:28.230 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:45:28.232 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:45:28.234 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:45:28.236 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 19:45:28.345 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 19:45:40.584 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:45:40.587 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 19:45:40.589 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 19:45:40.591 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:45:40.592 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 19:45:40.594 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 19:45:40.595 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:00:45.993 -07:00 [DBG] Hosting starting
2021-11-02 20:00:46.061 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:00:46.086 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:00:46.098 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:00:46.099 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:00:46.100 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:00:46.100 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:00:46.106 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:00:46.114 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:00:46.114 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:00:46.115 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:00:46.116 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:00:46.122 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:00:46.158 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:00:46.162 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:00:46.164 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:00:46.168 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:00:46.172 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:00:46.175 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:00:46.177 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:00:46.254 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:00:46.312 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:00:46.313 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:00:46.314 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:00:46.315 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:00:46.316 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:00:46.317 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:00:46.318 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:00:46.319 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:00:46.320 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:00:46.320 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:00:46.321 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:00:46.322 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:00:46.323 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:00:46.324 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:00:46.325 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:00:46.326 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:00:46.481 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:00:46.532 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:00:46.532 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:00:46.535 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:00:46.535 -07:00 [INF] Hosting environment: Development
2021-11-02 20:00:46.536 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:00:46.536 -07:00 [DBG] Hosting started
2021-11-02 20:01:01.142 -07:00 [DBG] Connection id "0HMCUEOLD43O5" accepted.
2021-11-02 20:01:01.143 -07:00 [DBG] Connection id "0HMCUEOLD43O5" started.
2021-11-02 20:01:01.274 -07:00 [DBG] Connection "0HMCUEOLD43O5" established using the following protocol: "Tls12"
2021-11-02 20:01:01.334 -07:00 [VRB] Connection id "0HMCUEOLD43O5" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:01:01.338 -07:00 [VRB] Connection id "0HMCUEOLD43O5" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:01:01.339 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:01:01.340 -07:00 [VRB] Connection id "0HMCUEOLD43O5" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:01:01.341 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:01:01.342 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:01:01.370 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:01:01.371 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:01:01.372 -07:00 [VRB] Connection id "0HMCUEOLD43O5" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:01:01.388 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:01:01.394 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:01:01.394 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:01:01.612 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:01.617 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:01.619 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:01.620 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:01.622 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:02.291 -07:00 [INF] Successfully validated the token.
2021-11-02 20:01:02.292 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:01:02.297 -07:00 [INF] Authorization was successful.
2021-11-02 20:01:02.297 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:01:02.306 -07:00 [DBG] Reading message.
2021-11-02 20:01:02.307 -07:00 [DBG] Connection id "0HMCUEOLD43O5", Request id "0HMCUEOLD43O5:00000001": started reading request body.
2021-11-02 20:01:02.308 -07:00 [DBG] Connection id "0HMCUEOLD43O5", Request id "0HMCUEOLD43O5:00000001": done reading request body.
2021-11-02 20:01:02.310 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:01:02.315 -07:00 [VRB] Received message.
2021-11-02 20:01:02.425 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:01:03.090 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:01:03.093 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:01:03.094 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:01:03.095 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:01:03.097 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:01:03.098 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:01:03.099 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:01:03.222 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:19:04.799 -07:00 [DBG] Hosting starting
2021-11-02 20:19:04.931 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:19:04.971 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:19:05.021 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:19:05.023 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:19:05.023 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:19:05.024 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:19:05.039 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:19:05.049 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:19:05.050 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:19:05.050 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:19:05.051 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:19:05.061 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:19:05.124 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:19:05.127 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:19:05.128 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:19:05.133 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:19:05.138 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:19:05.142 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:19:05.143 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:19:05.207 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:19:05.257 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:19:05.262 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:19:05.262 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:19:05.263 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:19:05.263 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:19:05.264 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:19:05.266 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:19:05.268 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:19:05.270 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:19:05.273 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:19:05.279 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:19:05.281 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:19:05.283 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:19:05.285 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:19:05.287 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:19:05.289 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:19:05.600 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:19:05.824 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:19:05.837 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:19:05.839 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:19:05.839 -07:00 [INF] Hosting environment: Development
2021-11-02 20:19:05.840 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:19:05.841 -07:00 [DBG] Hosting started
2021-11-02 20:19:18.827 -07:00 [DBG] Connection id "0HMCUF2SHFLO4" accepted.
2021-11-02 20:19:18.829 -07:00 [DBG] Connection id "0HMCUF2SHFLO4" started.
2021-11-02 20:19:18.897 -07:00 [DBG] Connection "0HMCUF2SHFLO4" established using the following protocol: "Tls12"
2021-11-02 20:19:18.922 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:19:18.925 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:19:18.926 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:19:18.928 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:19:18.928 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:19:18.930 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:19:18.949 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:19:18.950 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:19:18.951 -07:00 [VRB] Connection id "0HMCUF2SHFLO4" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:19:18.963 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:19:18.967 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:19:18.968 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:19:19.064 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.070 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.074 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.075 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.076 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.959 -07:00 [INF] Successfully validated the token.
2021-11-02 20:19:19.961 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:19:19.967 -07:00 [INF] Authorization was successful.
2021-11-02 20:19:19.968 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:19:19.979 -07:00 [DBG] Reading message.
2021-11-02 20:19:19.980 -07:00 [DBG] Connection id "0HMCUF2SHFLO4", Request id "0HMCUF2SHFLO4:00000001": started reading request body.
2021-11-02 20:19:19.982 -07:00 [DBG] Connection id "0HMCUF2SHFLO4", Request id "0HMCUF2SHFLO4:00000001": done reading request body.
2021-11-02 20:19:19.985 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:19:19.991 -07:00 [VRB] Received message.
2021-11-02 20:19:20.090 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:19:20.670 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:19:20.672 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:19:20.673 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:19:20.674 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:19:20.675 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:19:20.676 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:19:20.677 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:19:20.772 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:22:43.724 -07:00 [DBG] Hosting starting
2021-11-02 20:22:43.776 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:22:43.806 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:22:43.826 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:22:43.827 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:22:43.828 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:22:43.828 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:22:43.834 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:22:43.841 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:22:43.842 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:22:43.842 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:22:43.843 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:22:43.852 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:22:43.898 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:22:43.901 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:22:43.902 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:22:43.905 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:22:43.907 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:22:43.910 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:22:43.911 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:22:44.004 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:22:44.077 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:22:44.080 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:22:44.080 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:22:44.081 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:22:44.081 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:22:44.083 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:22:44.085 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:22:44.086 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:22:44.087 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:22:44.088 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:22:44.092 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:22:44.093 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:22:44.095 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:22:44.096 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:22:44.098 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:22:44.100 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:22:44.351 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:22:44.435 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:22:44.437 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:22:44.444 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:22:44.444 -07:00 [INF] Hosting environment: Development
2021-11-02 20:22:44.445 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:22:44.446 -07:00 [DBG] Hosting started
2021-11-02 20:22:55.930 -07:00 [DBG] Connection id "0HMCUF4T7TR0U" accepted.
2021-11-02 20:22:55.932 -07:00 [DBG] Connection id "0HMCUF4T7TR0U" started.
2021-11-02 20:22:55.994 -07:00 [DBG] Connection "0HMCUF4T7TR0U" established using the following protocol: "Tls12"
2021-11-02 20:22:56.015 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:22:56.018 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:22:56.018 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:22:56.021 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:22:56.021 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:22:56.023 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:22:56.035 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:22:56.036 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:22:56.037 -07:00 [VRB] Connection id "0HMCUF4T7TR0U" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:22:56.047 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:22:56.049 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:22:56.050 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:22:56.125 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:56.132 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:56.136 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:56.137 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:56.140 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:56.980 -07:00 [INF] Successfully validated the token.
2021-11-02 20:22:56.984 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:22:56.993 -07:00 [INF] Authorization was successful.
2021-11-02 20:22:56.995 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:22:57.008 -07:00 [DBG] Reading message.
2021-11-02 20:22:57.009 -07:00 [DBG] Connection id "0HMCUF4T7TR0U", Request id "0HMCUF4T7TR0U:00000001": started reading request body.
2021-11-02 20:22:57.010 -07:00 [DBG] Connection id "0HMCUF4T7TR0U", Request id "0HMCUF4T7TR0U:00000001": done reading request body.
2021-11-02 20:22:57.012 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:22:57.018 -07:00 [VRB] Received message.
2021-11-02 20:22:57.171 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:22:57.837 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:22:57.839 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:22:57.840 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:22:57.841 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:22:57.842 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:22:57.842 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:22:57.843 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:22:57.913 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:27:40.812 -07:00 [DBG] Hosting starting
2021-11-02 20:27:40.898 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:27:40.932 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:27:40.949 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:27:40.950 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:27:40.951 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:27:40.952 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:27:40.959 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:27:40.966 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:27:40.967 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:27:40.968 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:27:40.970 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:27:40.979 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:27:41.020 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:27:41.022 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:27:41.023 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:27:41.027 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:27:41.030 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:27:41.034 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:27:41.034 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:27:41.088 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:27:41.204 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:27:41.206 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:27:41.206 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:27:41.207 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:27:41.207 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:27:41.209 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:27:41.211 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:27:41.212 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:27:41.217 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:27:41.218 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:27:41.219 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:27:41.221 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:27:41.222 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:27:41.238 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:27:41.243 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:27:41.246 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:27:41.602 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:27:41.686 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:27:41.710 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:27:41.711 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:27:41.712 -07:00 [INF] Hosting environment: Development
2021-11-02 20:27:41.713 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:27:41.714 -07:00 [DBG] Hosting started
2021-11-02 20:27:48.018 -07:00 [DBG] Connection id "0HMCUF7K9FS85" accepted.
2021-11-02 20:27:48.019 -07:00 [DBG] Connection id "0HMCUF7K9FS85" started.
2021-11-02 20:27:48.094 -07:00 [DBG] Connection "0HMCUF7K9FS85" established using the following protocol: "Tls12"
2021-11-02 20:27:48.116 -07:00 [VRB] Connection id "0HMCUF7K9FS85" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:27:48.120 -07:00 [VRB] Connection id "0HMCUF7K9FS85" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:27:48.121 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:27:48.123 -07:00 [VRB] Connection id "0HMCUF7K9FS85" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:27:48.124 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:27:48.125 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:27:48.135 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:27:48.135 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:27:48.136 -07:00 [VRB] Connection id "0HMCUF7K9FS85" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:27:48.143 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:27:48.147 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:27:48.152 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:27:48.220 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:48.224 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:48.227 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:48.229 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:48.230 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:49.155 -07:00 [INF] Successfully validated the token.
2021-11-02 20:27:49.163 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:27:49.191 -07:00 [INF] Authorization was successful.
2021-11-02 20:27:49.194 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:27:49.214 -07:00 [DBG] Reading message.
2021-11-02 20:27:49.232 -07:00 [DBG] Connection id "0HMCUF7K9FS85", Request id "0HMCUF7K9FS85:00000001": started reading request body.
2021-11-02 20:27:49.234 -07:00 [DBG] Connection id "0HMCUF7K9FS85", Request id "0HMCUF7K9FS85:00000001": done reading request body.
2021-11-02 20:27:49.242 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:27:49.251 -07:00 [VRB] Received message.
2021-11-02 20:27:49.627 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:27:50.569 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:27:50.571 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:27:50.572 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:27:50.573 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:27:50.575 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:27:50.576 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:27:50.577 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:27:50.659 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:33:16.092 -07:00 [DBG] Hosting starting
2021-11-02 20:33:16.169 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:33:16.215 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:33:16.228 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:33:16.228 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:33:16.229 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:33:16.230 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:33:16.236 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:33:16.244 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:33:16.245 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:33:16.245 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:33:16.249 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:33:16.258 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:33:16.312 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:33:16.316 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:33:16.317 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:33:16.322 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:33:16.325 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:33:16.329 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:33:16.330 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:33:16.403 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:33:16.454 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:33:16.457 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:33:16.458 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:33:16.459 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:33:16.459 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:33:16.461 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:33:16.462 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:33:16.465 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:33:16.482 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:33:16.483 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:33:16.484 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:33:16.485 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:33:16.486 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:33:16.489 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:33:16.492 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:33:16.495 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:33:16.666 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:33:16.752 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:33:16.758 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:33:16.767 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:33:16.768 -07:00 [INF] Hosting environment: Development
2021-11-02 20:33:16.768 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:33:16.769 -07:00 [DBG] Hosting started
2021-11-02 20:33:24.467 -07:00 [DBG] Connection id "0HMCUFAOI3V3S" accepted.
2021-11-02 20:33:24.468 -07:00 [DBG] Connection id "0HMCUFAOI3V3S" started.
2021-11-02 20:33:24.546 -07:00 [DBG] Connection "0HMCUFAOI3V3S" established using the following protocol: "Tls12"
2021-11-02 20:33:24.568 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:33:24.571 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:33:24.573 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:33:24.574 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:33:24.575 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:33:24.576 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:33:24.588 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:33:24.589 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:33:24.590 -07:00 [VRB] Connection id "0HMCUFAOI3V3S" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:33:24.599 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:33:24.602 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:33:24.603 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:33:24.658 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:24.661 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:24.664 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:24.664 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:24.666 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:25.430 -07:00 [INF] Successfully validated the token.
2021-11-02 20:33:25.434 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:33:25.450 -07:00 [INF] Authorization was successful.
2021-11-02 20:33:25.452 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:33:25.471 -07:00 [DBG] Reading message.
2021-11-02 20:33:25.474 -07:00 [DBG] Connection id "0HMCUFAOI3V3S", Request id "0HMCUFAOI3V3S:00000001": started reading request body.
2021-11-02 20:33:25.476 -07:00 [DBG] Connection id "0HMCUFAOI3V3S", Request id "0HMCUFAOI3V3S:00000001": done reading request body.
2021-11-02 20:33:25.482 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:33:25.500 -07:00 [VRB] Received message.
2021-11-02 20:33:25.673 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:33:26.463 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:33:26.465 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:33:26.467 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:33:26.468 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:33:26.469 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:33:26.471 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:33:26.472 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:33:26.568 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:35:31.366 -07:00 [DBG] Hosting starting
2021-11-02 20:35:31.437 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:35:31.465 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:35:31.479 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:35:31.479 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:35:31.480 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:35:31.481 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:35:31.486 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:35:31.493 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:35:31.494 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:35:31.494 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:35:31.495 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:35:31.505 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:35:31.546 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:35:31.548 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:35:31.550 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:35:31.554 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:35:31.558 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:35:31.560 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:35:31.561 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:35:31.613 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:35:31.657 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:35:31.660 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:35:31.660 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:35:31.661 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:35:31.661 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:35:31.663 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:35:31.664 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:35:31.665 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:35:31.666 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:35:31.669 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:35:31.670 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:35:31.671 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:35:31.672 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:35:31.677 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:35:31.678 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:35:31.679 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:35:31.900 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:35:32.002 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:35:32.048 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:35:32.049 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:35:32.051 -07:00 [INF] Hosting environment: Development
2021-11-02 20:35:32.052 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:35:32.054 -07:00 [DBG] Hosting started
2021-11-02 20:35:39.977 -07:00 [DBG] Connection id "0HMCUFC0UENCS" accepted.
2021-11-02 20:35:39.978 -07:00 [DBG] Connection id "0HMCUFC0UENCS" started.
2021-11-02 20:35:40.032 -07:00 [DBG] Connection "0HMCUFC0UENCS" established using the following protocol: "Tls12"
2021-11-02 20:35:40.052 -07:00 [VRB] Connection id "0HMCUFC0UENCS" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:35:40.054 -07:00 [VRB] Connection id "0HMCUFC0UENCS" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:35:40.055 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:35:40.056 -07:00 [VRB] Connection id "0HMCUFC0UENCS" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:35:40.056 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:35:40.058 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:35:40.071 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:35:40.072 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:35:40.073 -07:00 [VRB] Connection id "0HMCUFC0UENCS" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:35:40.083 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:35:40.087 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:35:40.087 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:35:40.145 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.149 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.153 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.154 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.155 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.886 -07:00 [INF] Successfully validated the token.
2021-11-02 20:35:40.892 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:35:40.905 -07:00 [INF] Authorization was successful.
2021-11-02 20:35:40.906 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:35:40.921 -07:00 [DBG] Reading message.
2021-11-02 20:35:40.925 -07:00 [DBG] Connection id "0HMCUFC0UENCS", Request id "0HMCUFC0UENCS:00000001": started reading request body.
2021-11-02 20:35:40.929 -07:00 [DBG] Connection id "0HMCUFC0UENCS", Request id "0HMCUFC0UENCS:00000001": done reading request body.
2021-11-02 20:35:40.939 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:35:40.954 -07:00 [VRB] Received message.
2021-11-02 20:35:41.179 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:35:41.896 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:35:41.900 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:35:41.903 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:35:41.905 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:35:41.907 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:35:41.908 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:35:41.909 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:35:42.003 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:40:00.679 -07:00 [DBG] Hosting starting
2021-11-02 20:40:00.767 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:40:00.824 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:40:00.858 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:40:00.859 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:40:00.860 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:40:00.860 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:40:00.868 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:40:00.886 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:40:00.886 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:40:00.887 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:40:00.888 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:40:00.902 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:40:00.954 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:40:00.958 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:40:00.959 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:40:00.966 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:40:00.970 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:40:00.974 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:40:00.975 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:40:01.062 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:40:01.132 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:40:01.135 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:40:01.136 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:40:01.136 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:40:01.137 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:40:01.139 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:40:01.140 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:40:01.143 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:40:01.145 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:40:01.148 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:40:01.150 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:40:01.156 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:40:01.157 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:40:01.159 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:40:01.160 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:40:01.161 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:40:01.350 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:40:01.426 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:40:01.426 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:40:01.428 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:40:01.429 -07:00 [INF] Hosting environment: Development
2021-11-02 20:40:01.430 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:40:01.431 -07:00 [DBG] Hosting started
2021-11-02 20:40:22.326 -07:00 [DBG] Connection id "0HMCUFEL34JS0" accepted.
2021-11-02 20:40:22.327 -07:00 [DBG] Connection id "0HMCUFEL34JS0" started.
2021-11-02 20:40:22.411 -07:00 [DBG] Connection "0HMCUFEL34JS0" established using the following protocol: "Tls12"
2021-11-02 20:40:22.445 -07:00 [VRB] Connection id "0HMCUFEL34JS0" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:40:22.451 -07:00 [VRB] Connection id "0HMCUFEL34JS0" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:40:22.451 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:40:22.454 -07:00 [VRB] Connection id "0HMCUFEL34JS0" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:40:22.454 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:40:22.457 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:40:22.474 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:40:22.475 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:40:22.476 -07:00 [VRB] Connection id "0HMCUFEL34JS0" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:40:22.489 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:40:22.492 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:40:22.493 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:40:22.579 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:22.585 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:22.588 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:22.590 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:22.593 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:23.794 -07:00 [INF] Successfully validated the token.
2021-11-02 20:40:23.796 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:40:23.811 -07:00 [INF] Authorization was successful.
2021-11-02 20:40:23.813 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:40:23.842 -07:00 [DBG] Reading message.
2021-11-02 20:40:23.843 -07:00 [DBG] Connection id "0HMCUFEL34JS0", Request id "0HMCUFEL34JS0:00000001": started reading request body.
2021-11-02 20:40:23.845 -07:00 [DBG] Connection id "0HMCUFEL34JS0", Request id "0HMCUFEL34JS0:00000001": done reading request body.
2021-11-02 20:40:23.851 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:40:23.873 -07:00 [VRB] Received message.
2021-11-02 20:40:24.147 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:40:25.526 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:40:25.528 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:40:25.529 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:40:25.529 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:40:25.530 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:40:25.531 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:40:25.532 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:40:25.661 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:46:58.014 -07:00 [DBG] Hosting starting
2021-11-02 20:46:58.156 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:46:58.196 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:46:58.219 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:46:58.219 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:46:58.220 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:46:58.221 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:46:58.229 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:46:58.239 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:46:58.240 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:46:58.240 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:46:58.241 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:46:58.255 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:46:58.366 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:46:58.376 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:46:58.379 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:46:58.383 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:46:58.387 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:46:58.391 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:46:58.394 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:46:58.503 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:46:58.552 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:46:58.555 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:46:58.555 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:46:58.556 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:46:58.556 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:46:58.557 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:46:58.558 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:46:58.559 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:46:58.560 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:46:58.561 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:46:58.562 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:46:58.563 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:46:58.564 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:46:58.565 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:46:58.567 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:46:58.569 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:46:58.745 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:46:58.822 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:46:58.822 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:46:58.824 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:46:58.824 -07:00 [INF] Hosting environment: Development
2021-11-02 20:46:58.825 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:46:58.825 -07:00 [DBG] Hosting started
2021-11-02 20:47:06.794 -07:00 [DBG] Connection id "0HMCUFIDKEA4A" accepted.
2021-11-02 20:47:06.803 -07:00 [DBG] Connection id "0HMCUFIDKEA4A" started.
2021-11-02 20:47:06.919 -07:00 [DBG] Connection "0HMCUFIDKEA4A" established using the following protocol: "Tls12"
2021-11-02 20:47:06.965 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:47:06.974 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:47:06.976 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:47:06.978 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:47:06.979 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:47:06.982 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:47:07.017 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:47:07.019 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:47:07.023 -07:00 [VRB] Connection id "0HMCUFIDKEA4A" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:47:07.044 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:47:07.047 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:47:07.047 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:47:07.230 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:07.287 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:07.297 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:07.300 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:07.307 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:08.602 -07:00 [INF] Successfully validated the token.
2021-11-02 20:47:08.608 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:47:08.628 -07:00 [INF] Authorization was successful.
2021-11-02 20:47:08.633 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:47:08.654 -07:00 [DBG] Reading message.
2021-11-02 20:47:08.655 -07:00 [DBG] Connection id "0HMCUFIDKEA4A", Request id "0HMCUFIDKEA4A:00000001": started reading request body.
2021-11-02 20:47:08.657 -07:00 [DBG] Connection id "0HMCUFIDKEA4A", Request id "0HMCUFIDKEA4A:00000001": done reading request body.
2021-11-02 20:47:08.663 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:47:08.681 -07:00 [VRB] Received message.
2021-11-02 20:47:09.034 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:47:10.707 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:47:10.715 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:47:10.717 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:47:10.718 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:47:10.719 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:47:10.721 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:47:10.729 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:47:11.024 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:47:51.382 -07:00 [DBG] Hosting starting
2021-11-02 20:47:51.456 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:47:51.502 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:47:51.525 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:47:51.525 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:47:51.526 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:47:51.526 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:47:51.536 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:47:51.548 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:47:51.548 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:47:51.548 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:47:51.549 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:47:51.562 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:47:51.610 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:47:51.613 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:47:51.615 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:47:51.620 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:47:51.625 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:47:51.629 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:47:51.631 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:47:51.715 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:47:51.792 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:47:51.797 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:47:51.797 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:47:51.798 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:47:51.798 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:47:51.800 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:47:51.801 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:47:51.802 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:47:51.804 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:47:51.810 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:47:51.811 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:47:51.813 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:47:51.814 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:47:51.815 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:47:51.816 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:47:51.818 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:47:52.207 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:47:52.292 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:47:52.292 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:47:52.294 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:47:52.295 -07:00 [INF] Hosting environment: Development
2021-11-02 20:47:52.296 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:47:52.296 -07:00 [DBG] Hosting started
2021-11-02 20:48:26.230 -07:00 [DBG] Hosting starting
2021-11-02 20:48:26.352 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:48:26.390 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:48:26.412 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:48:26.414 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:48:26.415 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:48:26.415 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:48:26.424 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:48:26.436 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:48:26.441 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:48:26.451 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:48:26.456 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:48:26.479 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:48:26.533 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:48:26.536 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:48:26.538 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:48:26.543 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:48:26.549 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:48:26.554 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:48:26.555 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:48:26.612 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:48:26.703 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:48:26.705 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:48:26.705 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:48:26.706 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:48:26.706 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:48:26.707 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:48:26.708 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:48:26.709 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:48:26.710 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:48:26.711 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:48:26.713 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:48:26.718 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:48:26.720 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:48:26.721 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:48:26.723 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:48:26.725 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:48:26.898 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:48:26.976 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:48:26.976 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:48:26.978 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:48:26.979 -07:00 [INF] Hosting environment: Development
2021-11-02 20:48:26.979 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:48:26.980 -07:00 [DBG] Hosting started
2021-11-02 20:48:34.630 -07:00 [DBG] Connection id "0HMCUFJ7Q3231" accepted.
2021-11-02 20:48:34.647 -07:00 [DBG] Connection id "0HMCUFJ7Q3231" started.
2021-11-02 20:48:34.761 -07:00 [DBG] Connection "0HMCUFJ7Q3231" established using the following protocol: "Tls12"
2021-11-02 20:48:34.810 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:48:34.833 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:48:34.834 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:48:34.835 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:48:34.836 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:48:34.839 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:48:34.876 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:48:34.883 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:48:34.886 -07:00 [VRB] Connection id "0HMCUFJ7Q3231" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:48:34.906 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:48:34.909 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:48:34.909 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:48:34.996 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:35.001 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:35.004 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:35.005 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:35.007 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:36.286 -07:00 [INF] Successfully validated the token.
2021-11-02 20:48:36.290 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:48:36.311 -07:00 [INF] Authorization was successful.
2021-11-02 20:48:36.313 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:48:36.338 -07:00 [DBG] Reading message.
2021-11-02 20:48:36.339 -07:00 [DBG] Connection id "0HMCUFJ7Q3231", Request id "0HMCUFJ7Q3231:00000001": started reading request body.
2021-11-02 20:48:36.340 -07:00 [DBG] Connection id "0HMCUFJ7Q3231", Request id "0HMCUFJ7Q3231:00000001": done reading request body.
2021-11-02 20:48:36.345 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:48:36.367 -07:00 [VRB] Received message.
2021-11-02 20:48:36.793 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:48:38.576 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:48:38.587 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:48:38.590 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:48:38.592 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:48:38.594 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:48:38.595 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:48:38.596 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:48:38.826 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:50:06.451 -07:00 [DBG] Hosting starting
2021-11-02 20:50:06.662 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:50:06.705 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:50:06.729 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:50:06.730 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:50:06.731 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:50:06.731 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:50:06.742 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:50:06.751 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:50:06.751 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:50:06.752 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:50:06.755 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:50:06.776 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:50:06.886 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:50:06.889 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:50:06.890 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:50:06.894 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:50:06.898 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:50:06.902 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:50:06.903 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:50:06.989 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:50:07.037 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:50:07.049 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:50:07.050 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:50:07.050 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:50:07.055 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:50:07.057 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:50:07.059 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:50:07.060 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:50:07.067 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:50:07.072 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:50:07.073 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:50:07.074 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:50:07.075 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:50:07.076 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:50:07.077 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:50:07.079 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:50:07.263 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:50:07.364 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:50:07.365 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:50:07.367 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:50:07.367 -07:00 [INF] Hosting environment: Development
2021-11-02 20:50:07.368 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:50:07.368 -07:00 [DBG] Hosting started
2021-11-02 20:50:07.551 -07:00 [DBG] Connection id "0HMCUFK3G8U5E" accepted.
2021-11-02 20:50:07.553 -07:00 [DBG] Connection id "0HMCUFK3G8U5E" started.
2021-11-02 20:50:07.692 -07:00 [DBG] Connection "0HMCUFK3G8U5E" established using the following protocol: "Tls12"
2021-11-02 20:50:07.787 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:50:07.795 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:50:07.796 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:50:07.799 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:50:07.801 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:50:07.805 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:50:07.843 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:50:07.846 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:50:07.856 -07:00 [VRB] Connection id "0HMCUFK3G8U5E" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:50:07.882 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:50:07.888 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:50:07.889 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:50:08.050 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:08.056 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:08.059 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:08.060 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:08.062 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:09.337 -07:00 [INF] Successfully validated the token.
2021-11-02 20:50:09.342 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:50:09.352 -07:00 [INF] Authorization was successful.
2021-11-02 20:50:09.354 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:50:09.374 -07:00 [DBG] Reading message.
2021-11-02 20:50:09.375 -07:00 [DBG] Connection id "0HMCUFK3G8U5E", Request id "0HMCUFK3G8U5E:00000001": started reading request body.
2021-11-02 20:50:09.376 -07:00 [DBG] Connection id "0HMCUFK3G8U5E", Request id "0HMCUFK3G8U5E:00000001": done reading request body.
2021-11-02 20:50:09.382 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:50:09.398 -07:00 [VRB] Received message.
2021-11-02 20:50:09.728 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:50:11.283 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:50:11.286 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:50:11.288 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:50:11.289 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:50:11.291 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:50:11.292 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:50:11.293 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:50:11.444 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:52:26.248 -07:00 [DBG] Hosting starting
2021-11-02 20:52:26.364 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-02 20:52:26.433 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-02 20:52:26.471 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-02 20:52:26.472 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-02 20:52:26.474 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-02 20:52:26.477 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-02 20:52:26.487 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-02 20:52:26.510 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-02 20:52:26.511 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-02 20:52:26.518 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-02 20:52:26.525 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-02 20:52:26.549 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-02 20:52:26.781 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:52:26.809 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-02 20:52:26.815 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-02 20:52:26.838 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-02 20:52:26.844 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-02 20:52:26.850 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-02 20:52:26.852 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-02 20:52:27.078 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-02 20:52:27.277 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-02 20:52:27.298 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-02 20:52:27.311 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-02 20:52:27.312 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-02 20:52:27.313 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-02 20:52:27.318 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-02 20:52:27.320 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-02 20:52:27.322 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-02 20:52:27.330 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-02 20:52:27.331 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-02 20:52:27.332 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-02 20:52:27.334 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-02 20:52:27.336 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-02 20:52:27.337 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-02 20:52:27.343 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-02 20:52:27.344 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-02 20:52:27.717 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-02 20:52:27.838 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-02 20:52:27.838 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-02 20:52:27.841 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-02 20:52:27.841 -07:00 [INF] Hosting environment: Development
2021-11-02 20:52:27.842 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-02 20:52:27.843 -07:00 [DBG] Hosting started
2021-11-02 20:52:39.342 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" accepted.
2021-11-02 20:52:39.344 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" started.
2021-11-02 20:52:39.475 -07:00 [DBG] Connection "0HMCUFLGNRBRG" established using the following protocol: "Tls12"
2021-11-02 20:52:39.525 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:52:39.540 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:52:39.541 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:52:39.543 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:52:39.544 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:52:39.546 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:52:39.570 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:52:39.571 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:52:39.573 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:52:39.598 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:52:39.602 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:52:39.603 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:52:39.713 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:39.718 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:39.720 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:39.721 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:39.723 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:40.804 -07:00 [INF] Successfully validated the token.
2021-11-02 20:52:40.809 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:52:40.826 -07:00 [INF] Authorization was successful.
2021-11-02 20:52:40.830 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:52:40.855 -07:00 [DBG] Reading message.
2021-11-02 20:52:40.856 -07:00 [DBG] Connection id "0HMCUFLGNRBRG", Request id "0HMCUFLGNRBRG:00000001": started reading request body.
2021-11-02 20:52:40.858 -07:00 [DBG] Connection id "0HMCUFLGNRBRG", Request id "0HMCUFLGNRBRG:00000001": done reading request body.
2021-11-02 20:52:40.865 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:52:40.884 -07:00 [VRB] Received message.
2021-11-02 20:52:41.331 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-02 20:52:43.011 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:52:43.018 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-02 20:52:43.019 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-02 20:52:43.022 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:52:43.032 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-02 20:52:43.034 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-02 20:52:43.042 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-02 20:52:43.301 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-02 20:52:43.818 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-02 20:52:49.368 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-02 20:52:50.112 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-02 20:52:50.248 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-02 20:52:50.384 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (130ms).
2021-11-02 20:52:50.423 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:52:51.354 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:52:51.376 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-02 20:52:52.225 -07:00 [INF] Executed DbCommand (856ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-02 20:53:10.904 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-02 20:53:11.017 -07:00 [DBG] A data reader was disposed.
2021-11-02 20:53:11.021 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:53:11.036 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:53:51.001 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-02 20:53:51.321 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 20:53:51.461 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:53:51.476 -07:00 [VRB] Connection id "0HMCUFLGNRBRG" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-02 20:53:51.495 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-02 20:53:51.510 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 71911.6229ms
2021-11-02 20:53:51.589 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" reset.
2021-11-02 20:53:51.590 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" is closed. The last processed stream ID was 1.
2021-11-02 20:53:51.591 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" sending FIN because: "The client closed the connection."
2021-11-02 20:53:51.601 -07:00 [DBG] Connection id "0HMCUFLGNRBRG" stopped.
2021-11-02 20:54:16.393 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" accepted.
2021-11-02 20:54:16.425 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" started.
2021-11-02 20:54:16.468 -07:00 [DBG] Connection "0HMCUFLGNRBRH" established using the following protocol: "Tls12"
2021-11-02 20:54:16.475 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-02 20:54:16.476 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:54:16.478 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-02 20:54:16.487 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:54:16.488 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-02 20:54:16.489 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-02 20:54:16.490 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-02 20:54:16.491 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-02 20:54:16.496 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-02 20:54:16.497 -07:00 [VRB] All hosts are allowed.
2021-11-02 20:54:16.502 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-02 20:54:16.530 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.530 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-02 20:54:16.533 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.547 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.548 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.550 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.552 -07:00 [INF] Successfully validated the token.
2021-11-02 20:54:16.554 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-02 20:54:16.556 -07:00 [INF] Authorization was successful.
2021-11-02 20:54:16.556 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:16.557 -07:00 [DBG] Reading message.
2021-11-02 20:54:16.557 -07:00 [DBG] Connection id "0HMCUFLGNRBRH", Request id "0HMCUFLGNRBRH:00000001": started reading request body.
2021-11-02 20:54:16.559 -07:00 [DBG] Connection id "0HMCUFLGNRBRH", Request id "0HMCUFLGNRBRH:00000001": done reading request body.
2021-11-02 20:54:16.560 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-02 20:54:16.561 -07:00 [VRB] Received message.
2021-11-02 20:54:16.599 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-02 20:54:20.287 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-02 20:54:20.289 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-11-02 20:54:20.291 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:54:20.293 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:54:20.294 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-02 20:54:20.358 -07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-02 20:54:25.546 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-02 20:54:25.548 -07:00 [DBG] A data reader was disposed.
2021-11-02 20:54:25.551 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:54:25.555 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-02 20:54:33.219 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-02 20:54:33.226 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-02 20:54:33.227 -07:00 [VRB] Connection id "0HMCUFLGNRBRH" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-02 20:54:33.228 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-02 20:54:33.228 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 16737.6089ms
2021-11-02 20:54:33.387 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" reset.
2021-11-02 20:54:33.391 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" is closed. The last processed stream ID was 1.
2021-11-02 20:54:33.392 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" sending FIN because: "The client closed the connection."
2021-11-02 20:54:33.393 -07:00 [DBG] Connection id "0HMCUFLGNRBRH" stopped.
2021-11-05 15:37:52.904 -07:00 [DBG] Hosting starting
2021-11-05 15:37:53.124 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 15:37:53.277 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 15:37:53.351 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 15:37:53.362 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 15:37:53.374 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 15:37:53.386 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 15:37:53.418 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 15:37:53.429 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 15:37:53.429 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 15:37:53.430 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 15:37:53.430 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 15:37:53.443 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 15:37:53.515 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:37:53.524 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 15:37:53.526 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:37:53.530 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 15:37:53.533 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 15:37:53.538 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 15:37:53.540 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 15:37:53.658 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 15:37:53.733 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 15:37:53.746 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 15:37:53.747 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 15:37:53.749 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 15:37:53.750 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 15:37:53.752 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 15:37:53.753 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 15:37:53.755 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 15:37:53.756 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 15:37:53.758 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 15:37:53.767 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 15:37:53.770 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 15:37:53.771 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 15:37:53.772 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 15:37:53.773 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 15:37:53.775 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 15:37:54.498 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 15:37:54.587 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 15:37:54.588 -07:00 [DBG] Loaded hosting startup assembly gRPCAnnotationService
2021-11-05 15:37:54.592 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 15:37:54.594 -07:00 [INF] Hosting environment: Development
2021-11-05 15:37:54.595 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 15:37:54.595 -07:00 [DBG] Hosting started
2021-11-05 15:40:04.821 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" accepted.
2021-11-05 15:40:04.838 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" started.
2021-11-05 15:40:04.932 -07:00 [DBG] Connection "0HMD0LKR2K5T5" established using the following protocol: "Tls12"
2021-11-05 15:40:04.991 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:40:04.999 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:40:05.000 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:40:05.003 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:40:05.004 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:40:05.006 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:40:05.028 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:40:05.029 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:40:05.036 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:40:05.062 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:40:05.065 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 15:40:05.066 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:40:05.345 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:05.361 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:05.367 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:05.368 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:05.370 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:06.672 -07:00 [INF] Successfully validated the token.
2021-11-05 15:40:06.675 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:40:06.691 -07:00 [INF] Authorization was successful.
2021-11-05 15:40:06.693 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:06.717 -07:00 [DBG] Reading message.
2021-11-05 15:40:06.718 -07:00 [DBG] Connection id "0HMD0LKR2K5T5", Request id "0HMD0LKR2K5T5:00000001": started reading request body.
2021-11-05 15:40:06.722 -07:00 [DBG] Connection id "0HMD0LKR2K5T5", Request id "0HMD0LKR2K5T5:00000001": done reading request body.
2021-11-05 15:40:06.727 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:40:06.753 -07:00 [VRB] Received message.
2021-11-05 15:40:07.046 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 15:40:08.631 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:40:08.634 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:40:08.637 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 15:40:08.639 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:40:08.641 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:40:08.642 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 15:40:08.643 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 15:40:08.803 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 15:40:09.135 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:40:12.701 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 15:40:13.308 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 15:40:13.426 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:40:13.537 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (105ms).
2021-11-05 15:40:13.582 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:40:14.243 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:40:14.262 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:40:14.509 -07:00 [INF] Executed DbCommand (251ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:40:19.487 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:40:19.649 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:40:19.658 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:40:19.675 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:40:21.117 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:40:21.232 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:40:21.249 -07:00 [VRB] Connection id "0HMD0LKR2K5T5" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:40:21.265 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:40:21.282 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 16221.8409ms
2021-11-05 15:40:21.666 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" reset.
2021-11-05 15:40:21.673 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" is closed. The last processed stream ID was 1.
2021-11-05 15:40:21.675 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" sending FIN because: "The client closed the connection."
2021-11-05 15:40:21.708 -07:00 [DBG] Connection id "0HMD0LKR2K5T5" stopped.
2021-11-05 15:41:20.617 -07:00 [DBG] Connection id "0HMD0LKR2K5T6" accepted.
2021-11-05 15:41:20.622 -07:00 [DBG] Connection id "0HMD0LKR2K5T6" started.
2021-11-05 15:41:20.668 -07:00 [DBG] Connection "0HMD0LKR2K5T6" established using the following protocol: "Tls12"
2021-11-05 15:41:20.680 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:41:20.680 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:41:20.681 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:41:20.682 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:41:20.683 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:41:20.687 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:41:20.700 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:41:20.700 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:41:20.701 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:41:20.701 -07:00 [VRB] Connection id "0HMD0LKR2K5T6" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:41:20.702 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:41:20.710 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.711 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.712 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.717 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.718 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.720 -07:00 [INF] Successfully validated the token.
2021-11-05 15:41:20.720 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:41:20.721 -07:00 [INF] Authorization was successful.
2021-11-05 15:41:20.721 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:41:20.722 -07:00 [DBG] Reading message.
2021-11-05 15:41:20.722 -07:00 [DBG] Connection id "0HMD0LKR2K5T6", Request id "0HMD0LKR2K5T6:00000001": started reading request body.
2021-11-05 15:41:20.723 -07:00 [DBG] Connection id "0HMD0LKR2K5T6", Request id "0HMD0LKR2K5T6:00000001": done reading request body.
2021-11-05 15:41:20.725 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:41:20.727 -07:00 [VRB] Received message.
2021-11-05 15:41:20.762 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:41:32.378 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:41:32.379 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:41:32.380 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:41:32.383 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:41:32.383 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:41:32.435 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:41:35.060 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:42:00.677 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:42:33.403 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:42:52.299 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:42:52.301 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:42:52.301 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:42:52.308 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:42:52.312 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:42:55.461 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:45:58.874 -07:00 [DBG] Hosting starting
2021-11-05 15:45:59.007 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 15:45:59.060 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 15:45:59.094 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 15:45:59.100 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 15:45:59.101 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 15:45:59.102 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 15:45:59.111 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 15:45:59.126 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 15:45:59.127 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 15:45:59.128 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 15:45:59.129 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 15:45:59.140 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 15:45:59.217 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:45:59.224 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 15:45:59.227 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:45:59.233 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 15:45:59.238 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 15:45:59.242 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 15:45:59.244 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 15:45:59.372 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 15:45:59.439 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 15:45:59.442 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 15:45:59.445 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 15:45:59.446 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 15:45:59.447 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 15:45:59.449 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 15:45:59.453 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 15:45:59.455 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 15:45:59.456 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 15:45:59.461 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 15:45:59.464 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 15:45:59.466 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 15:45:59.467 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 15:45:59.469 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 15:45:59.470 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 15:45:59.472 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 15:45:59.705 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 15:45:59.833 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 15:45:59.849 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 15:45:59.850 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 15:45:59.851 -07:00 [INF] Hosting environment: Development
2021-11-05 15:45:59.852 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 15:45:59.853 -07:00 [DBG] Hosting started
2021-11-05 15:46:04.415 -07:00 [DBG] Connection id "0HMD0LO67VROB" accepted.
2021-11-05 15:46:04.417 -07:00 [DBG] Connection id "0HMD0LO67VROB" started.
2021-11-05 15:46:04.496 -07:00 [DBG] Connection "0HMD0LO67VROB" established using the following protocol: "Tls12"
2021-11-05 15:46:04.537 -07:00 [VRB] Connection id "0HMD0LO67VROB" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:46:04.544 -07:00 [VRB] Connection id "0HMD0LO67VROB" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:46:04.545 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:46:04.547 -07:00 [VRB] Connection id "0HMD0LO67VROB" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:46:04.547 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:46:04.549 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:46:04.573 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:46:04.575 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:46:04.577 -07:00 [VRB] Connection id "0HMD0LO67VROB" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:46:04.600 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:46:04.604 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 15:46:04.605 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:46:04.749 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:04.776 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:04.791 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:04.792 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:04.794 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:06.053 -07:00 [INF] Successfully validated the token.
2021-11-05 15:46:06.057 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:46:06.071 -07:00 [INF] Authorization was successful.
2021-11-05 15:46:06.073 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:46:06.091 -07:00 [DBG] Reading message.
2021-11-05 15:46:06.093 -07:00 [DBG] Connection id "0HMD0LO67VROB", Request id "0HMD0LO67VROB:00000001": started reading request body.
2021-11-05 15:46:06.093 -07:00 [DBG] Connection id "0HMD0LO67VROB", Request id "0HMD0LO67VROB:00000001": done reading request body.
2021-11-05 15:46:06.097 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:46:06.111 -07:00 [VRB] Received message.
2021-11-05 15:46:06.325 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 15:46:07.847 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:46:07.850 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:46:07.851 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 15:46:07.852 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:46:07.856 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:46:07.858 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 15:46:07.861 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 15:46:07.996 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 15:46:08.295 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:46:19.136 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 15:46:19.253 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:46:19.650 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 15:46:19.777 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:46:19.889 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (107ms).
2021-11-05 15:46:19.924 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:46:20.671 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:46:20.690 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:46:20.820 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:46:20.971 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:46:21.092 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:46:21.099 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:46:21.111 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:47:22.251 -07:00 [DBG] Hosting starting
2021-11-05 15:47:22.349 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 15:47:22.450 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 15:47:22.478 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 15:47:22.486 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 15:47:22.486 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 15:47:22.487 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 15:47:22.495 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 15:47:22.509 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 15:47:22.509 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 15:47:22.510 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 15:47:22.511 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 15:47:22.528 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 15:47:22.597 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:47:22.601 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 15:47:22.603 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:47:22.608 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 15:47:22.611 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 15:47:22.616 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 15:47:22.618 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 15:47:22.740 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 15:47:22.787 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 15:47:22.789 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 15:47:22.789 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 15:47:22.789 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 15:47:22.790 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 15:47:22.791 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 15:47:22.792 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 15:47:22.793 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 15:47:22.794 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 15:47:22.795 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 15:47:22.796 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 15:47:22.797 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 15:47:22.798 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 15:47:22.799 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 15:47:22.803 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 15:47:22.804 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 15:47:22.950 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 15:47:23.023 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 15:47:23.023 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 15:47:23.024 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 15:47:23.025 -07:00 [INF] Hosting environment: Development
2021-11-05 15:47:23.025 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 15:47:23.026 -07:00 [DBG] Hosting started
2021-11-05 15:47:30.368 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" accepted.
2021-11-05 15:47:30.382 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" started.
2021-11-05 15:47:30.509 -07:00 [DBG] Connection "0HMD0LOVRLR6I" established using the following protocol: "Tls12"
2021-11-05 15:47:30.572 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:47:30.577 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:47:30.578 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:47:30.580 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:47:30.580 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:47:30.582 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:47:30.604 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:47:30.605 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:47:30.606 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:47:30.621 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:47:30.623 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 15:47:30.623 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:47:30.750 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:30.757 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:30.760 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:30.761 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:30.763 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:31.966 -07:00 [INF] Successfully validated the token.
2021-11-05 15:47:31.972 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:47:31.990 -07:00 [INF] Authorization was successful.
2021-11-05 15:47:31.992 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:32.025 -07:00 [DBG] Reading message.
2021-11-05 15:47:32.032 -07:00 [DBG] Connection id "0HMD0LOVRLR6I", Request id "0HMD0LOVRLR6I:00000001": started reading request body.
2021-11-05 15:47:32.036 -07:00 [DBG] Connection id "0HMD0LOVRLR6I", Request id "0HMD0LOVRLR6I:00000001": done reading request body.
2021-11-05 15:47:32.048 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:47:32.072 -07:00 [VRB] Received message.
2021-11-05 15:47:32.365 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 15:47:33.492 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:47:33.495 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:47:33.498 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 15:47:33.500 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:47:33.502 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:47:33.506 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 15:47:33.512 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 15:47:33.754 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 15:47:34.266 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:47:34.454 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 15:47:34.805 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 15:47:34.909 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:47:34.994 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2021-11-05 15:47:35.027 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:47:35.611 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:47:35.633 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:47:35.782 -07:00 [INF] Executed DbCommand (158ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:47:35.954 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:47:36.102 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:47:36.112 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:47:36.131 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:47:38.414 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:47:38.524 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:47:38.535 -07:00 [VRB] Connection id "0HMD0LOVRLR6I" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:47:38.554 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:47:38.577 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 7954.3920ms
2021-11-05 15:47:38.921 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" reset.
2021-11-05 15:47:38.932 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" is closed. The last processed stream ID was 1.
2021-11-05 15:47:38.934 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" sending FIN because: "The client closed the connection."
2021-11-05 15:47:38.945 -07:00 [DBG] Connection id "0HMD0LOVRLR6I" stopped.
2021-11-05 15:49:44.837 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" accepted.
2021-11-05 15:49:44.847 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" started.
2021-11-05 15:49:44.879 -07:00 [DBG] Connection "0HMD0LOVRLR6J" established using the following protocol: "Tls12"
2021-11-05 15:49:44.911 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:49:44.913 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:49:44.917 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:49:44.918 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:49:44.919 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:49:44.921 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:49:44.932 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:49:44.937 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:49:44.963 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:49:44.963 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:49:44.979 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:49:44.980 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:44.991 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:44.994 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:44.995 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:44.997 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:45.000 -07:00 [INF] Successfully validated the token.
2021-11-05 15:49:45.000 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:49:45.002 -07:00 [INF] Authorization was successful.
2021-11-05 15:49:45.002 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:49:45.004 -07:00 [DBG] Reading message.
2021-11-05 15:49:45.007 -07:00 [DBG] Connection id "0HMD0LOVRLR6J", Request id "0HMD0LOVRLR6J:00000001": started reading request body.
2021-11-05 15:49:45.008 -07:00 [DBG] Connection id "0HMD0LOVRLR6J", Request id "0HMD0LOVRLR6J:00000001": done reading request body.
2021-11-05 15:49:45.010 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:49:45.012 -07:00 [VRB] Received message.
2021-11-05 15:49:45.058 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:49:45.062 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:49:45.063 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:49:45.064 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:49:45.066 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:49:45.066 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:49:45.120 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:49:45.124 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:49:45.124 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:49:45.125 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:49:45.125 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:50:31.474 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 15:50:31.714 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:50:31.724 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:50:31.725 -07:00 [VRB] Connection id "0HMD0LOVRLR6J" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:50:31.726 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:50:31.726 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 46789.0913ms
2021-11-05 15:50:32.271 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" reset.
2021-11-05 15:50:32.287 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" is closed. The last processed stream ID was 1.
2021-11-05 15:50:32.291 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" sending FIN because: "The client closed the connection."
2021-11-05 15:50:32.308 -07:00 [DBG] Connection id "0HMD0LOVRLR6J" stopped.
2021-11-05 15:52:15.662 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" accepted.
2021-11-05 15:52:15.672 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" started.
2021-11-05 15:52:15.698 -07:00 [DBG] Connection "0HMD0LOVRLR6K" established using the following protocol: "Tls12"
2021-11-05 15:52:15.703 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:52:15.728 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:52:15.730 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:52:15.738 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:52:15.740 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:52:15.742 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:52:15.745 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:52:15.745 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:52:15.745 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:52:15.746 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 15:52:15.747 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:52:15.747 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:52:15.749 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.750 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.751 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.753 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.754 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.758 -07:00 [INF] Successfully validated the token.
2021-11-05 15:52:15.762 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:52:15.763 -07:00 [INF] Authorization was successful.
2021-11-05 15:52:15.763 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:15.764 -07:00 [DBG] Reading message.
2021-11-05 15:52:15.764 -07:00 [DBG] Connection id "0HMD0LOVRLR6K", Request id "0HMD0LOVRLR6K:00000001": started reading request body.
2021-11-05 15:52:15.765 -07:00 [DBG] Connection id "0HMD0LOVRLR6K", Request id "0HMD0LOVRLR6K:00000001": done reading request body.
2021-11-05 15:52:15.766 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:52:15.767 -07:00 [VRB] Received message.
2021-11-05 15:52:15.779 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:52:15.781 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:52:15.781 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:52:15.782 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:52:15.783 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:52:15.783 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:52:15.831 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:52:15.835 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:52:15.840 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:52:15.846 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:52:15.846 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:52:44.843 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:52:44.883 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:52:44.883 -07:00 [VRB] Connection id "0HMD0LOVRLR6K" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:52:44.884 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:52:44.885 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 29139.8169ms
2021-11-05 15:52:45.357 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" reset.
2021-11-05 15:52:45.358 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" is closed. The last processed stream ID was 1.
2021-11-05 15:52:45.361 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" sending FIN because: "The client closed the connection."
2021-11-05 15:52:45.362 -07:00 [DBG] Connection id "0HMD0LOVRLR6K" stopped.
2021-11-05 15:54:21.157 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" accepted.
2021-11-05 15:54:21.158 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" started.
2021-11-05 15:54:21.207 -07:00 [DBG] Connection "0HMD0LOVRLR6L" established using the following protocol: "Tls12"
2021-11-05 15:54:21.230 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:54:21.247 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:54:21.256 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:54:21.257 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:54:21.260 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:54:21.261 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:54:21.325 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:54:21.326 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:54:21.326 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:54:21.327 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:54:21.328 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:54:21.328 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.333 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.336 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.339 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.341 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.342 -07:00 [INF] Successfully validated the token.
2021-11-05 15:54:21.342 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:54:21.342 -07:00 [INF] Authorization was successful.
2021-11-05 15:54:21.343 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:21.343 -07:00 [DBG] Reading message.
2021-11-05 15:54:21.344 -07:00 [DBG] Connection id "0HMD0LOVRLR6L", Request id "0HMD0LOVRLR6L:00000001": started reading request body.
2021-11-05 15:54:21.346 -07:00 [DBG] Connection id "0HMD0LOVRLR6L", Request id "0HMD0LOVRLR6L:00000001": done reading request body.
2021-11-05 15:54:21.348 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:54:21.354 -07:00 [VRB] Received message.
2021-11-05 15:54:21.357 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:54:21.358 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:54:21.358 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:54:21.359 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:54:21.360 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:54:21.360 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:54:21.410 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:54:21.416 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:54:21.420 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:54:21.420 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:54:21.422 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:54:30.950 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:54:30.968 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:54:30.969 -07:00 [VRB] Connection id "0HMD0LOVRLR6L" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:54:30.970 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:54:30.970 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 9644.0324ms
2021-11-05 15:56:09.643 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" reset.
2021-11-05 15:56:09.644 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" is closed. The last processed stream ID was 1.
2021-11-05 15:56:09.646 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" sending FIN because: "The client closed the connection."
2021-11-05 15:56:09.657 -07:00 [DBG] Connection id "0HMD0LOVRLR6L" stopped.
2021-11-05 15:56:25.019 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" accepted.
2021-11-05 15:56:25.019 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" started.
2021-11-05 15:56:25.067 -07:00 [DBG] Connection "0HMD0LOVRLR6M" established using the following protocol: "Tls12"
2021-11-05 15:56:25.084 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:56:25.085 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:56:25.086 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:56:25.088 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:56:25.092 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:56:25.093 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:56:25.107 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:56:25.108 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:56:25.108 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:56:25.109 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:56:25.110 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:56:25.111 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.113 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.115 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.116 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.117 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.119 -07:00 [INF] Successfully validated the token.
2021-11-05 15:56:25.123 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:56:25.125 -07:00 [INF] Authorization was successful.
2021-11-05 15:56:25.127 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:25.128 -07:00 [DBG] Reading message.
2021-11-05 15:56:25.132 -07:00 [DBG] Connection id "0HMD0LOVRLR6M", Request id "0HMD0LOVRLR6M:00000001": started reading request body.
2021-11-05 15:56:25.133 -07:00 [DBG] Connection id "0HMD0LOVRLR6M", Request id "0HMD0LOVRLR6M:00000001": done reading request body.
2021-11-05 15:56:25.136 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:56:25.139 -07:00 [VRB] Received message.
2021-11-05 15:56:25.140 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:56:25.140 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:56:25.141 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:56:25.142 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:56:25.142 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:56:25.143 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:56:25.193 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:56:25.198 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:56:25.198 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:56:25.199 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:56:25.199 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:56:28.213 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:56:28.220 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:56:28.220 -07:00 [VRB] Connection id "0HMD0LOVRLR6M" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:56:28.221 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:56:28.221 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 3112.8837ms
2021-11-05 15:56:34.713 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" reset.
2021-11-05 15:56:34.713 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" is closed. The last processed stream ID was 1.
2021-11-05 15:56:34.715 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" sending FIN because: "The client closed the connection."
2021-11-05 15:56:34.716 -07:00 [DBG] Connection id "0HMD0LOVRLR6M" stopped.
2021-11-05 15:57:02.371 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" accepted.
2021-11-05 15:57:02.391 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" started.
2021-11-05 15:57:02.447 -07:00 [DBG] Connection "0HMD0LOVRLR6N" established using the following protocol: "Tls12"
2021-11-05 15:57:02.549 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:57:02.568 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:57:02.575 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:57:02.587 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:57:02.603 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:57:02.605 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:57:02.606 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:57:02.606 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:57:02.607 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:57:02.608 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:57:02.611 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:57:02.612 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.614 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.616 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.617 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.619 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.621 -07:00 [INF] Successfully validated the token.
2021-11-05 15:57:02.623 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:57:02.627 -07:00 [INF] Authorization was successful.
2021-11-05 15:57:02.628 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:02.628 -07:00 [DBG] Reading message.
2021-11-05 15:57:02.629 -07:00 [DBG] Connection id "0HMD0LOVRLR6N", Request id "0HMD0LOVRLR6N:00000001": started reading request body.
2021-11-05 15:57:02.630 -07:00 [DBG] Connection id "0HMD0LOVRLR6N", Request id "0HMD0LOVRLR6N:00000001": done reading request body.
2021-11-05 15:57:02.631 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:57:02.632 -07:00 [VRB] Received message.
2021-11-05 15:57:02.634 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:57:02.636 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:57:02.637 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 15:57:02.637 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:57:02.638 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:57:02.638 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:57:02.689 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:57:02.701 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:57:02.702 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:57:02.703 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:57:02.704 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:57:20.699 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:57:20.705 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:57:20.705 -07:00 [VRB] Connection id "0HMD0LOVRLR6N" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:57:20.706 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:57:20.707 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 18100.5382ms
2021-11-05 15:57:32.360 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" reset.
2021-11-05 15:57:32.363 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" is closed. The last processed stream ID was 1.
2021-11-05 15:57:32.365 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" sending FIN because: "The client closed the connection."
2021-11-05 15:57:32.369 -07:00 [DBG] Connection id "0HMD0LOVRLR6N" stopped.
2021-11-05 15:58:04.237 -07:00 [DBG] Hosting starting
2021-11-05 15:58:04.378 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 15:58:04.445 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 15:58:04.467 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 15:58:04.468 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 15:58:04.468 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 15:58:04.469 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 15:58:04.477 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 15:58:04.489 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 15:58:04.490 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 15:58:04.490 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 15:58:04.492 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 15:58:04.507 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 15:58:04.559 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:58:04.564 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 15:58:04.566 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:58:04.571 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 15:58:04.575 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 15:58:04.579 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 15:58:04.580 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 15:58:04.662 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 15:58:04.715 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 15:58:04.716 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 15:58:04.717 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 15:58:04.717 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 15:58:04.717 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 15:58:04.718 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 15:58:04.719 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 15:58:04.720 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 15:58:04.721 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 15:58:04.722 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 15:58:04.723 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 15:58:04.724 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 15:58:04.725 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 15:58:04.726 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 15:58:04.727 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 15:58:04.729 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 15:58:04.972 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 15:58:05.089 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 15:58:05.114 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 15:58:05.115 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 15:58:05.116 -07:00 [INF] Hosting environment: Development
2021-11-05 15:58:05.118 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 15:58:05.118 -07:00 [DBG] Hosting started
2021-11-05 15:58:13.551 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" accepted.
2021-11-05 15:58:13.561 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" started.
2021-11-05 15:58:13.696 -07:00 [DBG] Connection "0HMD0LUVHCLRK" established using the following protocol: "Tls12"
2021-11-05 15:58:13.762 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:58:13.769 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:58:13.770 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:58:13.772 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:58:13.773 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:58:13.775 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:58:13.803 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:58:13.807 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:58:13.809 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:58:13.824 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:58:13.826 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 15:58:13.827 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:58:13.972 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:14.009 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:14.030 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:14.032 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:14.033 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:15.660 -07:00 [INF] Successfully validated the token.
2021-11-05 15:58:15.664 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:58:15.692 -07:00 [INF] Authorization was successful.
2021-11-05 15:58:15.699 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:15.728 -07:00 [DBG] Reading message.
2021-11-05 15:58:15.729 -07:00 [DBG] Connection id "0HMD0LUVHCLRK", Request id "0HMD0LUVHCLRK:00000001": started reading request body.
2021-11-05 15:58:15.733 -07:00 [DBG] Connection id "0HMD0LUVHCLRK", Request id "0HMD0LUVHCLRK:00000001": done reading request body.
2021-11-05 15:58:15.739 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:58:15.779 -07:00 [VRB] Received message.
2021-11-05 15:58:16.122 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 15:58:17.941 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:58:17.944 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 15:58:17.946 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 15:58:17.947 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:58:17.948 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 15:58:17.950 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 15:58:17.951 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 15:58:18.116 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 15:58:18.544 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:58:18.800 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 15:58:19.340 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 15:58:19.490 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:58:19.613 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (116ms).
2021-11-05 15:58:19.665 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:20.522 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:20.538 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:58:20.656 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:58:20.764 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:58:20.878 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:58:20.884 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:20.894 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:27.719 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:58:27.843 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:27.858 -07:00 [VRB] Connection id "0HMD0LUVHCLRK" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:58:27.875 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:58:27.889 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 14065.4927ms
2021-11-05 15:58:35.498 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" reset.
2021-11-05 15:58:35.500 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" is closed. The last processed stream ID was 1.
2021-11-05 15:58:35.502 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" sending FIN because: "The client closed the connection."
2021-11-05 15:58:35.511 -07:00 [DBG] Connection id "0HMD0LUVHCLRK" stopped.
2021-11-05 15:58:53.060 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" accepted.
2021-11-05 15:58:53.060 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" started.
2021-11-05 15:58:53.148 -07:00 [DBG] Connection "0HMD0LUVHCLRL" established using the following protocol: "Tls12"
2021-11-05 15:58:53.166 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 15:58:53.168 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:58:53.170 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 15:58:53.172 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:58:53.173 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 15:58:53.176 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 15:58:53.177 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 15:58:53.177 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 15:58:53.180 -07:00 [VRB] All hosts are allowed.
2021-11-05 15:58:53.182 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 15:58:53.183 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 15:58:53.192 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.194 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.196 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.198 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.201 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.205 -07:00 [INF] Successfully validated the token.
2021-11-05 15:58:53.206 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 15:58:53.207 -07:00 [INF] Authorization was successful.
2021-11-05 15:58:53.207 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:58:53.208 -07:00 [DBG] Reading message.
2021-11-05 15:58:53.209 -07:00 [DBG] Connection id "0HMD0LUVHCLRL", Request id "0HMD0LUVHCLRL:00000001": started reading request body.
2021-11-05 15:58:53.212 -07:00 [DBG] Connection id "0HMD0LUVHCLRL", Request id "0HMD0LUVHCLRL:00000001": done reading request body.
2021-11-05 15:58:53.213 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 15:58:53.216 -07:00 [VRB] Received message.
2021-11-05 15:58:53.254 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 15:58:53.260 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 15:58:53.262 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-11-05 15:58:53.263 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:53.265 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:53.267 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:58:53.327 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 15:58:53.333 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 15:58:53.334 -07:00 [DBG] A data reader was disposed.
2021-11-05 15:58:53.335 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:58:53.336 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 15:59:05.089 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 15:59:05.095 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 15:59:05.096 -07:00 [VRB] Connection id "0HMD0LUVHCLRL" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 15:59:05.098 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 15:59:05.098 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 11920.9254ms
2021-11-05 15:59:11.515 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" reset.
2021-11-05 15:59:11.516 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" is closed. The last processed stream ID was 1.
2021-11-05 15:59:11.519 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" sending FIN because: "The client closed the connection."
2021-11-05 15:59:11.537 -07:00 [DBG] Connection id "0HMD0LUVHCLRL" stopped.
2021-11-05 15:59:58.845 -07:00 [DBG] Hosting starting
2021-11-05 15:59:58.951 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 15:59:59.000 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 15:59:59.018 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 15:59:59.021 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 15:59:59.022 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 15:59:59.023 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 15:59:59.029 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 15:59:59.038 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 15:59:59.038 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 15:59:59.039 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 15:59:59.040 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 15:59:59.050 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 15:59:59.091 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:59:59.094 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 15:59:59.096 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 15:59:59.099 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 15:59:59.104 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 15:59:59.108 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 15:59:59.110 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 15:59:59.192 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 15:59:59.251 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 15:59:59.253 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 15:59:59.254 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 15:59:59.254 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 15:59:59.255 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 15:59:59.259 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 15:59:59.260 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 15:59:59.262 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 15:59:59.263 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 15:59:59.264 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 15:59:59.271 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 15:59:59.275 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 15:59:59.278 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 15:59:59.279 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 15:59:59.282 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 15:59:59.283 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 15:59:59.461 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 15:59:59.553 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 15:59:59.560 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 15:59:59.562 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 15:59:59.563 -07:00 [INF] Hosting environment: Development
2021-11-05 15:59:59.564 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 15:59:59.565 -07:00 [DBG] Hosting started
2021-11-05 16:00:08.366 -07:00 [DBG] Connection id "0HMD0M01OG0P6" accepted.
2021-11-05 16:00:08.373 -07:00 [DBG] Connection id "0HMD0M01OG0P6" started.
2021-11-05 16:00:08.589 -07:00 [DBG] Connection "0HMD0M01OG0P6" established using the following protocol: "Tls12"
2021-11-05 16:00:08.661 -07:00 [VRB] Connection id "0HMD0M01OG0P6" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:00:08.669 -07:00 [VRB] Connection id "0HMD0M01OG0P6" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:00:08.672 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:00:08.676 -07:00 [VRB] Connection id "0HMD0M01OG0P6" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:00:08.677 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:00:08.682 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:00:08.706 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:00:08.707 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:00:08.709 -07:00 [VRB] Connection id "0HMD0M01OG0P6" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:00:08.767 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:00:08.779 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:00:08.782 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:00:08.950 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:08.958 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:08.962 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:08.963 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:08.965 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:10.435 -07:00 [INF] Successfully validated the token.
2021-11-05 16:00:10.447 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:00:10.467 -07:00 [INF] Authorization was successful.
2021-11-05 16:00:10.487 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:10.527 -07:00 [DBG] Reading message.
2021-11-05 16:00:10.533 -07:00 [DBG] Connection id "0HMD0M01OG0P6", Request id "0HMD0M01OG0P6:00000001": started reading request body.
2021-11-05 16:00:10.534 -07:00 [DBG] Connection id "0HMD0M01OG0P6", Request id "0HMD0M01OG0P6:00000001": done reading request body.
2021-11-05 16:00:10.540 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:00:10.564 -07:00 [VRB] Received message.
2021-11-05 16:00:11.015 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:00:12.473 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:00:12.486 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:00:12.489 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:00:12.499 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:00:12.501 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:00:12.505 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:00:12.508 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:00:12.737 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:00:13.264 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:00:13.474 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:00:14.010 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:00:14.234 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:00:14.416 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (193ms).
2021-11-05 16:00:14.477 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:00:15.233 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:00:15.255 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:00:15.401 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:00:15.558 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:00:15.725 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:00:15.730 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:00:15.771 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:00:30.031 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 16:00:30.152 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:00:30.167 -07:00 [VRB] Connection id "0HMD0M01OG0P6" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:00:30.184 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:00:30.198 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 21433.4529ms
2021-11-05 16:00:34.425 -07:00 [DBG] Connection id "0HMD0M01OG0P6" reset.
2021-11-05 16:00:34.426 -07:00 [DBG] Connection id "0HMD0M01OG0P6" is closed. The last processed stream ID was 1.
2021-11-05 16:00:34.427 -07:00 [DBG] Connection id "0HMD0M01OG0P6" sending FIN because: "The client closed the connection."
2021-11-05 16:00:34.437 -07:00 [DBG] Connection id "0HMD0M01OG0P6" stopped.
2021-11-05 16:01:00.294 -07:00 [DBG] Connection id "0HMD0M01OG0P7" accepted.
2021-11-05 16:01:00.360 -07:00 [DBG] Connection id "0HMD0M01OG0P7" started.
2021-11-05 16:01:00.395 -07:00 [DBG] Connection "0HMD0M01OG0P7" established using the following protocol: "Tls12"
2021-11-05 16:01:00.422 -07:00 [VRB] Connection id "0HMD0M01OG0P7" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:01:00.424 -07:00 [VRB] Connection id "0HMD0M01OG0P7" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:01:00.425 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:01:00.427 -07:00 [VRB] Connection id "0HMD0M01OG0P7" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:01:00.430 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:01:00.437 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:01:00.480 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:01:00.481 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:01:00.482 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:01:00.482 -07:00 [VRB] Connection id "0HMD0M01OG0P7" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:01:00.483 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:01:00.490 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.497 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.499 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.500 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.501 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.503 -07:00 [INF] Successfully validated the token.
2021-11-05 16:01:00.503 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:01:00.517 -07:00 [INF] Authorization was successful.
2021-11-05 16:01:00.517 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:00.518 -07:00 [DBG] Reading message.
2021-11-05 16:01:00.518 -07:00 [DBG] Connection id "0HMD0M01OG0P7", Request id "0HMD0M01OG0P7:00000001": started reading request body.
2021-11-05 16:01:00.519 -07:00 [DBG] Connection id "0HMD0M01OG0P7", Request id "0HMD0M01OG0P7:00000001": done reading request body.
2021-11-05 16:01:00.520 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:01:00.521 -07:00 [VRB] Received message.
2021-11-05 16:01:00.560 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:01:00.565 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:01:00.566 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 16:01:00.566 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:01:00.568 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:01:00.570 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:01:00.622 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:01:00.625 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:01:00.626 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:01:00.628 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:01:00.629 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:01:25.659 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)
   at Viking.AnnotationServiceTypes.gRPC.V1.Protos.Location.set_Attributes(String value) in C:\src\git\Viking\gRPCAnnotationServiceTypes\obj\Debug\netstandard2.0\Protos\AnnotationTypes.cs:line 3578
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 16:01:25.668 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:01:25.669 -07:00 [VRB] Connection id "0HMD0M01OG0P7" sending "HEADERS" frame for stream ID 1 with length 194 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:01:25.670 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:01:25.671 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 25189.4590ms
2021-11-05 16:01:25.920 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 16:02:11.812 -07:00 [DBG] Hosting starting
2021-11-05 16:02:11.909 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:02:11.965 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:02:11.991 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:02:11.992 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:02:11.992 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:02:11.993 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:02:12.000 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:02:12.012 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:02:12.012 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:02:12.012 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:02:12.014 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:02:12.028 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:02:12.079 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:02:12.085 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:02:12.086 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:02:12.092 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:02:12.099 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:02:12.107 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:02:12.112 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:02:12.206 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:02:12.285 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:02:12.290 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:02:12.291 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:02:12.291 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:02:12.292 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:02:12.294 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:02:12.296 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:02:12.298 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:02:12.300 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:02:12.301 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:02:12.303 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:02:12.305 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:02:12.312 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:02:12.329 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:02:12.340 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:02:12.346 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:02:12.702 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:02:12.898 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:02:12.907 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:02:12.909 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:02:12.910 -07:00 [INF] Hosting environment: Development
2021-11-05 16:02:12.911 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:02:12.912 -07:00 [DBG] Hosting started
2021-11-05 16:02:33.046 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" accepted.
2021-11-05 16:02:33.058 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" started.
2021-11-05 16:02:33.223 -07:00 [DBG] Connection "0HMD0M1CS9BFD" established using the following protocol: "Tls12"
2021-11-05 16:02:33.339 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:02:33.358 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:02:33.360 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:02:33.363 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:02:33.371 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:02:33.380 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:02:33.467 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:02:33.490 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:02:33.527 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:02:33.531 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:02:33.535 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:02:33.536 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:02:33.815 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:33.828 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:33.831 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:33.833 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:33.836 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:35.812 -07:00 [INF] Successfully validated the token.
2021-11-05 16:02:35.835 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:02:35.892 -07:00 [INF] Authorization was successful.
2021-11-05 16:02:35.896 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:35.923 -07:00 [DBG] Reading message.
2021-11-05 16:02:35.933 -07:00 [DBG] Connection id "0HMD0M1CS9BFD", Request id "0HMD0M1CS9BFD:00000001": started reading request body.
2021-11-05 16:02:35.935 -07:00 [DBG] Connection id "0HMD0M1CS9BFD", Request id "0HMD0M1CS9BFD:00000001": done reading request body.
2021-11-05 16:02:36.005 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:02:36.126 -07:00 [VRB] Received message.
2021-11-05 16:02:36.825 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:02:38.747 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:02:38.809 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:02:38.813 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:02:38.815 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:02:38.823 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:02:38.829 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:02:38.834 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:02:39.072 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:02:39.469 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:02:39.594 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:02:39.978 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:02:40.086 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:02:40.195 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2021-11-05 16:02:40.224 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:02:40.919 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:02:40.943 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:02:41.089 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:02:41.253 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:02:41.435 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:02:41.439 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:02:41.453 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:02:41.569 -07:00 [ERR] Error when executing service method 'GetLastModifiedLocation'.
System.ArgumentException: Conversion from DateTime to Timestamp requires the DateTime kind to be Utc (Parameter 'dateTime')
   at Google.Protobuf.WellKnownTypes.Timestamp.FromDateTime(DateTime dateTime)
   at gRPCAnnotationService.Protos.LocationEFExtensions.ToProtobufMessage(Location src) in C:\src\git\Viking\Servers\GrpcAnnotationService\Protos\Location.EF.Conversion.cs:line 48
   at gRPCAnnotationService.LocationService.GetLastModifiedLocation(GetLastModifiedLocationRequest request, ServerCallContext context) in C:\src\git\Viking\Servers\GrpcAnnotationService\Services\LocationService.cs:line 63
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.Shared.Server.UnaryServerMethodInvoker`3.AwaitInvoker(Task`1 invokerTask, GrpcActivatorHandle`1 serviceHandle)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.UnaryServerCallHandler`3.HandleCallAsyncCore(HttpContext httpContext, HttpContextServerCallContext serverCallContext)
   at Grpc.AspNetCore.Server.Internal.CallHandlers.ServerCallHandlerBase`3.<HandleCallAsync>g__AwaitHandleCall|8_0(HttpContextServerCallContext serverCallContext, Method`2 method, Task handleCall)
2021-11-05 16:02:41.667 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:02:41.680 -07:00 [VRB] Connection id "0HMD0M1CS9BFD" sending "HEADERS" frame for stream ID 1 with length 247 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:02:41.697 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:02:41.709 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 0 application/grpc 8220.5167ms
2021-11-05 16:03:10.693 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" reset.
2021-11-05 16:03:10.694 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" is closed. The last processed stream ID was 1.
2021-11-05 16:03:10.696 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" sending FIN because: "The client closed the connection."
2021-11-05 16:03:10.711 -07:00 [DBG] Connection id "0HMD0M1CS9BFD" stopped.
2021-11-05 16:04:06.248 -07:00 [DBG] Hosting starting
2021-11-05 16:04:06.315 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:04:06.351 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:04:06.368 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:04:06.368 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:04:06.369 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:04:06.370 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:04:06.377 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:04:06.388 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:04:06.389 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:04:06.391 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:04:06.392 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:04:06.408 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:04:06.448 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:04:06.451 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:04:06.452 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:04:06.457 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:04:06.461 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:04:06.464 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:04:06.465 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:04:06.542 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:04:06.604 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:04:06.608 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:04:06.608 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:04:06.608 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:04:06.609 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:04:06.611 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:04:06.612 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:04:06.613 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:04:06.614 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:04:06.615 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:04:06.616 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:04:06.617 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:04:06.621 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:04:06.624 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:04:06.626 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:04:06.628 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:04:06.833 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:04:06.912 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:04:06.912 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:04:06.914 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:04:06.914 -07:00 [INF] Hosting environment: Development
2021-11-05 16:04:06.915 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:04:06.915 -07:00 [DBG] Hosting started
2021-11-05 16:04:16.173 -07:00 [DBG] Connection id "0HMD0M2BJQABU" accepted.
2021-11-05 16:04:16.174 -07:00 [DBG] Connection id "0HMD0M2BJQABU" started.
2021-11-05 16:04:16.254 -07:00 [DBG] Connection "0HMD0M2BJQABU" established using the following protocol: "Tls12"
2021-11-05 16:04:16.291 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:04:16.297 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:04:16.298 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:04:16.299 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:04:16.299 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:04:16.301 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:04:16.319 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:04:16.321 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:04:16.325 -07:00 [VRB] Connection id "0HMD0M2BJQABU" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:04:16.336 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:04:16.338 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:04:16.339 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:04:16.454 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:16.458 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:16.464 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:16.465 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:16.467 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:17.447 -07:00 [INF] Successfully validated the token.
2021-11-05 16:04:17.451 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:04:17.473 -07:00 [INF] Authorization was successful.
2021-11-05 16:04:17.477 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:17.520 -07:00 [DBG] Reading message.
2021-11-05 16:04:17.521 -07:00 [DBG] Connection id "0HMD0M2BJQABU", Request id "0HMD0M2BJQABU:00000001": started reading request body.
2021-11-05 16:04:17.527 -07:00 [DBG] Connection id "0HMD0M2BJQABU", Request id "0HMD0M2BJQABU:00000001": done reading request body.
2021-11-05 16:04:17.533 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:04:17.564 -07:00 [VRB] Received message.
2021-11-05 16:04:18.162 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:04:19.359 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:04:19.360 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:04:19.361 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:04:19.362 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:04:19.363 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:04:19.364 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:04:19.365 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:04:19.603 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:04:20.098 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:04:20.364 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:04:20.868 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:04:20.960 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:04:21.058 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (93ms).
2021-11-05 16:04:21.088 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:04:21.672 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:04:21.696 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:04:21.866 -07:00 [INF] Executed DbCommand (161ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:04:22.102 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:04:22.343 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:04:22.367 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:04:22.385 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:04:27.942 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 16:04:27.944 -07:00 [DBG] Sending message.
2021-11-05 16:04:27.966 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 16:04:27.971 -07:00 [VRB] Message sent.
2021-11-05 16:04:27.979 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:04:27.986 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 16:04:27.987 -07:00 [VRB] Connection id "0HMD0M2BJQABU" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:04:27.998 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:04:28.006 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 11671.7689ms
2021-11-05 16:17:32.604 -07:00 [DBG] Hosting starting
2021-11-05 16:17:32.730 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:17:32.770 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:17:32.795 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:17:32.797 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:17:32.798 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:17:32.800 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:17:32.809 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:17:32.822 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:17:32.822 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:17:32.822 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:17:32.823 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:17:32.839 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:17:32.906 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:17:32.917 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:17:32.919 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:17:32.925 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:17:32.930 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:17:32.934 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:17:32.936 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:17:33.022 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:17:33.084 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:17:33.087 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:17:33.087 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:17:33.088 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:17:33.088 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:17:33.089 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:17:33.091 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:17:33.092 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:17:33.094 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:17:33.096 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:17:33.098 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:17:33.099 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:17:33.101 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:17:33.102 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:17:33.104 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:17:33.112 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:17:33.378 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:17:33.462 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:17:33.463 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:17:33.466 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:17:33.466 -07:00 [INF] Hosting environment: Development
2021-11-05 16:17:33.467 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:17:33.468 -07:00 [DBG] Hosting started
2021-11-05 16:17:52.839 -07:00 [DBG] Hosting starting
2021-11-05 16:17:52.973 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:17:53.018 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:17:53.039 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:17:53.040 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:17:53.041 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:17:53.041 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:17:53.049 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:17:53.066 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:17:53.067 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:17:53.067 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:17:53.068 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:17:53.080 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:17:53.182 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:17:53.187 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:17:53.189 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:17:53.195 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:17:53.200 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:17:53.207 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:17:53.210 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:17:53.381 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:17:53.457 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:17:53.464 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:17:53.468 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:17:53.471 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:17:53.472 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:17:53.474 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:17:53.476 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:17:53.479 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:17:53.486 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:17:53.506 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:17:53.509 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:17:53.522 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:17:53.524 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:17:53.525 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:17:53.529 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:17:53.534 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:17:53.791 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:17:53.887 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:17:53.889 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:17:53.892 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:17:53.893 -07:00 [INF] Hosting environment: Development
2021-11-05 16:17:53.895 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:17:53.897 -07:00 [DBG] Hosting started
2021-11-05 16:18:34.376 -07:00 [DBG] Connection id "0HMD0MABC8F7K" accepted.
2021-11-05 16:18:34.377 -07:00 [DBG] Connection id "0HMD0MABC8F7K" started.
2021-11-05 16:18:34.548 -07:00 [DBG] Connection "0HMD0MABC8F7K" established using the following protocol: "Tls12"
2021-11-05 16:18:34.650 -07:00 [VRB] Connection id "0HMD0MABC8F7K" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:18:34.658 -07:00 [VRB] Connection id "0HMD0MABC8F7K" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:18:34.660 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:18:34.667 -07:00 [VRB] Connection id "0HMD0MABC8F7K" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:18:34.667 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:18:34.669 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:18:34.696 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:18:34.710 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:18:34.715 -07:00 [VRB] Connection id "0HMD0MABC8F7K" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:18:34.725 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:18:34.728 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:18:34.728 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:18:34.832 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:34.836 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:34.839 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:34.840 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:34.842 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:35.996 -07:00 [INF] Successfully validated the token.
2021-11-05 16:18:36.000 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:18:36.014 -07:00 [INF] Authorization was successful.
2021-11-05 16:18:36.019 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:18:36.037 -07:00 [DBG] Reading message.
2021-11-05 16:18:36.038 -07:00 [DBG] Connection id "0HMD0MABC8F7K", Request id "0HMD0MABC8F7K:00000001": started reading request body.
2021-11-05 16:18:36.039 -07:00 [DBG] Connection id "0HMD0MABC8F7K", Request id "0HMD0MABC8F7K:00000001": done reading request body.
2021-11-05 16:18:36.042 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:18:36.056 -07:00 [VRB] Received message.
2021-11-05 16:18:36.280 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:18:37.641 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:18:37.643 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:18:37.644 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:18:37.645 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:18:37.646 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:18:37.652 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:18:37.655 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:18:37.954 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:18:38.357 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:18:38.535 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:18:38.874 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:18:38.970 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:18:39.056 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2021-11-05 16:18:39.088 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:18:39.922 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:18:39.945 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:18:40.114 -07:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:18:40.272 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:46:42.864 -07:00 [DBG] Hosting starting
2021-11-05 16:46:42.990 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:46:43.040 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:46:43.064 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:46:43.065 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:46:43.066 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:46:43.067 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:46:43.075 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:46:43.087 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:46:43.088 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:46:43.088 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:46:43.089 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:46:43.106 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:46:43.238 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:46:43.243 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:46:43.246 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:46:43.252 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:46:43.261 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:46:43.269 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:46:43.272 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:46:43.333 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:46:43.373 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:46:43.375 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:46:43.376 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:46:43.376 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:46:43.377 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:46:43.378 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:46:43.379 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:46:43.380 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:46:43.381 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:46:43.383 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:46:43.385 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:46:43.388 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:46:43.396 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:46:43.397 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:46:43.398 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:46:43.400 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:46:43.614 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:46:43.741 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:46:43.741 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:46:43.744 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:46:43.745 -07:00 [INF] Hosting environment: Development
2021-11-05 16:46:43.746 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:46:43.748 -07:00 [DBG] Hosting started
2021-11-05 16:47:06.057 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" accepted.
2021-11-05 16:47:06.060 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" started.
2021-11-05 16:47:06.197 -07:00 [DBG] Connection "0HMD0MQ9G3TOS" established using the following protocol: "Tls12"
2021-11-05 16:47:06.232 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:47:06.239 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:47:06.240 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:47:06.242 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:47:06.243 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:47:06.247 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:47:06.282 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:47:06.285 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:47:06.290 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:47:06.309 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:47:06.311 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:47:06.311 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:47:06.405 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:06.411 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:06.414 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:06.415 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:06.417 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:07.683 -07:00 [INF] Successfully validated the token.
2021-11-05 16:47:07.689 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:47:07.706 -07:00 [INF] Authorization was successful.
2021-11-05 16:47:07.709 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:07.731 -07:00 [DBG] Reading message.
2021-11-05 16:47:07.732 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS", Request id "0HMD0MQ9G3TOS:00000001": started reading request body.
2021-11-05 16:47:07.733 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS", Request id "0HMD0MQ9G3TOS:00000001": done reading request body.
2021-11-05 16:47:07.741 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:47:07.761 -07:00 [VRB] Received message.
2021-11-05 16:47:08.062 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:47:09.292 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:47:09.297 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:47:09.298 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:47:09.300 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:47:09.301 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:47:09.303 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:47:09.304 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:47:09.525 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:47:10.029 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:47:10.227 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:47:10.596 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:47:10.702 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:47:10.782 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2021-11-05 16:47:10.813 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:47:11.382 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:47:11.406 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:47:11.577 -07:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:47:11.749 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:47:11.932 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:47:11.939 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:47:11.958 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:47:41.143 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 16:47:41.144 -07:00 [DBG] Sending message.
2021-11-05 16:47:41.166 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 16:47:41.168 -07:00 [VRB] Message sent.
2021-11-05 16:47:41.176 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:47:41.183 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 16:47:41.183 -07:00 [VRB] Connection id "0HMD0MQ9G3TOS" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:47:41.194 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:47:41.201 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 34896.2067ms
2021-11-05 16:47:41.388 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 16:49:04.214 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" reset.
2021-11-05 16:49:04.220 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" is closed. The last processed stream ID was 1.
2021-11-05 16:49:04.221 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" sending FIN because: "The client closed the connection."
2021-11-05 16:49:04.306 -07:00 [DBG] Connection id "0HMD0MQ9G3TOS" stopped.
2021-11-05 16:49:26.194 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" accepted.
2021-11-05 16:49:26.200 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" started.
2021-11-05 16:49:26.234 -07:00 [DBG] Connection "0HMD0MQ9G3TOT" established using the following protocol: "Tls12"
2021-11-05 16:49:26.289 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:49:26.294 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:49:26.313 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:49:26.326 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:49:26.328 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:49:26.343 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:49:26.474 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:49:26.498 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:49:26.527 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:49:26.528 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:49:26.532 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:49:26.539 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:49:26.547 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.553 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.557 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.562 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.569 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.572 -07:00 [INF] Successfully validated the token.
2021-11-05 16:49:26.572 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:49:26.574 -07:00 [INF] Authorization was successful.
2021-11-05 16:49:26.576 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:26.585 -07:00 [DBG] Reading message.
2021-11-05 16:49:26.585 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT", Request id "0HMD0MQ9G3TOT:00000001": started reading request body.
2021-11-05 16:49:26.587 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT", Request id "0HMD0MQ9G3TOT:00000001": done reading request body.
2021-11-05 16:49:26.589 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:49:26.591 -07:00 [VRB] Received message.
2021-11-05 16:49:26.633 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:49:26.641 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:49:26.642 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 16:49:26.642 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:49:26.645 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:49:26.646 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:49:26.702 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:49:26.711 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:49:26.711 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:49:26.712 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:49:26.713 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:49:51.953 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 16:49:51.956 -07:00 [DBG] Sending message.
2021-11-05 16:49:51.961 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 16:49:51.967 -07:00 [VRB] Message sent.
2021-11-05 16:49:51.969 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:49:51.987 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 16:49:51.995 -07:00 [VRB] Connection id "0HMD0MQ9G3TOT" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:49:51.997 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:49:51.998 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 25470.6238ms
2021-11-05 16:49:52.219 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 16:50:03.336 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" reset.
2021-11-05 16:50:03.339 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" is closed. The last processed stream ID was 1.
2021-11-05 16:50:03.339 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" sending FIN because: "The client closed the connection."
2021-11-05 16:50:03.347 -07:00 [DBG] Connection id "0HMD0MQ9G3TOT" stopped.
2021-11-05 16:50:41.696 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" accepted.
2021-11-05 16:50:41.697 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" started.
2021-11-05 16:50:41.762 -07:00 [DBG] Connection "0HMD0MQ9G3TOU" established using the following protocol: "Tls12"
2021-11-05 16:50:41.777 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:50:41.779 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:50:41.781 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:50:41.782 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:50:41.782 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:50:41.798 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:50:41.814 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:50:41.815 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:50:41.815 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:50:41.816 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:50:41.817 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:50:41.819 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:50:41.820 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.825 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.828 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.829 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.830 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.832 -07:00 [INF] Successfully validated the token.
2021-11-05 16:50:41.833 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:50:41.834 -07:00 [INF] Authorization was successful.
2021-11-05 16:50:41.834 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.835 -07:00 [DBG] Reading message.
2021-11-05 16:50:41.835 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU", Request id "0HMD0MQ9G3TOU:00000001": started reading request body.
2021-11-05 16:50:41.836 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU", Request id "0HMD0MQ9G3TOU:00000001": done reading request body.
2021-11-05 16:50:41.837 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:50:41.845 -07:00 [VRB] Received message.
2021-11-05 16:50:41.858 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:50:41.862 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:50:41.863 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 16:50:41.864 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:50:41.865 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:50:41.866 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:50:41.927 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:50:41.940 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:50:41.941 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:50:41.942 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:50:41.944 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:50:41.945 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 16:50:41.946 -07:00 [DBG] Sending message.
2021-11-05 16:50:41.946 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 16:50:41.952 -07:00 [VRB] Message sent.
2021-11-05 16:50:41.955 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:50:41.956 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 16:50:41.957 -07:00 [VRB] Connection id "0HMD0MQ9G3TOU" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:50:41.959 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:50:41.959 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 143.6778ms
2021-11-05 16:51:15.364 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" reset.
2021-11-05 16:51:15.374 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" is closed. The last processed stream ID was 1.
2021-11-05 16:51:15.384 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" sending FIN because: "The client closed the connection."
2021-11-05 16:51:15.453 -07:00 [DBG] Connection id "0HMD0MQ9G3TOU" stopped.
2021-11-05 16:52:52.841 -07:00 [DBG] Hosting starting
2021-11-05 16:52:53.008 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 16:52:53.119 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 16:52:53.156 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 16:52:53.158 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 16:52:53.161 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 16:52:53.167 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 16:52:53.199 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 16:52:53.213 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 16:52:53.213 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 16:52:53.213 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 16:52:53.219 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 16:52:53.237 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 16:52:53.312 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:52:53.320 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 16:52:53.321 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 16:52:53.328 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 16:52:53.336 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 16:52:53.341 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 16:52:53.345 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 16:52:53.534 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 16:52:53.606 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 16:52:53.609 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 16:52:53.609 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 16:52:53.610 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 16:52:53.611 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 16:52:53.613 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 16:52:53.617 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 16:52:53.618 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 16:52:53.620 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 16:52:53.623 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 16:52:53.626 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 16:52:53.628 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 16:52:53.635 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 16:52:53.637 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 16:52:53.640 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 16:52:53.642 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 16:52:53.861 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 16:52:53.973 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 16:52:53.977 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 16:52:53.984 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 16:52:53.985 -07:00 [INF] Hosting environment: Development
2021-11-05 16:52:53.987 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 16:52:53.989 -07:00 [DBG] Hosting started
2021-11-05 16:53:20.870 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" accepted.
2021-11-05 16:53:20.872 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" started.
2021-11-05 16:53:21.005 -07:00 [DBG] Connection "0HMD0MTP6K7E1" established using the following protocol: "Tls12"
2021-11-05 16:53:21.043 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 16:53:21.049 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:53:21.050 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 16:53:21.052 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:53:21.052 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 16:53:21.054 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 16:53:21.069 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 16:53:21.070 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 16:53:21.071 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 16:53:21.083 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 16:53:21.086 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 16:53:21.086 -07:00 [VRB] All hosts are allowed.
2021-11-05 16:53:21.179 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:21.184 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:21.186 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:21.187 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:21.188 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:22.211 -07:00 [INF] Successfully validated the token.
2021-11-05 16:53:22.218 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 16:53:22.242 -07:00 [INF] Authorization was successful.
2021-11-05 16:53:22.245 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:22.282 -07:00 [DBG] Reading message.
2021-11-05 16:53:22.286 -07:00 [DBG] Connection id "0HMD0MTP6K7E1", Request id "0HMD0MTP6K7E1:00000001": started reading request body.
2021-11-05 16:53:22.290 -07:00 [DBG] Connection id "0HMD0MTP6K7E1", Request id "0HMD0MTP6K7E1:00000001": done reading request body.
2021-11-05 16:53:22.296 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 16:53:22.326 -07:00 [VRB] Received message.
2021-11-05 16:53:22.784 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 16:53:24.635 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:53:24.638 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 16:53:24.641 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 16:53:24.643 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:53:24.644 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 16:53:24.644 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 16:53:24.645 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 16:53:24.842 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 16:53:25.422 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 16:53:25.661 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 16:53:26.223 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 16:53:26.391 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 16:53:26.519 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (117ms).
2021-11-05 16:53:26.576 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:53:27.212 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:53:27.229 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:53:27.369 -07:00 [INF] Executed DbCommand (142ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 16:53:27.508 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 16:53:27.623 -07:00 [DBG] A data reader was disposed.
2021-11-05 16:53:27.627 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:53:27.638 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 16:53:27.659 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 16:53:27.659 -07:00 [DBG] Sending message.
2021-11-05 16:53:27.710 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 16:53:27.712 -07:00 [VRB] Message sent.
2021-11-05 16:53:27.721 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 16:53:27.727 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 16:53:27.727 -07:00 [VRB] Connection id "0HMD0MTP6K7E1" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 16:53:27.740 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 16:53:27.748 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 6665.4383ms
2021-11-05 16:53:46.592 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" reset.
2021-11-05 16:53:46.593 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" is closed. The last processed stream ID was 1.
2021-11-05 16:53:46.595 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" sending FIN because: "The client closed the connection."
2021-11-05 16:53:46.614 -07:00 [DBG] Connection id "0HMD0MTP6K7E1" stopped.
2021-11-05 17:09:35.535 -07:00 [DBG] Hosting starting
2021-11-05 17:09:36.041 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 17:09:36.239 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 17:09:36.285 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 17:09:36.294 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 17:09:36.295 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 17:09:36.295 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 17:09:36.306 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 17:09:36.326 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 17:09:36.333 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 17:09:36.335 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 17:09:36.339 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 17:09:36.384 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 17:09:36.689 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:09:36.731 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 17:09:36.741 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:09:36.780 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 17:09:36.795 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 17:09:36.811 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 17:09:36.823 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 17:09:36.982 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 17:09:37.103 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 17:09:37.122 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 17:09:37.126 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 17:09:37.128 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 17:09:37.129 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 17:09:37.130 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 17:09:37.132 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 17:09:37.135 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 17:09:37.139 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 17:09:37.140 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 17:09:37.142 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 17:09:37.147 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 17:09:37.149 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 17:09:37.151 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 17:09:37.156 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 17:09:37.161 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 17:09:37.721 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 17:09:37.904 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 17:09:37.904 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 17:09:37.929 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 17:09:37.930 -07:00 [INF] Hosting environment: Development
2021-11-05 17:09:37.931 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 17:09:37.935 -07:00 [DBG] Hosting started
2021-11-05 17:09:52.940 -07:00 [DBG] Connection id "0HMD0N70RO0IK" accepted.
2021-11-05 17:09:52.941 -07:00 [DBG] Connection id "0HMD0N70RO0IK" started.
2021-11-05 17:09:53.021 -07:00 [DBG] Connection "0HMD0N70RO0IK" established using the following protocol: "Tls12"
2021-11-05 17:09:53.054 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:09:53.062 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:09:53.063 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:09:53.065 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:09:53.065 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:09:53.067 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:09:53.089 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:09:53.089 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:09:53.091 -07:00 [VRB] Connection id "0HMD0N70RO0IK" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:09:53.109 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:09:53.112 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 17:09:53.112 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:09:53.195 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:53.199 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:53.202 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:53.203 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:53.206 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:54.503 -07:00 [INF] Successfully validated the token.
2021-11-05 17:09:54.510 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:09:54.534 -07:00 [INF] Authorization was successful.
2021-11-05 17:09:54.536 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:54.560 -07:00 [DBG] Reading message.
2021-11-05 17:09:54.562 -07:00 [DBG] Connection id "0HMD0N70RO0IK", Request id "0HMD0N70RO0IK:00000001": started reading request body.
2021-11-05 17:09:54.563 -07:00 [DBG] Connection id "0HMD0N70RO0IK", Request id "0HMD0N70RO0IK:00000001": done reading request body.
2021-11-05 17:09:54.567 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:09:54.589 -07:00 [VRB] Received message.
2021-11-05 17:09:54.919 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 17:09:56.262 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:09:56.264 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:09:56.265 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 17:09:56.266 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:09:56.267 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:09:56.269 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 17:09:56.270 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 17:09:56.462 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 17:09:56.831 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:09:56.989 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 17:09:57.441 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 17:09:57.530 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:09:57.627 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2021-11-05 17:09:57.675 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:09:58.312 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:09:58.331 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:09:58.466 -07:00 [INF] Executed DbCommand (142ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:09:58.591 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:09:58.697 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:09:58.703 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:09:58.714 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:09:58.739 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:09:58.740 -07:00 [DBG] Sending message.
2021-11-05 17:09:58.799 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 17:09:58.805 -07:00 [VRB] Message sent.
2021-11-05 17:09:58.824 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:09:58.843 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 17:09:58.844 -07:00 [VRB] Connection id "0HMD0N70RO0IK" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:09:58.862 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:09:58.877 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 5770.0446ms
2021-11-05 17:10:54.640 -07:00 [DBG] Connection id "0HMD0N70RO0IK" reset.
2021-11-05 17:10:54.646 -07:00 [DBG] Connection id "0HMD0N70RO0IK" is closed. The last processed stream ID was 1.
2021-11-05 17:10:54.653 -07:00 [DBG] Connection id "0HMD0N70RO0IK" sending FIN because: "The client closed the connection."
2021-11-05 17:10:54.670 -07:00 [DBG] Connection id "0HMD0N70RO0IK" stopped.
2021-11-05 17:11:22.719 -07:00 [DBG] Connection id "0HMD0N70RO0IL" accepted.
2021-11-05 17:11:22.768 -07:00 [DBG] Connection id "0HMD0N70RO0IL" started.
2021-11-05 17:11:22.806 -07:00 [DBG] Connection "0HMD0N70RO0IL" established using the following protocol: "Tls12"
2021-11-05 17:11:22.848 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:11:22.850 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:11:22.852 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:11:22.854 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:11:22.855 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:11:22.859 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:11:22.861 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:11:22.861 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:11:22.867 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:11:22.868 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:11:22.869 -07:00 [VRB] Connection id "0HMD0N70RO0IL" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:11:22.878 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.879 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.881 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.883 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.884 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.887 -07:00 [INF] Successfully validated the token.
2021-11-05 17:11:22.889 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:11:22.890 -07:00 [INF] Authorization was successful.
2021-11-05 17:11:22.897 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:22.898 -07:00 [DBG] Reading message.
2021-11-05 17:11:22.899 -07:00 [DBG] Connection id "0HMD0N70RO0IL", Request id "0HMD0N70RO0IL:00000001": started reading request body.
2021-11-05 17:11:22.900 -07:00 [DBG] Connection id "0HMD0N70RO0IL", Request id "0HMD0N70RO0IL:00000001": done reading request body.
2021-11-05 17:11:22.901 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:11:22.904 -07:00 [VRB] Received message.
2021-11-05 17:11:22.953 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:11:22.960 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:11:22.961 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 17:11:22.961 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:11:22.963 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:11:22.963 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:11:23.015 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:11:23.019 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:11:23.019 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:11:23.020 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:11:23.020 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:11:23.021 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:11:23.021 -07:00 [DBG] Sending message.
2021-11-05 17:11:23.022 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 17:11:23.022 -07:00 [VRB] Message sent.
2021-11-05 17:11:23.023 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:11:23.024 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 17:11:23.025 -07:00 [VRB] Connection id "0HMD0N70RO0IL" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:11:23.030 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:11:23.031 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 169.4165ms
2021-11-05 17:12:35.665 -07:00 [DBG] Connection id "0HMD0N70RO0IL" reset.
2021-11-05 17:12:35.665 -07:00 [DBG] Connection id "0HMD0N70RO0IL" is closed. The last processed stream ID was 1.
2021-11-05 17:12:35.667 -07:00 [DBG] Connection id "0HMD0N70RO0IL" sending FIN because: "The client closed the connection."
2021-11-05 17:12:35.668 -07:00 [DBG] Connection id "0HMD0N70RO0IL" stopped.
2021-11-05 17:14:03.324 -07:00 [DBG] Hosting starting
2021-11-05 17:14:03.430 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 17:14:03.471 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 17:14:03.520 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 17:14:03.521 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 17:14:03.522 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 17:14:03.522 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 17:14:03.533 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 17:14:03.557 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 17:14:03.558 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 17:14:03.558 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 17:14:03.559 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 17:14:03.583 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 17:14:03.647 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:14:03.650 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 17:14:03.651 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:14:03.657 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 17:14:03.662 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 17:14:03.667 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 17:14:03.669 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 17:14:03.757 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 17:14:03.826 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 17:14:03.828 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 17:14:03.829 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 17:14:03.829 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 17:14:03.830 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 17:14:03.831 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 17:14:03.832 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 17:14:03.833 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 17:14:03.835 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 17:14:03.836 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 17:14:03.838 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 17:14:03.843 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 17:14:03.845 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 17:14:03.846 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 17:14:03.848 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 17:14:03.849 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 17:14:04.096 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 17:14:04.170 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 17:14:04.170 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 17:14:04.173 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 17:14:04.174 -07:00 [INF] Hosting environment: Development
2021-11-05 17:14:04.175 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 17:14:04.176 -07:00 [DBG] Hosting started
2021-11-05 17:14:15.747 -07:00 [DBG] Connection id "0HMD0N9F62J0D" accepted.
2021-11-05 17:14:15.748 -07:00 [DBG] Connection id "0HMD0N9F62J0D" started.
2021-11-05 17:14:15.840 -07:00 [DBG] Connection "0HMD0N9F62J0D" established using the following protocol: "Tls12"
2021-11-05 17:14:15.876 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:14:15.881 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:14:15.882 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:14:15.884 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:14:15.886 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:14:15.888 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:14:15.908 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:14:15.908 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:14:15.910 -07:00 [VRB] Connection id "0HMD0N9F62J0D" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:14:15.928 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:14:15.930 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 17:14:15.932 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:14:16.048 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:16.056 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:16.067 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:16.074 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:16.084 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:17.591 -07:00 [INF] Successfully validated the token.
2021-11-05 17:14:17.618 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:14:17.732 -07:00 [INF] Authorization was successful.
2021-11-05 17:14:17.740 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:17.778 -07:00 [DBG] Reading message.
2021-11-05 17:14:17.788 -07:00 [DBG] Connection id "0HMD0N9F62J0D", Request id "0HMD0N9F62J0D:00000001": started reading request body.
2021-11-05 17:14:17.791 -07:00 [DBG] Connection id "0HMD0N9F62J0D", Request id "0HMD0N9F62J0D:00000001": done reading request body.
2021-11-05 17:14:17.797 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:14:17.828 -07:00 [VRB] Received message.
2021-11-05 17:14:18.372 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 17:14:20.660 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:14:20.662 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:14:20.663 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 17:14:20.664 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:14:20.665 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:14:20.668 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 17:14:20.670 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 17:14:20.857 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 17:14:21.290 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:14:21.538 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 17:14:22.131 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 17:14:22.281 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:14:22.442 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (120ms).
2021-11-05 17:14:22.497 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:14:23.247 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:14:23.272 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:14:23.454 -07:00 [INF] Executed DbCommand (191ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:14:23.654 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:14:23.855 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:14:23.868 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:14:23.888 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:14:23.940 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:14:23.944 -07:00 [DBG] Sending message.
2021-11-05 17:14:24.038 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 17:14:24.040 -07:00 [VRB] Message sent.
2021-11-05 17:14:24.050 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:14:24.061 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 17:14:24.061 -07:00 [VRB] Connection id "0HMD0N9F62J0D" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:14:24.077 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:14:24.093 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 8165.7849ms
2021-11-05 17:14:41.416 -07:00 [DBG] Connection id "0HMD0N9F62J0D" reset.
2021-11-05 17:14:41.417 -07:00 [DBG] Connection id "0HMD0N9F62J0D" is closed. The last processed stream ID was 1.
2021-11-05 17:14:41.426 -07:00 [DBG] Connection id "0HMD0N9F62J0D" sending FIN because: "The client closed the connection."
2021-11-05 17:14:41.435 -07:00 [DBG] Connection id "0HMD0N9F62J0D" stopped.
2021-11-05 17:14:57.043 -07:00 [DBG] Hosting starting
2021-11-05 17:14:57.170 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 17:14:57.231 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 17:14:57.359 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 17:14:57.381 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 17:14:57.393 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 17:14:57.397 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 17:14:57.409 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 17:14:57.421 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 17:14:57.423 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 17:14:57.426 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 17:14:57.429 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 17:14:57.445 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 17:14:57.635 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:14:57.648 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 17:14:57.651 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:14:57.657 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 17:14:57.662 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 17:14:57.667 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 17:14:57.668 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 17:14:57.799 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 17:14:57.935 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 17:14:57.941 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 17:14:57.942 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 17:14:57.942 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 17:14:57.943 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 17:14:57.946 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 17:14:57.948 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 17:14:57.951 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 17:14:57.959 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 17:14:57.961 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 17:14:57.965 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 17:14:57.970 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 17:14:57.972 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 17:14:57.980 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 17:14:57.991 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 17:14:57.995 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 17:14:58.587 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 17:14:58.665 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 17:14:58.666 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 17:14:58.669 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 17:14:58.669 -07:00 [INF] Hosting environment: Development
2021-11-05 17:14:58.670 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 17:14:58.671 -07:00 [DBG] Hosting started
2021-11-05 17:15:12.126 -07:00 [DBG] Connection id "0HMD0N9VVNF5H" accepted.
2021-11-05 17:15:12.127 -07:00 [DBG] Connection id "0HMD0N9VVNF5H" started.
2021-11-05 17:15:12.219 -07:00 [DBG] Connection "0HMD0N9VVNF5H" established using the following protocol: "Tls12"
2021-11-05 17:15:12.261 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:15:12.266 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:15:12.267 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:15:12.268 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:15:12.269 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:15:12.270 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:15:12.289 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:15:12.290 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:15:12.291 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:15:12.311 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:15:12.314 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 17:15:12.314 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:15:12.440 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:12.448 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:12.452 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:12.453 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:12.456 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:13.782 -07:00 [INF] Successfully validated the token.
2021-11-05 17:15:13.785 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:15:13.797 -07:00 [INF] Authorization was successful.
2021-11-05 17:15:13.798 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:13.816 -07:00 [DBG] Reading message.
2021-11-05 17:15:13.817 -07:00 [DBG] Connection id "0HMD0N9VVNF5H", Request id "0HMD0N9VVNF5H:00000001": started reading request body.
2021-11-05 17:15:13.818 -07:00 [DBG] Connection id "0HMD0N9VVNF5H", Request id "0HMD0N9VVNF5H:00000001": done reading request body.
2021-11-05 17:15:13.821 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:15:13.837 -07:00 [VRB] Received message.
2021-11-05 17:15:14.099 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 17:15:15.779 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:15:15.782 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:15:15.783 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 17:15:15.784 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:15:15.785 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:15:15.786 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 17:15:15.787 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 17:15:15.934 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 17:15:16.236 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:15:16.476 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 17:15:17.050 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 17:15:17.210 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:15:17.338 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2021-11-05 17:15:17.389 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:15:18.138 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:15:18.162 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:15:18.278 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:15:18.404 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:15:18.514 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:15:18.519 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:15:18.534 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:15:18.564 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:15:18.566 -07:00 [DBG] Sending message.
2021-11-05 17:15:18.667 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 114 byte message.
2021-11-05 17:15:18.670 -07:00 [VRB] Message sent.
2021-11-05 17:15:18.680 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:15:18.690 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "DATA" frame for stream ID 1 with length 119 and flags "NONE"
2021-11-05 17:15:18.691 -07:00 [VRB] Connection id "0HMD0N9VVNF5H" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:15:18.719 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:15:18.730 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 6421.1505ms
2021-11-05 17:16:30.090 -07:00 [DBG] Hosting starting
2021-11-05 17:16:30.172 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-05 17:16:30.215 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-05 17:16:30.235 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-05 17:16:30.235 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-05 17:16:30.235 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-05 17:16:30.236 -07:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-05 17:16:30.243 -07:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-05 17:16:30.255 -07:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-05 17:16:30.255 -07:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-05 17:16:30.255 -07:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-05 17:16:30.256 -07:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-05 17:16:30.269 -07:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-05 17:16:30.416 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:16:30.422 -07:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-05 17:16:30.425 -07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-05 17:16:30.430 -07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-05 17:16:30.436 -07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-05 17:16:30.445 -07:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-05 17:16:30.448 -07:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-05 17:16:30.576 -07:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-05 17:16:30.700 -07:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-05 17:16:30.718 -07:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-05 17:16:30.724 -07:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-05 17:16:30.725 -07:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-05 17:16:30.725 -07:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-05 17:16:30.732 -07:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-05 17:16:30.737 -07:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-05 17:16:30.741 -07:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-05 17:16:30.743 -07:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-05 17:16:30.746 -07:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-05 17:16:30.758 -07:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-05 17:16:30.760 -07:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-05 17:16:30.767 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-05 17:16:30.769 -07:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-05 17:16:30.774 -07:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-05 17:16:30.779 -07:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-05 17:16:31.468 -07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-05 17:16:31.630 -07:00 [INF] Now listening on: https://localhost:5000
2021-11-05 17:16:31.630 -07:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-05 17:16:31.633 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-05 17:16:31.633 -07:00 [INF] Hosting environment: Development
2021-11-05 17:16:31.633 -07:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-05 17:16:31.636 -07:00 [DBG] Hosting started
2021-11-05 17:16:52.375 -07:00 [DBG] Connection id "0HMD0NATROTFQ" accepted.
2021-11-05 17:16:52.386 -07:00 [DBG] Connection id "0HMD0NATROTFQ" started.
2021-11-05 17:16:52.526 -07:00 [DBG] Connection "0HMD0NATROTFQ" established using the following protocol: "Tls12"
2021-11-05 17:16:52.561 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:16:52.570 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:16:52.571 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:16:52.572 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:16:52.573 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:16:52.575 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:16:52.596 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:16:52.596 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:16:52.599 -07:00 [VRB] Connection id "0HMD0NATROTFQ" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:16:52.619 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:16:52.623 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 17:16:52.623 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:16:52.733 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:52.739 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:52.748 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:52.752 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:52.755 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:54.121 -07:00 [INF] Successfully validated the token.
2021-11-05 17:16:54.127 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:16:54.149 -07:00 [INF] Authorization was successful.
2021-11-05 17:16:54.162 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:16:54.194 -07:00 [DBG] Reading message.
2021-11-05 17:16:54.201 -07:00 [DBG] Connection id "0HMD0NATROTFQ", Request id "0HMD0NATROTFQ:00000001": started reading request body.
2021-11-05 17:16:54.206 -07:00 [DBG] Connection id "0HMD0NATROTFQ", Request id "0HMD0NATROTFQ:00000001": done reading request body.
2021-11-05 17:16:54.215 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:16:54.238 -07:00 [VRB] Received message.
2021-11-05 17:16:54.711 -07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-05 17:16:56.342 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:16:56.349 -07:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-05 17:16:56.352 -07:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-05 17:16:56.354 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:16:56.356 -07:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-05 17:16:56.357 -07:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-05 17:16:56.358 -07:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-05 17:16:56.614 -07:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-05 17:16:57.137 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:16:57.332 -07:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-05 17:16:57.861 -07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-05 17:16:58.023 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:16:58.176 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (146ms).
2021-11-05 17:16:58.237 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:16:58.990 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:16:59.010 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:16:59.124 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:16:59.225 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:16:59.325 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:16:59.330 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:16:59.343 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:17:19.179 -07:00 [DBG] Config reload token fired. Checking for changes...
2021-11-05 17:17:19.195 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:17:19.195 -07:00 [DBG] Sending message.
2021-11-05 17:17:19.249 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-05 17:17:19.252 -07:00 [VRB] Message sent.
2021-11-05 17:17:19.258 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:17:19.264 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-05 17:17:19.266 -07:00 [VRB] Connection id "0HMD0NATROTFQ" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:17:19.280 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:17:19.289 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 26672.0047ms
2021-11-05 17:17:38.164 -07:00 [DBG] Connection id "0HMD0NATROTFQ" reset.
2021-11-05 17:17:38.165 -07:00 [DBG] Connection id "0HMD0NATROTFQ" is closed. The last processed stream ID was 1.
2021-11-05 17:17:38.201 -07:00 [DBG] Connection id "0HMD0NATROTFQ" sending FIN because: "The client closed the connection."
2021-11-05 17:17:38.219 -07:00 [DBG] Connection id "0HMD0NATROTFQ" stopped.
2021-11-05 17:18:04.318 -07:00 [DBG] Connection id "0HMD0NATROTFR" accepted.
2021-11-05 17:18:04.325 -07:00 [DBG] Connection id "0HMD0NATROTFR" started.
2021-11-05 17:18:04.427 -07:00 [DBG] Connection "0HMD0NATROTFR" established using the following protocol: "Tls12"
2021-11-05 17:18:04.454 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:18:04.457 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:18:04.460 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:18:04.461 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:18:04.464 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:18:04.466 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:18:04.468 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:18:04.468 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:18:04.468 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:18:04.470 -07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-05 17:18:04.478 -07:00 [VRB] Connection id "0HMD0NATROTFR" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:18:04.479 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:18:04.488 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.491 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.495 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.497 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.498 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.500 -07:00 [INF] Successfully validated the token.
2021-11-05 17:18:04.500 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:18:04.501 -07:00 [INF] Authorization was successful.
2021-11-05 17:18:04.501 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.508 -07:00 [DBG] Reading message.
2021-11-05 17:18:04.509 -07:00 [DBG] Connection id "0HMD0NATROTFR", Request id "0HMD0NATROTFR:00000001": started reading request body.
2021-11-05 17:18:04.512 -07:00 [DBG] Connection id "0HMD0NATROTFR", Request id "0HMD0NATROTFR:00000001": done reading request body.
2021-11-05 17:18:04.514 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:18:04.515 -07:00 [VRB] Received message.
2021-11-05 17:18:04.561 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:18:04.568 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:18:04.569 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-11-05 17:18:04.572 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:04.586 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:04.587 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:18:04.654 -07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:18:04.665 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:18:04.665 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:18:04.666 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:04.669 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:04.676 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:18:04.677 -07:00 [DBG] Sending message.
2021-11-05 17:18:04.678 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-05 17:18:04.679 -07:00 [VRB] Message sent.
2021-11-05 17:18:04.680 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:04.682 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-05 17:18:04.684 -07:00 [VRB] Connection id "0HMD0NATROTFR" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:18:04.685 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:18:04.688 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 220.3176ms
2021-11-05 17:18:04.912 -07:00 [DBG] Connection id "0HMD0NATROTFR" reset.
2021-11-05 17:18:04.922 -07:00 [DBG] Connection id "0HMD0NATROTFR" is closed. The last processed stream ID was 1.
2021-11-05 17:18:04.927 -07:00 [DBG] Connection id "0HMD0NATROTFR" sending FIN because: "The client closed the connection."
2021-11-05 17:18:04.929 -07:00 [DBG] Connection id "0HMD0NATROTFR" stopped.
2021-11-05 17:18:43.864 -07:00 [DBG] Connection id "0HMD0NATROTFS" accepted.
2021-11-05 17:18:43.888 -07:00 [DBG] Connection id "0HMD0NATROTFS" started.
2021-11-05 17:18:44.022 -07:00 [DBG] Connection "0HMD0NATROTFS" established using the following protocol: "Tls12"
2021-11-05 17:18:44.032 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:18:44.034 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:18:44.035 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:18:44.037 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:18:44.038 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:18:44.053 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:18:44.057 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:18:44.069 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:18:44.069 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:18:44.074 -07:00 [VRB] Connection id "0HMD0NATROTFS" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:18:44.079 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:18:44.082 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.084 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.089 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.090 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.094 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.098 -07:00 [INF] Successfully validated the token.
2021-11-05 17:18:44.098 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:18:44.100 -07:00 [INF] Authorization was successful.
2021-11-05 17:18:44.101 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.104 -07:00 [DBG] Reading message.
2021-11-05 17:18:44.104 -07:00 [DBG] Connection id "0HMD0NATROTFS", Request id "0HMD0NATROTFS:00000001": started reading request body.
2021-11-05 17:18:44.107 -07:00 [DBG] Connection id "0HMD0NATROTFS", Request id "0HMD0NATROTFS:00000001": done reading request body.
2021-11-05 17:18:44.110 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:18:44.113 -07:00 [VRB] Received message.
2021-11-05 17:18:44.127 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:18:44.129 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:18:44.130 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 17:18:44.131 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:44.132 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:44.160 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:18:44.219 -07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:18:44.224 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:18:44.238 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:18:44.239 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:44.240 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:18:44.246 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:18:44.249 -07:00 [DBG] Sending message.
2021-11-05 17:18:44.250 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-05 17:18:44.251 -07:00 [VRB] Message sent.
2021-11-05 17:18:44.252 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:18:44.254 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-05 17:18:44.259 -07:00 [VRB] Connection id "0HMD0NATROTFS" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:18:44.260 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:18:44.262 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 192.4487ms
2021-11-05 17:18:44.534 -07:00 [DBG] Connection id "0HMD0NATROTFS" reset.
2021-11-05 17:18:44.535 -07:00 [DBG] Connection id "0HMD0NATROTFS" is closed. The last processed stream ID was 1.
2021-11-05 17:18:44.538 -07:00 [DBG] Connection id "0HMD0NATROTFS" sending FIN because: "The client closed the connection."
2021-11-05 17:18:44.549 -07:00 [DBG] Connection id "0HMD0NATROTFS" stopped.
2021-11-05 17:19:15.021 -07:00 [DBG] Connection id "0HMD0NATROTFT" accepted.
2021-11-05 17:19:15.032 -07:00 [DBG] Connection id "0HMD0NATROTFT" started.
2021-11-05 17:19:15.071 -07:00 [DBG] Connection "0HMD0NATROTFT" established using the following protocol: "Tls12"
2021-11-05 17:19:15.075 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-05 17:19:15.076 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:19:15.077 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-05 17:19:15.079 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:19:15.080 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-05 17:19:15.082 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-05 17:19:15.095 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "HEADERS" frame for stream ID 1 with length 1216 and flags "END_HEADERS"
2021-11-05 17:19:15.096 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-05 17:19:15.096 -07:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-05 17:19:15.097 -07:00 [VRB] Connection id "0HMD0NATROTFT" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-05 17:19:15.102 -07:00 [VRB] All hosts are allowed.
2021-11-05 17:19:15.103 -07:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.104 -07:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.109 -07:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.110 -07:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.110 -07:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.111 -07:00 [INF] Successfully validated the token.
2021-11-05 17:19:15.111 -07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-05 17:19:15.112 -07:00 [INF] Authorization was successful.
2021-11-05 17:19:15.112 -07:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.113 -07:00 [DBG] Reading message.
2021-11-05 17:19:15.113 -07:00 [DBG] Connection id "0HMD0NATROTFT", Request id "0HMD0NATROTFT:00000001": started reading request body.
2021-11-05 17:19:15.114 -07:00 [DBG] Connection id "0HMD0NATROTFT", Request id "0HMD0NATROTFT:00000001": done reading request body.
2021-11-05 17:19:15.115 -07:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-05 17:19:15.116 -07:00 [VRB] Received message.
2021-11-05 17:19:15.116 -07:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-05 17:19:15.117 -07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-05 17:19:15.117 -07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-05 17:19:15.117 -07:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:19:15.118 -07:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:19:15.118 -07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:19:15.168 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-05 17:19:15.170 -07:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-05 17:19:15.171 -07:00 [DBG] A data reader was disposed.
2021-11-05 17:19:15.171 -07:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:19:15.172 -07:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-05 17:19:15.172 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-05 17:19:15.174 -07:00 [DBG] Sending message.
2021-11-05 17:19:15.175 -07:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-05 17:19:15.175 -07:00 [VRB] Message sent.
2021-11-05 17:19:15.176 -07:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-05 17:19:15.176 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-05 17:19:15.177 -07:00 [VRB] Connection id "0HMD0NATROTFT" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-05 17:19:15.178 -07:00 [DBG] 'AnnotationContext' disposed.
2021-11-05 17:19:15.178 -07:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 82.0488ms
2021-11-05 17:19:19.747 -07:00 [DBG] Connection id "0HMD0NATROTFT" reset.
2021-11-05 17:19:19.766 -07:00 [DBG] Connection id "0HMD0NATROTFT" is closed. The last processed stream ID was 1.
2021-11-05 17:19:19.777 -07:00 [DBG] Connection id "0HMD0NATROTFT" sending FIN because: "The client closed the connection."
2021-11-05 17:19:19.809 -07:00 [DBG] Connection id "0HMD0NATROTFT" stopped.
2021-11-08 11:30:53.234 -08:00 [DBG] Hosting starting
2021-11-08 11:30:53.344 -08:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-08 11:30:53.431 -08:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-027eb8f4-21a0-4755-bf21-905865eb16be.xml'.
2021-11-08 11:30:53.519 -08:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2021-11-08 11:30:53.532 -08:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-589d03b3-83d2-4aa9-826e-ebb073640546.xml'.
2021-11-08 11:30:53.544 -08:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-62d64ff3-4192-4de7-8a4e-bafff1acc84f.xml'.
2021-11-08 11:30:53.557 -08:00 [DBG] Reading data from file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-8425ddee-c2cd-41e4-8c43-0b2a13152e9a.xml'.
2021-11-08 11:30:53.579 -08:00 [DBG] Found key {027eb8f4-21a0-4755-bf21-905865eb16be}.
2021-11-08 11:30:53.592 -08:00 [DBG] Found key {198352e4-7147-4ef6-b8e1-6be77272face}.
2021-11-08 11:30:53.594 -08:00 [DBG] Found key {589d03b3-83d2-4aa9-826e-ebb073640546}.
2021-11-08 11:30:53.595 -08:00 [DBG] Found key {62d64ff3-4192-4de7-8a4e-bafff1acc84f}.
2021-11-08 11:30:53.618 -08:00 [DBG] Found key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a}.
2021-11-08 11:30:53.638 -08:00 [DBG] Considering key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} with expiration date 2022-01-11 23:36:45Z as default key.
2021-11-08 11:30:53.739 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-08 11:30:53.752 -08:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-11-08 11:30:53.754 -08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-11-08 11:30:53.761 -08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-11-08 11:30:53.768 -08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-11-08 11:30:53.782 -08:00 [DBG] Using key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} as the default key.
2021-11-08 11:30:53.791 -08:00 [DBG] Key ring with default key {8425ddee-c2cd-41e4-8c43-0b2a13152e9a} was loaded during application startup.
2021-11-08 11:30:53.896 -08:00 [VRB] Discovering gRPC methods for gRPCAnnotationService.LocationService.
2021-11-08 11:30:53.965 -08:00 [VRB] Added gRPC method 'CreateLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocation'.
2021-11-08 11:30:53.967 -08:00 [VRB] Added gRPC method 'GetLocationByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationByID'.
2021-11-08 11:30:53.968 -08:00 [VRB] Added gRPC method 'GetLocationsByID' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsByID'.
2021-11-08 11:30:53.970 -08:00 [VRB] Added gRPC method 'GetLastModifiedLocation' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'.
2021-11-08 11:30:53.977 -08:00 [VRB] Added gRPC method 'GetLinkedLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLinkedLocations'.
2021-11-08 11:30:53.979 -08:00 [VRB] Added gRPC method 'GetLocationsForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationsForSection'.
2021-11-08 11:30:53.985 -08:00 [VRB] Added gRPC method 'GetLocationChangesInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangesInMosaicRegion'.
2021-11-08 11:30:53.987 -08:00 [VRB] Added gRPC method 'GetAnnotationsInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetAnnotationsInMosaicRegion'.
2021-11-08 11:30:53.992 -08:00 [VRB] Added gRPC method 'GetLocationChanges' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChanges'.
2021-11-08 11:30:53.993 -08:00 [VRB] Added gRPC method 'Update' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/Update'.
2021-11-08 11:30:53.994 -08:00 [VRB] Added gRPC method 'CreateLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/CreateLocationLink'.
2021-11-08 11:30:53.995 -08:00 [VRB] Added gRPC method 'DeleteLocationLink' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/DeleteLocationLink'.
2021-11-08 11:30:53.996 -08:00 [VRB] Added gRPC method 'GetLocationLinksForSection' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSection'.
2021-11-08 11:30:54.002 -08:00 [VRB] Added gRPC method 'GetLocationLinksForSectionInMosaicRegion' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationLinksForSectionInMosaicRegion'.
2021-11-08 11:30:54.003 -08:00 [VRB] Added gRPC method 'GetLocationChangeLog' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLocationChangeLog'.
2021-11-08 11:30:54.011 -08:00 [VRB] Added gRPC method 'GetStructureLocations' to service 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations'. Method type: '"Unary"', route pattern: '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetStructureLocations'.
2021-11-08 11:30:54.427 -08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 26044282ACA1D06E994FD01CB0038F0680C8D438)
2021-11-08 11:30:54.511 -08:00 [INF] Now listening on: https://localhost:5000
2021-11-08 11:30:54.512 -08:00 [DBG] Loaded hosting startup assembly GrpcAnnotationService
2021-11-08 11:30:54.514 -08:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-08 11:30:54.514 -08:00 [INF] Hosting environment: Development
2021-11-08 11:30:54.515 -08:00 [INF] Content root path: C:\src\git\Viking\Servers\GrpcAnnotationService
2021-11-08 11:30:54.515 -08:00 [DBG] Hosting started
2021-11-08 11:56:34.357 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" accepted.
2021-11-08 11:56:34.366 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" started.
2021-11-08 11:56:34.491 -08:00 [DBG] Connection "0HMD2U7EUBS1Q" established using the following protocol: "Tls12"
2021-11-08 11:56:34.556 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-08 11:56:34.566 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:56:34.567 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-08 11:56:34.569 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:56:34.569 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:56:34.571 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "HEADERS" frame for stream ID 1 with length 1315 and flags "END_HEADERS"
2021-11-08 11:56:34.597 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-08 11:56:34.608 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-08 11:56:34.609 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:56:34.621 -08:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-08 11:56:34.624 -08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-11-08 11:56:34.624 -08:00 [VRB] All hosts are allowed.
2021-11-08 11:56:34.753 -08:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:34.757 -08:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:34.759 -08:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:34.760 -08:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:34.761 -08:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:35.970 -08:00 [INF] Successfully validated the token.
2021-11-08 11:56:35.973 -08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-08 11:56:35.988 -08:00 [INF] Authorization was successful.
2021-11-08 11:56:35.990 -08:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:36.017 -08:00 [DBG] Reading message.
2021-11-08 11:56:36.019 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q", Request id "0HMD2U7EUBS1Q:00000001": started reading request body.
2021-11-08 11:56:36.019 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q", Request id "0HMD2U7EUBS1Q:00000001": done reading request body.
2021-11-08 11:56:36.024 -08:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-08 11:56:36.044 -08:00 [VRB] Received message.
2021-11-08 11:56:36.534 -08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-11-08 11:56:38.055 -08:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-08 11:56:38.056 -08:00 [DBG] The index {'A'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'A', 'B'}.
2021-11-08 11:56:38.057 -08:00 [DBG] The index {'B'} was not created on entity type 'LocationLink' as the properties are already covered by the index {'B', 'A'}.
2021-11-08 11:56:38.058 -08:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-08 11:56:38.058 -08:00 [DBG] The index {'SourceTypeId'} was not created on entity type 'PermittedStructureLink' as the properties are already covered by the index {'SourceTypeId', 'TargetTypeId'}.
2021-11-08 11:56:38.059 -08:00 [DBG] The index {'ParentId'} was not created on entity type 'Structure' as the properties are already covered by the index {'ParentId', 'Id'}.
2021-11-08 11:56:38.060 -08:00 [DBG] The index {'SourceId'} was not created on entity type 'StructureLink' as the properties are already covered by the index {'SourceId', 'TargetId'}.
2021-11-08 11:56:38.271 -08:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-08 11:56:38.837 -08:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-08 11:56:39.082 -08:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .OrderByDescending(l => l.LastModified)
    .Where(l => l.Username == __user_Identity_Name_0)
    .Take(__p_1)
    .FirstOrDefault()'
2021-11-08 11:56:39.495 -08:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Location>(
    asyncEnumerable: new SingleQueryingEnumerable<Location>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Closed (bool) Required, 1], [Property: Location.Created (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Location.LastModified (DateTime) Required Index ValueGenerated.OnAdd, 3], [Property: Location.MosaicShape (Geometry) Required Index, 4], [Property: Location.OffEdge (bool) Required, 5], [Property: Location.Overlay (byte[]), 6], [Property: Location.ParentId (long) Required FK Index, 7], [Property: Location.Radius (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Location.Tags (string), 9], [Property: Location.Terminal (bool) Required, 10], [Property: Location.TypeCode (short) Required ValueGenerated.OnAdd, 11], [Property: Location.Username (string) Required ValueGenerated.OnAdd MaxLength(254), 12], [Property: Location.Version (byte[]) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 13], [Property: Location.VolumeShape (Geometry) Required Index, 14], [Property: Location.VolumeX (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 15], [Property: Location.VolumeY (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 16], [Property: Location.Width (Nullable<double>), 17], [Property: Location.X (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 18], [Property: Location.Y (double) Required BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 19], [Property: Location.Z (long) Required Index, 20], }
            SELECT TOP(1) t.ID, t.Closed, t.Created, t.LastModified, t.MosaicShape, t.OffEdge, t.Overlay, t.ParentID, t.Radius, t.Tags, t.Terminal, t.TypeCode, t.Username, t.Version, t.VolumeShape, t.VolumeX, t.VolumeY, t.Width, t.X, t.Y, t.Z
            FROM Projection Mapping:
            (
                SELECT TOP(@__p_1) l.ID, l.Closed, l.Created, l.LastModified, l.MosaicShape, l.OffEdge, l.Overlay, l.ParentID, l.Radius, l.Tags, l.Terminal, l.TypeCode, l.Username, l.Version, l.VolumeShape, l.VolumeX, l.VolumeY, l.Width, l.X, l.Y, l.Z
                FROM Location AS l
                WHERE l.Username == @__user_Identity_Name_0
                ORDER BY l.LastModified DESC
            ) AS t
            ORDER BY t.LastModified DESC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
        Viking.DataModel.Annotation.AnnotationContext, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2021-11-08 11:56:39.592 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-08 11:56:39.679 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (81ms).
2021-11-08 11:56:39.714 -08:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:56:40.534 -08:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:56:40.556 -08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:56:40.842 -08:00 [INF] Executed DbCommand (294ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:56:41.016 -08:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-08 11:56:41.185 -08:00 [DBG] A data reader was disposed.
2021-11-08 11:56:41.190 -08:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:56:41.203 -08:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:56:41.225 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-08 11:56:41.226 -08:00 [DBG] Sending message.
2021-11-08 11:56:41.287 -08:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-08 11:56:41.288 -08:00 [VRB] Message sent.
2021-11-08 11:56:41.297 -08:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:56:41.303 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-08 11:56:41.304 -08:00 [VRB] Connection id "0HMD2U7EUBS1Q" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-08 11:56:41.318 -08:00 [DBG] 'AnnotationContext' disposed.
2021-11-08 11:56:41.327 -08:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 6708.2121ms
2021-11-08 11:56:56.437 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" reset.
2021-11-08 11:56:56.438 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" is closed. The last processed stream ID was 1.
2021-11-08 11:56:56.440 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" sending FIN because: "The client closed the connection."
2021-11-08 11:56:56.462 -08:00 [DBG] Connection id "0HMD2U7EUBS1Q" stopped.
2021-11-08 11:58:39.764 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" accepted.
2021-11-08 11:58:39.766 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" started.
2021-11-08 11:58:39.776 -08:00 [DBG] Connection "0HMD2U7EUBS1R" established using the following protocol: "Tls12"
2021-11-08 11:58:39.808 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-08 11:58:39.811 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:58:39.812 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-08 11:58:39.813 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:58:39.814 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:58:39.820 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:58:39.842 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "HEADERS" frame for stream ID 1 with length 1315 and flags "END_HEADERS"
2021-11-08 11:58:39.846 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-08 11:58:39.846 -08:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-08 11:58:39.848 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-08 11:58:39.850 -08:00 [VRB] All hosts are allowed.
2021-11-08 11:58:39.857 -08:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.858 -08:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.864 -08:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.865 -08:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.865 -08:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.877 -08:00 [INF] Successfully validated the token.
2021-11-08 11:58:39.878 -08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-08 11:58:39.887 -08:00 [INF] Authorization was successful.
2021-11-08 11:58:39.887 -08:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:39.888 -08:00 [DBG] Reading message.
2021-11-08 11:58:39.889 -08:00 [DBG] Connection id "0HMD2U7EUBS1R", Request id "0HMD2U7EUBS1R:00000001": started reading request body.
2021-11-08 11:58:39.889 -08:00 [DBG] Connection id "0HMD2U7EUBS1R", Request id "0HMD2U7EUBS1R:00000001": done reading request body.
2021-11-08 11:58:39.890 -08:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-08 11:58:39.890 -08:00 [VRB] Received message.
2021-11-08 11:58:39.932 -08:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-08 11:58:39.938 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-08 11:58:39.939 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-08 11:58:39.941 -08:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:58:39.943 -08:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:58:39.946 -08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:58:39.999 -08:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:58:40.002 -08:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-08 11:58:40.003 -08:00 [DBG] A data reader was disposed.
2021-11-08 11:58:40.003 -08:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:58:40.004 -08:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:58:40.005 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-08 11:58:40.006 -08:00 [DBG] Sending message.
2021-11-08 11:58:40.006 -08:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-08 11:58:40.007 -08:00 [VRB] Message sent.
2021-11-08 11:58:40.007 -08:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:58:40.008 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-08 11:58:40.008 -08:00 [VRB] Connection id "0HMD2U7EUBS1R" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-08 11:58:40.009 -08:00 [DBG] 'AnnotationContext' disposed.
2021-11-08 11:58:40.009 -08:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 162.7768ms
2021-11-08 11:58:46.567 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" reset.
2021-11-08 11:58:46.568 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" is closed. The last processed stream ID was 1.
2021-11-08 11:58:46.570 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" sending FIN because: "The client closed the connection."
2021-11-08 11:58:46.571 -08:00 [DBG] Connection id "0HMD2U7EUBS1R" stopped.
2021-11-08 11:59:07.401 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" accepted.
2021-11-08 11:59:07.401 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" started.
2021-11-08 11:59:07.414 -08:00 [DBG] Connection "0HMD2U7EUBS1S" established using the following protocol: "Tls12"
2021-11-08 11:59:07.436 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-08 11:59:07.436 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:59:07.437 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-08 11:59:07.438 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:59:07.439 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 11:59:07.443 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 11:59:07.457 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "HEADERS" frame for stream ID 1 with length 1315 and flags "END_HEADERS"
2021-11-08 11:59:07.458 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-08 11:59:07.466 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-08 11:59:07.466 -08:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-08 11:59:07.467 -08:00 [VRB] All hosts are allowed.
2021-11-08 11:59:07.468 -08:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.469 -08:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.470 -08:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.471 -08:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.475 -08:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.478 -08:00 [INF] Successfully validated the token.
2021-11-08 11:59:07.478 -08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-08 11:59:07.480 -08:00 [INF] Authorization was successful.
2021-11-08 11:59:07.484 -08:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.484 -08:00 [DBG] Reading message.
2021-11-08 11:59:07.485 -08:00 [DBG] Connection id "0HMD2U7EUBS1S", Request id "0HMD2U7EUBS1S:00000001": started reading request body.
2021-11-08 11:59:07.486 -08:00 [DBG] Connection id "0HMD2U7EUBS1S", Request id "0HMD2U7EUBS1S:00000001": done reading request body.
2021-11-08 11:59:07.486 -08:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-08 11:59:07.487 -08:00 [VRB] Received message.
2021-11-08 11:59:07.498 -08:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-08 11:59:07.499 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-08 11:59:07.500 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-08 11:59:07.501 -08:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:59:07.502 -08:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:59:07.502 -08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:59:07.559 -08:00 [INF] Executed DbCommand (57ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 11:59:07.586 -08:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-08 11:59:07.590 -08:00 [DBG] A data reader was disposed.
2021-11-08 11:59:07.590 -08:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:59:07.591 -08:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 11:59:07.592 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-08 11:59:07.593 -08:00 [DBG] Sending message.
2021-11-08 11:59:07.593 -08:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-08 11:59:07.594 -08:00 [VRB] Message sent.
2021-11-08 11:59:07.595 -08:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 11:59:07.595 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-08 11:59:07.596 -08:00 [VRB] Connection id "0HMD2U7EUBS1S" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-08 11:59:07.597 -08:00 [DBG] 'AnnotationContext' disposed.
2021-11-08 11:59:07.597 -08:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 131.0207ms
2021-11-08 11:59:08.254 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" reset.
2021-11-08 11:59:08.255 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" is closed. The last processed stream ID was 1.
2021-11-08 11:59:08.257 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" sending FIN because: "The client closed the connection."
2021-11-08 11:59:08.266 -08:00 [DBG] Connection id "0HMD2U7EUBS1S" stopped.
2021-11-08 12:00:09.567 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" accepted.
2021-11-08 12:00:09.575 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" started.
2021-11-08 12:00:09.587 -08:00 [DBG] Connection "0HMD2U7EUBS1T" established using the following protocol: "Tls12"
2021-11-08 12:00:09.610 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "SETTINGS" frame for stream ID 0 with length 18 and flags "NONE"
2021-11-08 12:00:09.611 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 12:00:09.613 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "SETTINGS" frame for stream ID 0 with length 12 and flags "NONE"
2021-11-08 12:00:09.614 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 12:00:09.616 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0
2021-11-08 12:00:09.617 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK"
2021-11-08 12:00:09.630 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "HEADERS" frame for stream ID 1 with length 1315 and flags "END_HEADERS"
2021-11-08 12:00:09.630 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "DATA" frame for stream ID 1 with length 5 and flags "NONE"
2021-11-08 12:00:09.630 -08:00 [INF] Request starting HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc -
2021-11-08 12:00:09.631 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" received "DATA" frame for stream ID 1 with length 0 and flags "END_STREAM"
2021-11-08 12:00:09.632 -08:00 [VRB] All hosts are allowed.
2021-11-08 12:00:09.633 -08:00 [DBG] 3 candidate(s) found for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.634 -08:00 [DBG] Endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' with route pattern '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.638 -08:00 [DBG] Endpoint 'gRPC - Unimplemented method for Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations' with route pattern 'Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.638 -08:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod}' is valid for the request path '/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.639 -08:00 [DBG] Request matched endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.640 -08:00 [INF] Successfully validated the token.
2021-11-08 12:00:09.640 -08:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-11-08 12:00:09.640 -08:00 [INF] Authorization was successful.
2021-11-08 12:00:09.641 -08:00 [INF] Executing endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.642 -08:00 [DBG] Reading message.
2021-11-08 12:00:09.642 -08:00 [DBG] Connection id "0HMD2U7EUBS1T", Request id "0HMD2U7EUBS1T:00000001": started reading request body.
2021-11-08 12:00:09.643 -08:00 [DBG] Connection id "0HMD2U7EUBS1T", Request id "0HMD2U7EUBS1T:00000001": done reading request body.
2021-11-08 12:00:09.643 -08:00 [VRB] Deserializing 0 byte message to 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationRequest'.
2021-11-08 12:00:09.644 -08:00 [VRB] Received message.
2021-11-08 12:00:09.645 -08:00 [INF] Entity Framework Core 5.0.11 initialized 'AnnotationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using NetTopologySuite 
2021-11-08 12:00:09.645 -08:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-11-08 12:00:09.646 -08:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-11-08 12:00:09.647 -08:00 [DBG] Opening connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 12:00:09.648 -08:00 [DBG] Opened connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 12:00:09.648 -08:00 [DBG] Executing DbCommand [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 12:00:09.696 -08:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_1='1', @__user_Identity_Name_0='jamesan' (Size = 254)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[Closed], [t].[Created], [t].[LastModified], [t].[MosaicShape], [t].[OffEdge], [t].[Overlay], [t].[ParentID], [t].[Radius], [t].[Tags], [t].[Terminal], [t].[TypeCode], [t].[Username], [t].[Version], [t].[VolumeShape], [t].[VolumeX], [t].[VolumeY], [t].[Width], [t].[X], [t].[Y], [t].[Z]
FROM (
    SELECT TOP(@__p_1) [l].[ID], [l].[Closed], [l].[Created], [l].[LastModified], [l].[MosaicShape], [l].[OffEdge], [l].[Overlay], [l].[ParentID], [l].[Radius], [l].[Tags], [l].[Terminal], [l].[TypeCode], [l].[Username], [l].[Version], [l].[VolumeShape], [l].[VolumeX], [l].[VolumeY], [l].[Width], [l].[X], [l].[Y], [l].[Z]
    FROM [Location] AS [l]
    WHERE [l].[Username] = @__user_Identity_Name_0
    ORDER BY [l].[LastModified] DESC
) AS [t]
ORDER BY [t].[LastModified] DESC
2021-11-08 12:00:09.698 -08:00 [DBG] Context 'AnnotationContext' started tracking 'Location' entity with key '{Id: 1333694}'.
2021-11-08 12:00:09.699 -08:00 [DBG] A data reader was disposed.
2021-11-08 12:00:09.700 -08:00 [DBG] Closing connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 12:00:09.701 -08:00 [DBG] Closed connection to database 'Test' on server 'OpR-Marc-DB2'.
2021-11-08 12:00:09.701 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "HEADERS" frame for stream ID 1 with length 63 and flags "END_HEADERS"
2021-11-08 12:00:09.702 -08:00 [DBG] Sending message.
2021-11-08 12:00:09.702 -08:00 [VRB] Serialized 'Viking.AnnotationServiceTypes.gRPC.V1.Protos.GetLastModifiedLocationResponse' to 118 byte message.
2021-11-08 12:00:09.703 -08:00 [VRB] Message sent.
2021-11-08 12:00:09.704 -08:00 [INF] Executed endpoint 'gRPC - /Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation'
2021-11-08 12:00:09.704 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "DATA" frame for stream ID 1 with length 123 and flags "NONE"
2021-11-08 12:00:09.705 -08:00 [VRB] Connection id "0HMD2U7EUBS1T" sending "HEADERS" frame for stream ID 1 with length 15 and flags "END_STREAM, END_HEADERS"
2021-11-08 12:00:09.705 -08:00 [DBG] 'AnnotationContext' disposed.
2021-11-08 12:00:09.706 -08:00 [INF] Request finished HTTP/2 POST https://localhost:5000/Viking.AnnotationServiceTypes.gRPC.V1.AnnotateLocations/GetLastModifiedLocation application/grpc - - 200 - application/grpc 75.3424ms
2021-11-08 12:00:09.987 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" reset.
2021-11-08 12:00:09.987 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" is closed. The last processed stream ID was 1.
2021-11-08 12:00:09.991 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" sending FIN because: "The client closed the connection."
2021-11-08 12:00:09.994 -08:00 [DBG] Connection id "0HMD2U7EUBS1T" stopped.
